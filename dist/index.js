// @bun
var Y9=Object.create;var{getPrototypeOf:X9,defineProperty:gC,getOwnPropertyNames:Z9}=Object;var H9=Object.prototype.hasOwnProperty;var T9=($,w,B)=>{B=$!=null?Y9(X9($)):{};let D=w||!$||!$.__esModule?gC(B,"default",{value:$,enumerable:!0}):B;for(let z of Z9($))if(!H9.call(D,z))gC(D,z,{get:()=>$[z],enumerable:!0});return D};var X=($,w)=>()=>(w||$((w={exports:{}}).exports,w),w.exports);var a=X((U)=>{var VB=U&&U.__extends||function(){var $=function(w,B){return $=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,z){D.__proto__=z}||function(D,z){for(var C in z)if(Object.prototype.hasOwnProperty.call(z,C))D[C]=z[C]},$(w,B)};return function(w,B){if(typeof B!=="function"&&B!==null)throw new TypeError("Class extends value "+String(B)+" is not a constructor or null");$(w,B);function D(){this.constructor=w}w.prototype=B===null?Object.create(B):(D.prototype=B.prototype,new D)}}(),c0=U&&U.__assign||function(){return c0=Object.assign||function($){for(var w,B=1,D=arguments.length;B<D;B++){w=arguments[B];for(var z in w)if(Object.prototype.hasOwnProperty.call(w,z))$[z]=w[z]}return $},c0.apply(this,arguments)},y0=U&&U.__awaiter||function($,w,B,D){function z(C){return C instanceof B?C:new B(function(W){W(C)})}return new(B||(B=Promise))(function(C,W){function E(G){try{L(D.next(G))}catch(Y){W(Y)}}function Q(G){try{L(D.throw(G))}catch(Y){W(Y)}}function L(G){G.done?C(G.value):z(G.value).then(E,Q)}L((D=D.apply($,w||[])).next())})},m0=U&&U.__generator||function($,w){var B={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},D,z,C,W;return W={next:E(0),throw:E(1),return:E(2)},typeof Symbol==="function"&&(W[Symbol.iterator]=function(){return this}),W;function E(L){return function(G){return Q([L,G])}}function Q(L){if(D)throw new TypeError("Generator is already executing.");while(W&&(W=0,L[0]&&(B=0)),B)try{if(D=1,z&&(C=L[0]&2?z.return:L[0]?z.throw||((C=z.return)&&C.call(z),0):z.next)&&!(C=C.call(z,L[1])).done)return C;if(z=0,C)L=[L[0]&2,C.value];switch(L[0]){case 0:case 1:C=L;break;case 4:return B.label++,{value:L[1],done:!1};case 5:B.label++,z=L[1],L=[0];continue;case 7:L=B.ops.pop(),B.trys.pop();continue;default:if((C=B.trys,!(C=C.length>0&&C[C.length-1]))&&(L[0]===6||L[0]===2)){B=0;continue}if(L[0]===3&&(!C||L[1]>C[0]&&L[1]<C[3])){B.label=L[1];break}if(L[0]===6&&B.label<C[1]){B.label=C[1],C=L;break}if(C&&B.label<C[2]){B.label=C[2],B.ops.push(L);break}if(C[2])B.ops.pop();B.trys.pop();continue}L=w.call($,B)}catch(G){L=[6,G],z=0}finally{D=C=0}if(L[0]&5)throw L[1];return{value:L[0]?L[1]:void 0,done:!0}}};Object.defineProperty(U,"__esModule",{value:!0});U.TextApiResponse=U.BlobApiResponse=U.VoidApiResponse=U.JSONApiResponse=U.canConsumeForm=U.mapValues=U.querystring=U.exists=U.COLLECTION_FORMATS=U.RequiredError=U.FetchError=U.ResponseError=U.BaseAPI=U.DefaultConfig=U.Configuration=U.BASE_PATH=void 0;U.BASE_PATH="https://api.pinecone.io".replace(/\/+$/,"");var Zw=function(){function $(w){if(w===void 0)w={};this.configuration=w}return Object.defineProperty($.prototype,"config",{set:function(w){this.configuration=w},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"basePath",{get:function(){return this.configuration.basePath!=null?this.configuration.basePath:U.BASE_PATH},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"fetchApi",{get:function(){return this.configuration.fetchApi},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"middleware",{get:function(){return this.configuration.middleware||[]},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"queryParamsStringify",{get:function(){return this.configuration.queryParamsStringify||MB},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"username",{get:function(){return this.configuration.username},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"password",{get:function(){return this.configuration.password},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"apiKey",{get:function(){var w=this.configuration.apiKey;if(w)return typeof w==="function"?w:function(){return w};return},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"accessToken",{get:function(){var w=this,B=this.configuration.accessToken;if(B)return typeof B==="function"?B:function(){return y0(w,void 0,void 0,function(){return m0(this,function(D){return[2,B]})})};return},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"headers",{get:function(){return this.configuration.headers},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"credentials",{get:function(){return this.configuration.credentials},enumerable:!1,configurable:!0}),$}();U.Configuration=Zw;U.DefaultConfig=new Zw;var yG=function(){function $(w){if(w===void 0)w=U.DefaultConfig;var B=this;this.configuration=w,this.fetchApi=function(D,z){return y0(B,void 0,void 0,function(){var C,W,E,H,Q,L,G,Y,H,h,I,H;return m0(this,function(Z){switch(Z.label){case 0:C={url:D,init:z},W=0,E=this.middleware,Z.label=1;case 1:if(!(W<E.length))return[3,4];if(H=E[W],!H.pre)return[3,3];return[4,H.pre(c0({fetch:this.fetchApi},C))];case 2:C=Z.sent()||C,Z.label=3;case 3:return W++,[3,1];case 4:Q=void 0,Z.label=5;case 5:return Z.trys.push([5,7,,12]),[4,(this.configuration.fetchApi||fetch)(C.url,C.init)];case 6:return Q=Z.sent(),[3,12];case 7:L=Z.sent(),G=0,Y=this.middleware,Z.label=8;case 8:if(!(G<Y.length))return[3,11];if(H=Y[G],!H.onError)return[3,10];return[4,H.onError({fetch:this.fetchApi,url:C.url,init:C.init,error:L,response:Q?Q.clone():void 0})];case 9:Q=Z.sent()||Q,Z.label=10;case 10:return G++,[3,8];case 11:if(Q===void 0)if(L instanceof Error)throw new Tw(L,"The request failed and the interceptors did not return an alternative response");else throw L;return[3,12];case 12:h=0,I=this.middleware,Z.label=13;case 13:if(!(h<I.length))return[3,16];if(H=I[h],!H.post)return[3,15];return[4,H.post({fetch:this.fetchApi,url:C.url,init:C.init,response:Q.clone()})];case 14:Q=Z.sent()||Q,Z.label=15;case 15:return h++,[3,13];case 16:return[2,Q]}})})},this.middleware=w.middleware}return $.prototype.withMiddleware=function(){var w,B=[];for(var D=0;D<arguments.length;D++)B[D]=arguments[D];var z=this.clone();return z.middleware=(w=z.middleware).concat.apply(w,B),z},$.prototype.withPreMiddleware=function(){var w=[];for(var B=0;B<arguments.length;B++)w[B]=arguments[B];var D=w.map(function(z){return{pre:z}});return this.withMiddleware.apply(this,D)},$.prototype.withPostMiddleware=function(){var w=[];for(var B=0;B<arguments.length;B++)w[B]=arguments[B];var D=w.map(function(z){return{post:z}});return this.withMiddleware.apply(this,D)},$.prototype.isJsonMime=function(w){if(!w)return!1;return $.jsonRegex.test(w)},$.prototype.request=function(w,B){return y0(this,void 0,void 0,function(){var D,z,C,W;return m0(this,function(E){switch(E.label){case 0:return[4,this.createFetchParams(w,B)];case 1:return D=E.sent(),z=D.url,C=D.init,[4,this.fetchApi(z,C)];case 2:if(W=E.sent(),W&&(W.status>=200&&W.status<300))return[2,W];throw new Hw(W,"Response returned an error code")}})})},$.prototype.createFetchParams=function(w,B){return y0(this,void 0,void 0,function(){var D,z,C,W,E,Q,L,G,Y=this;return m0(this,function(h){switch(h.label){case 0:if(D=this.configuration.basePath+w.path,w.query!==void 0&&Object.keys(w.query).length!==0)D+="?"+this.configuration.queryParamsStringify(w.query);return z=Object.assign({},this.configuration.headers,w.headers),Object.keys(z).forEach(function(I){return z[I]===void 0?delete z[I]:{}}),C=typeof B==="function"?B:function(){return y0(Y,void 0,void 0,function(){return m0(this,function(I){return[2,B]})})},W={method:w.method,headers:z,body:w.body,credentials:this.configuration.credentials},Q=[c0({},W)],[4,C({init:W,context:w})];case 1:if(E=c0.apply(void 0,Q.concat([h.sent()])),gG(E.body)||E.body instanceof URLSearchParams||mG(E.body))L=E.body;else if(this.isJsonMime(z["Content-Type"]))L=JSON.stringify(E.body);else L=E.body;return G=c0(c0({},E),{body:L}),[2,{url:D,init:G}]}})})},$.prototype.clone=function(){var w=this.constructor,B=new w(this.configuration);return B.middleware=this.middleware.slice(),B},$.jsonRegex=new RegExp("^(:?application/json|[^;/ \t]+/[^;/ \t]+[+]json)[ \t]*(:?;.*)?$","i"),$}();U.BaseAPI=yG;function mG($){return typeof Blob!=="undefined"&&$ instanceof Blob}function gG($){return typeof FormData!=="undefined"&&$ instanceof FormData}var Hw=function($){VB(w,$);function w(B,D){var z=$.call(this,D)||this;return z.response=B,z.name="ResponseError",z}return w}(Error);U.ResponseError=Hw;var Tw=function($){VB(w,$);function w(B,D){var z=$.call(this,D)||this;return z.cause=B,z.name="FetchError",z}return w}(Error);U.FetchError=Tw;var PG=function($){VB(w,$);function w(B,D){var z=$.call(this,D)||this;return z.field=B,z.name="RequiredError",z}return w}(Error);U.RequiredError=PG;U.COLLECTION_FORMATS={csv:",",ssv:" ",tsv:"\t",pipes:"|"};function jG($,w){var B=$[w];return B!==null&&B!==void 0}U.exists=jG;function MB($,w){if(w===void 0)w="";return Object.keys($).map(function(B){return Kw(B,$[B],w)}).filter(function(B){return B.length>0}).join("&")}U.querystring=MB;function Kw($,w,B){if(B===void 0)B="";var D=B+(B.length?"[".concat($,"]"):$);if(w instanceof Array){var z=w.map(function(W){return encodeURIComponent(String(W))}).join("&".concat(encodeURIComponent(D),"="));return"".concat(encodeURIComponent(D),"=").concat(z)}if(w instanceof Set){var C=Array.from(w);return Kw($,C,B)}if(w instanceof Date)return"".concat(encodeURIComponent(D),"=").concat(encodeURIComponent(w.toISOString()));if(w instanceof Object)return MB(w,D);return"".concat(encodeURIComponent(D),"=").concat(encodeURIComponent(String(w)))}function dG($,w){return Object.keys($).reduce(function(B,D){var z;return c0(c0({},B),(z={},z[D]=w($[D]),z))},{})}U.mapValues=dG;function xG($){for(var w=0,B=$;w<B.length;w++){var D=B[w];if(D.contentType==="multipart/form-data")return!0}return!1}U.canConsumeForm=xG;var lG=function(){function $(w,B){if(B===void 0)B=function(D){return D};this.raw=w,this.transformer=B}return $.prototype.value=function(){return y0(this,void 0,void 0,function(){var w;return m0(this,function(B){switch(B.label){case 0:return w=this.transformer,[4,this.raw.json()];case 1:return[2,w.apply(this,[B.sent()])]}})})},$}();U.JSONApiResponse=lG;var vG=function(){function $(w){this.raw=w}return $.prototype.value=function(){return y0(this,void 0,void 0,function(){return m0(this,function(w){return[2,void 0]})})},$}();U.VoidApiResponse=vG;var uG=function(){function $(w){this.raw=w}return $.prototype.value=function(){return y0(this,void 0,void 0,function(){return m0(this,function(w){switch(w.label){case 0:return[4,this.raw.blob()];case 1:return[2,w.sent()]}})})},$}();U.BlobApiResponse=uG;var iG=function(){function $(w){this.raw=w}return $.prototype.value=function(){return y0(this,void 0,void 0,function(){return m0(this,function(w){switch(w.label){case 0:return[4,this.raw.text()];case 1:return[2,w.sent()]}})})},$}();U.TextApiResponse=iG});var FB=X((Iw)=>{Object.defineProperty(Iw,"__esModule",{value:!0});Iw.CollectionModelToJSON=Iw.CollectionModelFromJSONTyped=Iw.CollectionModelFromJSON=Iw.instanceOfCollectionModel=Iw.CollectionModelStatusEnum=void 0;var NB=a();Iw.CollectionModelStatusEnum={Initializing:"Initializing",Ready:"Ready",Terminating:"Terminating"};function nG($){var w=!0;return w=w&&"name"in $,w=w&&"status"in $,w=w&&"environment"in $,w}Iw.instanceOfCollectionModel=nG;function _G($){return hw($,!1)}Iw.CollectionModelFromJSON=_G;function hw($,w){if($===void 0||$===null)return $;return{name:$.name,size:!NB.exists($,"size")?void 0:$.size,status:$.status,dimension:!NB.exists($,"dimension")?void 0:$.dimension,vectorCount:!NB.exists($,"vector_count")?void 0:$.vector_count,environment:$.environment}}Iw.CollectionModelFromJSONTyped=hw;function aG($){if($===void 0)return;if($===null)return null;return{name:$.name,size:$.size,status:$.status,dimension:$.dimension,vector_count:$.vectorCount,environment:$.environment}}Iw.CollectionModelToJSON=aG});var Jw=X((Nw)=>{Object.defineProperty(Nw,"__esModule",{value:!0});Nw.CollectionListToJSON=Nw.CollectionListFromJSONTyped=Nw.CollectionListFromJSON=Nw.instanceOfCollectionList=void 0;var oG=a(),Vw=FB();function eG($){var w=!0;return w}Nw.instanceOfCollectionList=eG;function $4($){return Mw($,!1)}Nw.CollectionListFromJSON=$4;function Mw($,w){if($===void 0||$===null)return $;return{collections:!oG.exists($,"collections")?void 0:$.collections.map(Vw.CollectionModelFromJSON)}}Nw.CollectionListFromJSONTyped=Mw;function B4($){if($===void 0)return;if($===null)return null;return{collections:$.collections===void 0?void 0:$.collections.map(Vw.CollectionModelToJSON)}}Nw.CollectionListToJSON=B4});var JB=X((Rw)=>{Object.defineProperty(Rw,"__esModule",{value:!0});Rw.ConfigureIndexRequestSpecPodToJSON=Rw.ConfigureIndexRequestSpecPodFromJSONTyped=Rw.ConfigureIndexRequestSpecPodFromJSON=Rw.instanceOfConfigureIndexRequestSpecPod=void 0;var Aw=a();function z4($){var w=!0;return w}Rw.instanceOfConfigureIndexRequestSpecPod=z4;function D4($){return fw($,!1)}Rw.ConfigureIndexRequestSpecPodFromJSON=D4;function fw($,w){if($===void 0||$===null)return $;return{replicas:!Aw.exists($,"replicas")?void 0:$.replicas,podType:!Aw.exists($,"pod_type")?void 0:$.pod_type}}Rw.ConfigureIndexRequestSpecPodFromJSONTyped=fw;function W4($){if($===void 0)return;if($===null)return null;return{replicas:$.replicas,pod_type:$.podType}}Rw.ConfigureIndexRequestSpecPodToJSON=W4});var AB=X((qw)=>{Object.defineProperty(qw,"__esModule",{value:!0});qw.ConfigureIndexRequestSpecToJSON=qw.ConfigureIndexRequestSpecFromJSONTyped=qw.ConfigureIndexRequestSpecFromJSON=qw.instanceOfConfigureIndexRequestSpec=void 0;var Ow=JB();function Y4($){var w=!0;return w=w&&"pod"in $,w}qw.instanceOfConfigureIndexRequestSpec=Y4;function X4($){return bw($,!1)}qw.ConfigureIndexRequestSpecFromJSON=X4;function bw($,w){if($===void 0||$===null)return $;return{pod:Ow.ConfigureIndexRequestSpecPodFromJSON($.pod)}}qw.ConfigureIndexRequestSpecFromJSONTyped=bw;function Z4($){if($===void 0)return;if($===null)return null;return{pod:Ow.ConfigureIndexRequestSpecPodToJSON($.pod)}}qw.ConfigureIndexRequestSpecToJSON=Z4});var z$=X((yw)=>{Object.defineProperty(yw,"__esModule",{value:!0});yw.DeletionProtectionToJSON=yw.DeletionProtectionFromJSONTyped=yw.DeletionProtectionFromJSON=yw.DeletionProtection=void 0;yw.DeletionProtection={Disabled:"disabled",Enabled:"enabled"};function h4($){return cw($,!1)}yw.DeletionProtectionFromJSON=h4;function cw($,w){return $}yw.DeletionProtectionFromJSONTyped=cw;function I4($){return $}yw.DeletionProtectionToJSON=I4});var lw=X((dw)=>{Object.defineProperty(dw,"__esModule",{value:!0});dw.ConfigureIndexRequestToJSON=dw.ConfigureIndexRequestFromJSONTyped=dw.ConfigureIndexRequestFromJSON=dw.instanceOfConfigureIndexRequest=void 0;var fB=a(),gw=AB(),Pw=z$();function N4($){var w=!0;return w}dw.instanceOfConfigureIndexRequest=N4;function F4($){return jw($,!1)}dw.ConfigureIndexRequestFromJSON=F4;function jw($,w){if($===void 0||$===null)return $;return{spec:!fB.exists($,"spec")?void 0:gw.ConfigureIndexRequestSpecFromJSON($.spec),deletionProtection:!fB.exists($,"deletion_protection")?void 0:Pw.DeletionProtectionFromJSON($.deletion_protection),tags:!fB.exists($,"tags")?void 0:$.tags}}dw.ConfigureIndexRequestFromJSONTyped=jw;function J4($){if($===void 0)return;if($===null)return null;return{spec:gw.ConfigureIndexRequestSpecToJSON($.spec),deletion_protection:Pw.DeletionProtectionToJSON($.deletionProtection),tags:$.tags}}dw.ConfigureIndexRequestToJSON=J4});var nw=X((uw)=>{Object.defineProperty(uw,"__esModule",{value:!0});uw.CreateCollectionRequestToJSON=uw.CreateCollectionRequestFromJSONTyped=uw.CreateCollectionRequestFromJSON=uw.instanceOfCreateCollectionRequest=void 0;function S4($){var w=!0;return w=w&&"name"in $,w=w&&"source"in $,w}uw.instanceOfCreateCollectionRequest=S4;function O4($){return vw($,!1)}uw.CreateCollectionRequestFromJSON=O4;function vw($,w){if($===void 0||$===null)return $;return{name:$.name,source:$.source}}uw.CreateCollectionRequestFromJSONTyped=vw;function b4($){if($===void 0)return;if($===null)return null;return{name:$.name,source:$.source}}uw.CreateCollectionRequestToJSON=b4});var RB=X((aw)=>{Object.defineProperty(aw,"__esModule",{value:!0});aw.PodSpecMetadataConfigToJSON=aw.PodSpecMetadataConfigFromJSONTyped=aw.PodSpecMetadataConfigFromJSON=aw.instanceOfPodSpecMetadataConfig=void 0;var y4=a();function m4($){var w=!0;return w}aw.instanceOfPodSpecMetadataConfig=m4;function g4($){return _w($,!1)}aw.PodSpecMetadataConfigFromJSON=g4;function _w($,w){if($===void 0||$===null)return $;return{indexed:!y4.exists($,"indexed")?void 0:$.indexed}}aw.PodSpecMetadataConfigFromJSONTyped=_w;function P4($){if($===void 0)return;if($===null)return null;return{indexed:$.indexed}}aw.PodSpecMetadataConfigToJSON=P4});var h$=X((rw)=>{Object.defineProperty(rw,"__esModule",{value:!0});rw.PodSpecToJSON=rw.PodSpecFromJSONTyped=rw.PodSpecFromJSON=rw.instanceOfPodSpec=void 0;var D$=a(),sw=RB();function l4($){var w=!0;return w=w&&"environment"in $,w=w&&"podType"in $,w}rw.instanceOfPodSpec=l4;function v4($){return pw($,!1)}rw.PodSpecFromJSON=v4;function pw($,w){if($===void 0||$===null)return $;return{environment:$.environment,replicas:!D$.exists($,"replicas")?void 0:$.replicas,shards:!D$.exists($,"shards")?void 0:$.shards,podType:$.pod_type,pods:!D$.exists($,"pods")?void 0:$.pods,metadataConfig:!D$.exists($,"metadata_config")?void 0:sw.PodSpecMetadataConfigFromJSON($.metadata_config),sourceCollection:!D$.exists($,"source_collection")?void 0:$.source_collection}}rw.PodSpecFromJSONTyped=pw;function u4($){if($===void 0)return;if($===null)return null;return{environment:$.environment,replicas:$.replicas,shards:$.shards,pod_type:$.podType,pods:$.pods,metadata_config:sw.PodSpecMetadataConfigToJSON($.metadataConfig),source_collection:$.sourceCollection}}rw.PodSpecToJSON=u4});var I$=X(($L)=>{Object.defineProperty($L,"__esModule",{value:!0});$L.ServerlessSpecToJSON=$L.ServerlessSpecFromJSONTyped=$L.ServerlessSpecFromJSON=$L.instanceOfServerlessSpec=$L.ServerlessSpecCloudEnum=void 0;$L.ServerlessSpecCloudEnum={Gcp:"gcp",Aws:"aws",Azure:"azure"};function a4($){var w=!0;return w=w&&"cloud"in $,w=w&&"region"in $,w}$L.instanceOfServerlessSpec=a4;function t4($){return ew($,!1)}$L.ServerlessSpecFromJSON=t4;function ew($,w){if($===void 0||$===null)return $;return{cloud:$.cloud,region:$.region}}$L.ServerlessSpecFromJSONTyped=ew;function s4($){if($===void 0)return;if($===null)return null;return{cloud:$.cloud,region:$.region}}$L.ServerlessSpecToJSON=s4});var SB=X((DL)=>{Object.defineProperty(DL,"__esModule",{value:!0});DL.IndexSpecToJSON=DL.IndexSpecFromJSONTyped=DL.IndexSpecFromJSON=DL.instanceOfIndexSpec=void 0;var CL=a(),wL=h$(),LL=I$();function $7($){var w=!0;return w}DL.instanceOfIndexSpec=$7;function B7($){return zL($,!1)}DL.IndexSpecFromJSON=B7;function zL($,w){if($===void 0||$===null)return $;return{serverless:!CL.exists($,"serverless")?void 0:LL.ServerlessSpecFromJSON($.serverless),pod:!CL.exists($,"pod")?void 0:wL.PodSpecFromJSON($.pod)}}DL.IndexSpecFromJSONTyped=zL;function C7($){if($===void 0)return;if($===null)return null;return{serverless:LL.ServerlessSpecToJSON($.serverless),pod:wL.PodSpecToJSON($.pod)}}DL.IndexSpecToJSON=C7});var ZL=X((YL)=>{Object.defineProperty(YL,"__esModule",{value:!0});YL.CreateIndexRequestToJSON=YL.CreateIndexRequestFromJSONTyped=YL.CreateIndexRequestFromJSON=YL.instanceOfCreateIndexRequest=YL.CreateIndexRequestMetricEnum=void 0;var OB=a(),GL=z$(),EL=SB();YL.CreateIndexRequestMetricEnum={Cosine:"cosine",Euclidean:"euclidean",Dotproduct:"dotproduct"};function D7($){var w=!0;return w=w&&"name"in $,w=w&&"dimension"in $,w=w&&"spec"in $,w}YL.instanceOfCreateIndexRequest=D7;function W7($){return QL($,!1)}YL.CreateIndexRequestFromJSON=W7;function QL($,w){if($===void 0||$===null)return $;return{name:$.name,dimension:$.dimension,metric:!OB.exists($,"metric")?void 0:$.metric,deletionProtection:!OB.exists($,"deletion_protection")?void 0:GL.DeletionProtectionFromJSON($.deletion_protection),tags:!OB.exists($,"tags")?void 0:$.tags,spec:EL.IndexSpecFromJSON($.spec)}}YL.CreateIndexRequestFromJSONTyped=QL;function G7($){if($===void 0)return;if($===null)return null;return{name:$.name,dimension:$.dimension,metric:$.metric,deletion_protection:GL.DeletionProtectionToJSON($.deletionProtection),tags:$.tags,spec:EL.IndexSpecToJSON($.spec)}}YL.CreateIndexRequestToJSON=G7});var bB=X((TL)=>{Object.defineProperty(TL,"__esModule",{value:!0});TL.ErrorResponseErrorToJSON=TL.ErrorResponseErrorFromJSONTyped=TL.ErrorResponseErrorFromJSON=TL.instanceOfErrorResponseError=TL.ErrorResponseErrorCodeEnum=void 0;var Z7=a();TL.ErrorResponseErrorCodeEnum={Ok:"OK",Unknown:"UNKNOWN",InvalidArgument:"INVALID_ARGUMENT",DeadlineExceeded:"DEADLINE_EXCEEDED",QuotaExceeded:"QUOTA_EXCEEDED",NotFound:"NOT_FOUND",AlreadyExists:"ALREADY_EXISTS",PermissionDenied:"PERMISSION_DENIED",Unauthenticated:"UNAUTHENTICATED",ResourceExhausted:"RESOURCE_EXHAUSTED",FailedPrecondition:"FAILED_PRECONDITION",Aborted:"ABORTED",OutOfRange:"OUT_OF_RANGE",Unimplemented:"UNIMPLEMENTED",Internal:"INTERNAL",Unavailable:"UNAVAILABLE",DataLoss:"DATA_LOSS",Forbidden:"FORBIDDEN",UnprocessableEntity:"UNPROCESSABLE_ENTITY",PaymentRequired:"PAYMENT_REQUIRED"};function H7($){var w=!0;return w=w&&"code"in $,w=w&&"message"in $,w}TL.instanceOfErrorResponseError=H7;function T7($){return HL($,!1)}TL.ErrorResponseErrorFromJSON=T7;function HL($,w){if($===void 0||$===null)return $;return{code:$.code,message:$.message,details:!Z7.exists($,"details")?void 0:$.details}}TL.ErrorResponseErrorFromJSONTyped=HL;function K7($){if($===void 0)return;if($===null)return null;return{code:$.code,message:$.message,details:$.details}}TL.ErrorResponseErrorToJSON=K7});var ML=X((UL)=>{Object.defineProperty(UL,"__esModule",{value:!0});UL.ErrorResponseToJSON=UL.ErrorResponseFromJSONTyped=UL.ErrorResponseFromJSON=UL.instanceOfErrorResponse=void 0;var hL=bB();function M7($){var w=!0;return w=w&&"status"in $,w=w&&"error"in $,w}UL.instanceOfErrorResponse=M7;function N7($){return IL($,!1)}UL.ErrorResponseFromJSON=N7;function IL($,w){if($===void 0||$===null)return $;return{status:$.status,error:hL.ErrorResponseErrorFromJSON($.error)}}UL.ErrorResponseFromJSONTyped=IL;function F7($){if($===void 0)return;if($===null)return null;return{status:$.status,error:hL.ErrorResponseErrorToJSON($.error)}}UL.ErrorResponseToJSON=F7});var qB=X((fL)=>{Object.defineProperty(fL,"__esModule",{value:!0});fL.IndexModelSpecToJSON=fL.IndexModelSpecFromJSONTyped=fL.IndexModelSpecFromJSON=fL.instanceOfIndexModelSpec=void 0;var NL=a(),FL=h$(),JL=I$();function R7($){var w=!0;return w}fL.instanceOfIndexModelSpec=R7;function S7($){return AL($,!1)}fL.IndexModelSpecFromJSON=S7;function AL($,w){if($===void 0||$===null)return $;return{pod:!NL.exists($,"pod")?void 0:FL.PodSpecFromJSON($.pod),serverless:!NL.exists($,"serverless")?void 0:JL.ServerlessSpecFromJSON($.serverless)}}fL.IndexModelSpecFromJSONTyped=AL;function O7($){if($===void 0)return;if($===null)return null;return{pod:FL.PodSpecToJSON($.pod),serverless:JL.ServerlessSpecToJSON($.serverless)}}fL.IndexModelSpecToJSON=O7});var kB=X((OL)=>{Object.defineProperty(OL,"__esModule",{value:!0});OL.IndexModelStatusToJSON=OL.IndexModelStatusFromJSONTyped=OL.IndexModelStatusFromJSON=OL.instanceOfIndexModelStatus=OL.IndexModelStatusStateEnum=void 0;OL.IndexModelStatusStateEnum={Initializing:"Initializing",InitializationFailed:"InitializationFailed",ScalingUp:"ScalingUp",ScalingDown:"ScalingDown",ScalingUpPodSize:"ScalingUpPodSize",ScalingDownPodSize:"ScalingDownPodSize",Terminating:"Terminating",Ready:"Ready"};function c7($){var w=!0;return w=w&&"ready"in $,w=w&&"state"in $,w}OL.instanceOfIndexModelStatus=c7;function y7($){return SL($,!1)}OL.IndexModelStatusFromJSON=y7;function SL($,w){if($===void 0||$===null)return $;return{ready:$.ready,state:$.state}}OL.IndexModelStatusFromJSONTyped=SL;function m7($){if($===void 0)return;if($===null)return null;return{ready:$.ready,state:$.state}}OL.IndexModelStatusToJSON=m7});var cB=X((gL)=>{Object.defineProperty(gL,"__esModule",{value:!0});gL.IndexModelToJSON=gL.IndexModelFromJSONTyped=gL.IndexModelFromJSON=gL.instanceOfIndexModel=gL.IndexModelMetricEnum=void 0;var qL=a(),kL=z$(),cL=qB(),yL=kB();gL.IndexModelMetricEnum={Cosine:"cosine",Euclidean:"euclidean",Dotproduct:"dotproduct"};function x7($){var w=!0;return w=w&&"name"in $,w=w&&"dimension"in $,w=w&&"metric"in $,w=w&&"host"in $,w=w&&"spec"in $,w=w&&"status"in $,w}gL.instanceOfIndexModel=x7;function l7($){return mL($,!1)}gL.IndexModelFromJSON=l7;function mL($,w){if($===void 0||$===null)return $;return{name:$.name,dimension:$.dimension,metric:$.metric,host:$.host,deletionProtection:!qL.exists($,"deletion_protection")?void 0:kL.DeletionProtectionFromJSON($.deletion_protection),tags:!qL.exists($,"tags")?void 0:$.tags,spec:cL.IndexModelSpecFromJSON($.spec),status:yL.IndexModelStatusFromJSON($.status)}}gL.IndexModelFromJSONTyped=mL;function v7($){if($===void 0)return;if($===null)return null;return{name:$.name,dimension:$.dimension,metric:$.metric,host:$.host,deletion_protection:kL.DeletionProtectionToJSON($.deletionProtection),tags:$.tags,spec:cL.IndexModelSpecToJSON($.spec),status:yL.IndexModelStatusToJSON($.status)}}gL.IndexModelToJSON=v7});var vL=X((xL)=>{Object.defineProperty(xL,"__esModule",{value:!0});xL.IndexListToJSON=xL.IndexListFromJSONTyped=xL.IndexListFromJSON=xL.instanceOfIndexList=void 0;var a7=a(),jL=cB();function t7($){var w=!0;return w}xL.instanceOfIndexList=t7;function s7($){return dL($,!1)}xL.IndexListFromJSON=s7;function dL($,w){if($===void 0||$===null)return $;return{indexes:!a7.exists($,"indexes")?void 0:$.indexes.map(jL.IndexModelFromJSON)}}xL.IndexListFromJSONTyped=dL;function p7($){if($===void 0)return;if($===null)return null;return{indexes:$.indexes===void 0?void 0:$.indexes.map(jL.IndexModelToJSON)}}xL.IndexListToJSON=p7});var yB=X((b)=>{var $E=b&&b.__createBinding||(Object.create?function($,w,B,D){if(D===void 0)D=B;var z=Object.getOwnPropertyDescriptor(w,B);if(!z||("get"in z?!w.__esModule:z.writable||z.configurable))z={enumerable:!0,get:function(){return w[B]}};Object.defineProperty($,D,z)}:function($,w,B,D){if(D===void 0)D=B;$[D]=w[B]}),m=b&&b.__exportStar||function($,w){for(var B in $)if(B!=="default"&&!Object.prototype.hasOwnProperty.call(w,B))$E(w,$,B)};Object.defineProperty(b,"__esModule",{value:!0});m(Jw(),b);m(FB(),b);m(lw(),b);m(AB(),b);m(JB(),b);m(nw(),b);m(ZL(),b);m(z$(),b);m(ML(),b);m(bB(),b);m(vL(),b);m(cB(),b);m(qB(),b);m(kB(),b);m(SB(),b);m(h$(),b);m(RB(),b);m(I$(),b)});var uL=X((v)=>{var BE=v&&v.__extends||function(){var $=function(w,B){return $=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,z){D.__proto__=z}||function(D,z){for(var C in z)if(Object.prototype.hasOwnProperty.call(z,C))D[C]=z[C]},$(w,B)};return function(w,B){if(typeof B!=="function"&&B!==null)throw new TypeError("Class extends value "+String(B)+" is not a constructor or null");$(w,B);function D(){this.constructor=w}w.prototype=B===null?Object.create(B):(D.prototype=B.prototype,new D)}}(),CE=v&&v.__createBinding||(Object.create?function($,w,B,D){if(D===void 0)D=B;var z=Object.getOwnPropertyDescriptor(w,B);if(!z||("get"in z?!w.__esModule:z.writable||z.configurable))z={enumerable:!0,get:function(){return w[B]}};Object.defineProperty($,D,z)}:function($,w,B,D){if(D===void 0)D=B;$[D]=w[B]}),wE=v&&v.__setModuleDefault||(Object.create?function($,w){Object.defineProperty($,"default",{enumerable:!0,value:w})}:function($,w){$.default=w}),LE=v&&v.__importStar||function($){if($&&$.__esModule)return $;var w={};if($!=null){for(var B in $)if(B!=="default"&&Object.prototype.hasOwnProperty.call($,B))CE(w,$,B)}return wE(w,$),w},g=v&&v.__awaiter||function($,w,B,D){function z(C){return C instanceof B?C:new B(function(W){W(C)})}return new(B||(B=Promise))(function(C,W){function E(G){try{L(D.next(G))}catch(Y){W(Y)}}function Q(G){try{L(D.throw(G))}catch(Y){W(Y)}}function L(G){G.done?C(G.value):z(G.value).then(E,Q)}L((D=D.apply($,w||[])).next())})},P=v&&v.__generator||function($,w){var B={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},D,z,C,W;return W={next:E(0),throw:E(1),return:E(2)},typeof Symbol==="function"&&(W[Symbol.iterator]=function(){return this}),W;function E(L){return function(G){return Q([L,G])}}function Q(L){if(D)throw new TypeError("Generator is already executing.");while(W&&(W=0,L[0]&&(B=0)),B)try{if(D=1,z&&(C=L[0]&2?z.return:L[0]?z.throw||((C=z.return)&&C.call(z),0):z.next)&&!(C=C.call(z,L[1])).done)return C;if(z=0,C)L=[L[0]&2,C.value];switch(L[0]){case 0:case 1:C=L;break;case 4:return B.label++,{value:L[1],done:!1};case 5:B.label++,z=L[1],L=[0];continue;case 7:L=B.ops.pop(),B.trys.pop();continue;default:if((C=B.trys,!(C=C.length>0&&C[C.length-1]))&&(L[0]===6||L[0]===2)){B=0;continue}if(L[0]===3&&(!C||L[1]>C[0]&&L[1]<C[3])){B.label=L[1];break}if(L[0]===6&&B.label<C[1]){B.label=C[1],C=L;break}if(C&&B.label<C[2]){B.label=C[2],B.ops.push(L);break}if(C[2])B.ops.pop();B.trys.pop();continue}L=w.call($,B)}catch(G){L=[6,G],z=0}finally{D=C=0}if(L[0]&5)throw L[1];return{value:L[0]?L[1]:void 0,done:!0}}};Object.defineProperty(v,"__esModule",{value:!0});v.ManageIndexesApi=void 0;var j=LE(a()),Q0=yB(),zE=function($){BE(w,$);function w(){return $!==null&&$.apply(this,arguments)||this}return w.prototype.configureIndexRaw=function(B,D){return g(this,void 0,void 0,function(){var z,C,W;return P(this,function(E){switch(E.label){case 0:if(B.indexName===null||B.indexName===void 0)throw new j.RequiredError("indexName","Required parameter requestParameters.indexName was null or undefined when calling configureIndex.");if(B.configureIndexRequest===null||B.configureIndexRequest===void 0)throw new j.RequiredError("configureIndexRequest","Required parameter requestParameters.configureIndexRequest was null or undefined when calling configureIndex.");if(z={},C={},C["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey)C["Api-Key"]=this.configuration.apiKey("Api-Key");return[4,this.request({path:"/indexes/{index_name}".replace("{".concat("index_name","}"),encodeURIComponent(String(B.indexName))),method:"PATCH",headers:C,query:z,body:Q0.ConfigureIndexRequestToJSON(B.configureIndexRequest)},D)];case 1:return W=E.sent(),[2,new j.JSONApiResponse(W,function(Q){return Q0.IndexModelFromJSON(Q)})]}})})},w.prototype.configureIndex=function(B,D){return g(this,void 0,void 0,function(){var z;return P(this,function(C){switch(C.label){case 0:return[4,this.configureIndexRaw(B,D)];case 1:return z=C.sent(),[4,z.value()];case 2:return[2,C.sent()]}})})},w.prototype.createCollectionRaw=function(B,D){return g(this,void 0,void 0,function(){var z,C,W;return P(this,function(E){switch(E.label){case 0:if(B.createCollectionRequest===null||B.createCollectionRequest===void 0)throw new j.RequiredError("createCollectionRequest","Required parameter requestParameters.createCollectionRequest was null or undefined when calling createCollection.");if(z={},C={},C["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey)C["Api-Key"]=this.configuration.apiKey("Api-Key");return[4,this.request({path:"/collections",method:"POST",headers:C,query:z,body:Q0.CreateCollectionRequestToJSON(B.createCollectionRequest)},D)];case 1:return W=E.sent(),[2,new j.JSONApiResponse(W,function(Q){return Q0.CollectionModelFromJSON(Q)})]}})})},w.prototype.createCollection=function(B,D){return g(this,void 0,void 0,function(){var z;return P(this,function(C){switch(C.label){case 0:return[4,this.createCollectionRaw(B,D)];case 1:return z=C.sent(),[4,z.value()];case 2:return[2,C.sent()]}})})},w.prototype.createIndexRaw=function(B,D){return g(this,void 0,void 0,function(){var z,C,W;return P(this,function(E){switch(E.label){case 0:if(B.createIndexRequest===null||B.createIndexRequest===void 0)throw new j.RequiredError("createIndexRequest","Required parameter requestParameters.createIndexRequest was null or undefined when calling createIndex.");if(z={},C={},C["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey)C["Api-Key"]=this.configuration.apiKey("Api-Key");return[4,this.request({path:"/indexes",method:"POST",headers:C,query:z,body:Q0.CreateIndexRequestToJSON(B.createIndexRequest)},D)];case 1:return W=E.sent(),[2,new j.JSONApiResponse(W,function(Q){return Q0.IndexModelFromJSON(Q)})]}})})},w.prototype.createIndex=function(B,D){return g(this,void 0,void 0,function(){var z;return P(this,function(C){switch(C.label){case 0:return[4,this.createIndexRaw(B,D)];case 1:return z=C.sent(),[4,z.value()];case 2:return[2,C.sent()]}})})},w.prototype.deleteCollectionRaw=function(B,D){return g(this,void 0,void 0,function(){var z,C,W;return P(this,function(E){switch(E.label){case 0:if(B.collectionName===null||B.collectionName===void 0)throw new j.RequiredError("collectionName","Required parameter requestParameters.collectionName was null or undefined when calling deleteCollection.");if(z={},C={},this.configuration&&this.configuration.apiKey)C["Api-Key"]=this.configuration.apiKey("Api-Key");return[4,this.request({path:"/collections/{collection_name}".replace("{".concat("collection_name","}"),encodeURIComponent(String(B.collectionName))),method:"DELETE",headers:C,query:z},D)];case 1:return W=E.sent(),[2,new j.VoidApiResponse(W)]}})})},w.prototype.deleteCollection=function(B,D){return g(this,void 0,void 0,function(){return P(this,function(z){switch(z.label){case 0:return[4,this.deleteCollectionRaw(B,D)];case 1:return z.sent(),[2]}})})},w.prototype.deleteIndexRaw=function(B,D){return g(this,void 0,void 0,function(){var z,C,W;return P(this,function(E){switch(E.label){case 0:if(B.indexName===null||B.indexName===void 0)throw new j.RequiredError("indexName","Required parameter requestParameters.indexName was null or undefined when calling deleteIndex.");if(z={},C={},this.configuration&&this.configuration.apiKey)C["Api-Key"]=this.configuration.apiKey("Api-Key");return[4,this.request({path:"/indexes/{index_name}".replace("{".concat("index_name","}"),encodeURIComponent(String(B.indexName))),method:"DELETE",headers:C,query:z},D)];case 1:return W=E.sent(),[2,new j.VoidApiResponse(W)]}})})},w.prototype.deleteIndex=function(B,D){return g(this,void 0,void 0,function(){return P(this,function(z){switch(z.label){case 0:return[4,this.deleteIndexRaw(B,D)];case 1:return z.sent(),[2]}})})},w.prototype.describeCollectionRaw=function(B,D){return g(this,void 0,void 0,function(){var z,C,W;return P(this,function(E){switch(E.label){case 0:if(B.collectionName===null||B.collectionName===void 0)throw new j.RequiredError("collectionName","Required parameter requestParameters.collectionName was null or undefined when calling describeCollection.");if(z={},C={},this.configuration&&this.configuration.apiKey)C["Api-Key"]=this.configuration.apiKey("Api-Key");return[4,this.request({path:"/collections/{collection_name}".replace("{".concat("collection_name","}"),encodeURIComponent(String(B.collectionName))),method:"GET",headers:C,query:z},D)];case 1:return W=E.sent(),[2,new j.JSONApiResponse(W,function(Q){return Q0.CollectionModelFromJSON(Q)})]}})})},w.prototype.describeCollection=function(B,D){return g(this,void 0,void 0,function(){var z;return P(this,function(C){switch(C.label){case 0:return[4,this.describeCollectionRaw(B,D)];case 1:return z=C.sent(),[4,z.value()];case 2:return[2,C.sent()]}})})},w.prototype.describeIndexRaw=function(B,D){return g(this,void 0,void 0,function(){var z,C,W;return P(this,function(E){switch(E.label){case 0:if(B.indexName===null||B.indexName===void 0)throw new j.RequiredError("indexName","Required parameter requestParameters.indexName was null or undefined when calling describeIndex.");if(z={},C={},this.configuration&&this.configuration.apiKey)C["Api-Key"]=this.configuration.apiKey("Api-Key");return[4,this.request({path:"/indexes/{index_name}".replace("{".concat("index_name","}"),encodeURIComponent(String(B.indexName))),method:"GET",headers:C,query:z},D)];case 1:return W=E.sent(),[2,new j.JSONApiResponse(W,function(Q){return Q0.IndexModelFromJSON(Q)})]}})})},w.prototype.describeIndex=function(B,D){return g(this,void 0,void 0,function(){var z;return P(this,function(C){switch(C.label){case 0:return[4,this.describeIndexRaw(B,D)];case 1:return z=C.sent(),[4,z.value()];case 2:return[2,C.sent()]}})})},w.prototype.listCollectionsRaw=function(B){return g(this,void 0,void 0,function(){var D,z,C;return P(this,function(W){switch(W.label){case 0:if(D={},z={},this.configuration&&this.configuration.apiKey)z["Api-Key"]=this.configuration.apiKey("Api-Key");return[4,this.request({path:"/collections",method:"GET",headers:z,query:D},B)];case 1:return C=W.sent(),[2,new j.JSONApiResponse(C,function(E){return Q0.CollectionListFromJSON(E)})]}})})},w.prototype.listCollections=function(B){return g(this,void 0,void 0,function(){var D;return P(this,function(z){switch(z.label){case 0:return[4,this.listCollectionsRaw(B)];case 1:return D=z.sent(),[4,D.value()];case 2:return[2,z.sent()]}})})},w.prototype.listIndexesRaw=function(B){return g(this,void 0,void 0,function(){var D,z,C;return P(this,function(W){switch(W.label){case 0:if(D={},z={},this.configuration&&this.configuration.apiKey)z["Api-Key"]=this.configuration.apiKey("Api-Key");return[4,this.request({path:"/indexes",method:"GET",headers:z,query:D},B)];case 1:return C=W.sent(),[2,new j.JSONApiResponse(C,function(E){return Q0.IndexListFromJSON(E)})]}})})},w.prototype.listIndexes=function(B){return g(this,void 0,void 0,function(){var D;return P(this,function(z){switch(z.label){case 0:return[4,this.listIndexesRaw(B)];case 1:return D=z.sent(),[4,D.value()];case 2:return[2,z.sent()]}})})},w}(j.BaseAPI);v.ManageIndexesApi=zE});var iL=X((m1)=>{var DE=m1&&m1.__createBinding||(Object.create?function($,w,B,D){if(D===void 0)D=B;var z=Object.getOwnPropertyDescriptor(w,B);if(!z||("get"in z?!w.__esModule:z.writable||z.configurable))z={enumerable:!0,get:function(){return w[B]}};Object.defineProperty($,D,z)}:function($,w,B,D){if(D===void 0)D=B;$[D]=w[B]}),WE=m1&&m1.__exportStar||function($,w){for(var B in $)if(B!=="default"&&!Object.prototype.hasOwnProperty.call(w,B))DE(w,$,B)};Object.defineProperty(m1,"__esModule",{value:!0});WE(uL(),m1)});var aL=X((nL)=>{Object.defineProperty(nL,"__esModule",{value:!0});nL.X_PINECONE_API_VERSION=void 0;nL.X_PINECONE_API_VERSION="2024-10"});var V$=X((Y0)=>{var GE=Y0&&Y0.__createBinding||(Object.create?function($,w,B,D){if(D===void 0)D=B;var z=Object.getOwnPropertyDescriptor(w,B);if(!z||("get"in z?!w.__esModule:z.writable||z.configurable))z={enumerable:!0,get:function(){return w[B]}};Object.defineProperty($,D,z)}:function($,w,B,D){if(D===void 0)D=B;$[D]=w[B]}),U$=Y0&&Y0.__exportStar||function($,w){for(var B in $)if(B!=="default"&&!Object.prototype.hasOwnProperty.call(w,B))GE(w,$,B)};Object.defineProperty(Y0,"__esModule",{value:!0});U$(a(),Y0);U$(iL(),Y0);U$(yB(),Y0);U$(aL(),Y0)});var pL=X((tL)=>{Object.defineProperty(tL,"__esModule",{value:!0});tL.debugLog=void 0;var EE=function($){if(typeof process!=="undefined"&&process&&process.env&&process.env.PINECONE_DEBUG)console.log($)};tL.debugLog=EE});var eL=X((rL)=>{Object.defineProperty(rL,"__esModule",{value:!0});rL.normalizeUrl=void 0;function QE($){if(!$||$.trim().length===0)return;if(!$.startsWith("http://")&&!$.startsWith("https://"))return"https://"+$;return $}rL.normalizeUrl=QE});var Lz=X((Cz)=>{Object.defineProperty(Cz,"__esModule",{value:!0});Cz.queryParamsStringify=void 0;function $z($,w){if(w===void 0)w="";return Object.keys($).map(function(B){return Bz(B,$[B],w)}).filter(function(B){return B.length>0}).join("&")}Cz.queryParamsStringify=$z;function Bz($,w,B){if(B===void 0)B="";var D=B+(B.length?"[".concat($,"]"):$);if(Array.isArray(w)){var z=w.map(function(W){return encodeURIComponent(String(W))}).join("&".concat(encodeURIComponent(D),"="));return"".concat(encodeURIComponent(D),"=").concat(z)}if(w instanceof Set){var C=Array.from(w);return Bz($,C,B)}if(w instanceof Date)return"".concat(encodeURIComponent(D),"=").concat(encodeURIComponent(w.toISOString()));if(w instanceof Object)return $z(w,D);return"".concat(encodeURIComponent(D),"=").concat(encodeURIComponent(String(w)))}});var mB=X((zz)=>{Object.defineProperty(zz,"__esModule",{value:!0});zz.isBrowser=zz.isEdge=void 0;var YE=function(){return typeof EdgeRuntime==="string"};zz.isEdge=YE;var XE=function(){return typeof window!=="undefined"};zz.isBrowser=XE});var Wz=X((gM,HE)=>{HE.exports={name:"@pinecone-database/pinecone",version:"4.0.0"}});var Ez=X((X0)=>{var TE=X0&&X0.__createBinding||(Object.create?function($,w,B,D){if(D===void 0)D=B;var z=Object.getOwnPropertyDescriptor(w,B);if(!z||("get"in z?!w.__esModule:z.writable||z.configurable))z={enumerable:!0,get:function(){return w[B]}};Object.defineProperty($,D,z)}:function($,w,B,D){if(D===void 0)D=B;$[D]=w[B]}),KE=X0&&X0.__setModuleDefault||(Object.create?function($,w){Object.defineProperty($,"default",{enumerable:!0,value:w})}:function($,w){$.default=w}),hE=X0&&X0.__importStar||function($){if($&&$.__esModule)return $;var w={};if($!=null){for(var B in $)if(B!=="default"&&Object.prototype.hasOwnProperty.call($,B))TE(w,$,B)}return KE(w,$),w};Object.defineProperty(X0,"__esModule",{value:!0});X0.buildUserAgent=void 0;var IE=mB(),Gz=hE(Wz()),UE=function($){var w=["".concat(Gz.name," v").concat(Gz.version),"lang=typescript"];if(IE.isEdge())w.push("Edge Runtime");if(typeof process!=="undefined"&&process&&process.version)w.push("node ".concat(process.version));if($.sourceTag)w.push("source_tag=".concat(VE($.sourceTag)));return w.join("; ")};X0.buildUserAgent=UE;var VE=function($){if(!$)return;return $.toLowerCase().replace(/[^a-z0-9_ :]/g,"").trim().replace(/[ ]+/g,"_")}});var n1=X((i1)=>{var ME=i1&&i1.__extends||function(){var $=function(w,B){return $=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,z){D.__proto__=z}||function(D,z){for(var C in z)if(Object.prototype.hasOwnProperty.call(z,C))D[C]=z[C]},$(w,B)};return function(w,B){if(typeof B!=="function"&&B!==null)throw new TypeError("Class extends value "+String(B)+" is not a constructor or null");$(w,B);function D(){this.constructor=w}w.prototype=B===null?Object.create(B):(D.prototype=B.prototype,new D)}}();Object.defineProperty(i1,"__esModule",{value:!0});i1.BasePineconeError=void 0;var NE=function($){ME(w,$);function w(B,D){var z=this.constructor,C=$.call(this,B)||this;if(Object.setPrototypeOf(C,z.prototype),Error.captureStackTrace)Error.captureStackTrace(C,z);return C.name=C.constructor.name,C.cause=D,C}return w}(Error);i1.BasePineconeError=NE});var Qz=X(($0)=>{var M$=$0&&$0.__extends||function(){var $=function(w,B){return $=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,z){D.__proto__=z}||function(D,z){for(var C in z)if(Object.prototype.hasOwnProperty.call(z,C))D[C]=z[C]},$(w,B)};return function(w,B){if(typeof B!=="function"&&B!==null)throw new TypeError("Class extends value "+String(B)+" is not a constructor or null");$(w,B);function D(){this.constructor=w}w.prototype=B===null?Object.create(B):(D.prototype=B.prototype,new D)}}();Object.defineProperty($0,"__esModule",{value:!0});$0.PineconeUnableToResolveHostError=$0.PineconeEnvironmentVarsNotSupportedError=$0.PineconeUnexpectedResponseError=$0.PineconeConfigurationError=void 0;var N$=n1(),FE="You can find the configuration values for your project in the Pinecone developer console at https://app.pinecone.io.",JE=function($){M$(w,$);function w(B){var D=$.call(this,"".concat(B," ").concat(FE))||this;return D.name="PineconeConfigurationError",D}return w}(N$.BasePineconeError);$0.PineconeConfigurationError=JE;var AE=function($){M$(w,$);function w(B,D,z,C){var W=$.call(this,"Unexpected response while calling ".concat(B,". ").concat(C?C+" ":"","Status: ").concat(D,". Body: ").concat(z))||this;return W.name="PineconeUnexpectedResponseError",W}return w}(N$.BasePineconeError);$0.PineconeUnexpectedResponseError=AE;var fE=function($){M$(w,$);function w(B){var D=$.call(this,B)||this;return D.name="PineconeEnvironmentVarsNotSupportedError",D}return w}(N$.BasePineconeError);$0.PineconeEnvironmentVarsNotSupportedError=fE;var RE=function($){M$(w,$);function w(B){var D=$.call(this,B)||this;return D.name="PineconeUnableToResolveHostError",D}return w}(N$.BasePineconeError);$0.PineconeUnableToResolveHostError=RE});var PB=X((q)=>{var g0=q&&q.__extends||function(){var $=function(w,B){return $=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,z){D.__proto__=z}||function(D,z){for(var C in z)if(Object.prototype.hasOwnProperty.call(z,C))D[C]=z[C]},$(w,B)};return function(w,B){if(typeof B!=="function"&&B!==null)throw new TypeError("Class extends value "+String(B)+" is not a constructor or null");$(w,B);function D(){this.constructor=w}w.prototype=B===null?Object.create(B):(D.prototype=B.prototype,new D)}}();Object.defineProperty(q,"__esModule",{value:!0});q.mapHttpStatusError=q.PineconeUnmappedHttpError=q.PineconeNotImplementedError=q.PineconeUnavailableError=q.PineconeMaxRetriesExceededError=q.PineconeInternalServerError=q.PineconeConflictError=q.PineconeNotFoundError=q.PineconeAuthorizationError=q.PineconeBadRequestError=void 0;var P0=n1(),Yz="You can find the configuration values for your project in the Pinecone developer console at https://app.pinecone.io",gB=function($){g0(w,$);function w(B){var D=this,z=B.message;return D=$.call(this,z)||this,D.name="PineconeBadRequestError",D}return w}(P0.BasePineconeError);q.PineconeBadRequestError=gB;var Xz=function($){g0(w,$);function w(B){var D=this,z=B.url;if(z)D=$.call(this,"The API key you provided was rejected while calling ".concat(z,". Please check your configuration values and try again. ").concat(Yz))||this;else D=$.call(this,"The API key you provided was rejected. Please check your configuration values and try again. ".concat(Yz))||this;return D.name="PineconeAuthorizationError",D}return w}(P0.BasePineconeError);q.PineconeAuthorizationError=Xz;var Zz=function($){g0(w,$);function w(B){var D=this,z=B.url;if(z)D=$.call(this,"A call to ".concat(z," returned HTTP status 404."))||this;else D=$.call(this,"The requested resource could not be found.")||this;return D.name="PineconeNotFoundError",D}return w}(P0.BasePineconeError);q.PineconeNotFoundError=Zz;var Hz=function($){g0(w,$);function w(B){var D=this,z=B.url,C=B.message;if(z)D=$.call(this,"A call to ".concat(z," returned HTTP status 409. ").concat(C?C:""))||this;else D=$.call(this,"The resource you are attempting to create already exists.")||this;return D.name="PineconeConflictError",D}return w}(P0.BasePineconeError);q.PineconeConflictError=Hz;var Tz=function($){g0(w,$);function w(B){var D=this,z=B.url,C=B.body,W=B.status,E=z?"An internal server error occurred while calling the ".concat(z," endpoint."):"",Q="To see overall service health and learn whether this seems like a large-scale problem or one specific to your request, please go to https://status.pinecone.io/ to view our status page. If you believe the error reflects a problem with this client, please file a bug report in the github issue tracker at https://github.com/pinecone-io/pinecone-ts-client",L=W?"Status Code: ".concat(W,"."):"",G=C?"Body: ".concat(C):"";return D=$.call(this,[E,L,Q,G].join(" ").trim())||this,D.name="PineconeInternalServerError",D}return w}(P0.BasePineconeError);q.PineconeInternalServerError=Tz;var SE=function($){g0(w,$);function w(B){var D=this,z="You have exceeded the max configured retries (".concat(B,"). "),C="Increase the maxRetries field in the RetryOptions object to retry more times. If you believe the error reflects a problem with this client, please file a bug report in the github issue tracker at https://github.com/pinecone-io/pinecone-ts-client";return D=$.call(this,[z,C].join(" ").trim())||this,D.name="PineconeMaxRetriesExceededError",D}return w}(P0.BasePineconeError);q.PineconeMaxRetriesExceededError=SE;var Kz=function($){g0(w,$);function w(B){var D=this,z=B.url,C=B.body,W=B.status,E=z?"The Pinecone service (".concat(z,") is temporarily unavailable."):"",Q=W?"Status Code: ".concat(W,"."):"",L="To see overall service health and learn whether this seems like a large-scale problem or one specific to your request, please go to https://status.pinecone.io/ to view our status page. If you believe the error reflects a problem with this client, please file a bug report in the github issue tracker at https://github.com/pinecone-io/pinecone-ts-client",G=C?"Body: ".concat(C):"";return D=$.call(this,[E,Q,L,G].join(" ").trim())||this,D.name="PineconeUnavailableError",D}return w}(P0.BasePineconeError);q.PineconeUnavailableError=Kz;var hz=function($){g0(w,$);function w(B){var D=this,z=B.url,C=B.message;if(z)D=$.call(this,"A call to ".concat(z," returned HTTP status 501. ").concat(C?C:""))||this;else D=$.call(this)||this;return D.name="PineconeNotImplementedError",D}return w}(P0.BasePineconeError);q.PineconeNotImplementedError=hz;var Iz=function($){g0(w,$);function w(B){var D=this,z=B.url,C=B.status,W=B.body,E=B.message,Q=z?"An unexpected error occured while calling the ".concat(z," endpoint. "):"",L=C?"Status: ".concat(C,". "):"",G=W?"Body: ".concat(W):"";return D=$.call(this,[Q,E,L,G].join(" ").trim())||this,D.name="PineconeUnmappedHttpError",D}return w}(P0.BasePineconeError);q.PineconeUnmappedHttpError=Iz;var OE=function($){switch($.status){case 400:return new gB($);case 401:return new Xz($);case 403:return new gB($);case 404:return new Zz($);case 409:return new Hz($);case 500:return new Tz($);case 501:return new hz($);case 503:return new Kz($);default:throw new Iz($)}};q.mapHttpStatusError=OE});var jB=X((o0)=>{var Uz=o0&&o0.__extends||function(){var $=function(w,B){return $=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,z){D.__proto__=z}||function(D,z){for(var C in z)if(Object.prototype.hasOwnProperty.call(z,C))D[C]=z[C]},$(w,B)};return function(w,B){if(typeof B!=="function"&&B!==null)throw new TypeError("Class extends value "+String(B)+" is not a constructor or null");$(w,B);function D(){this.constructor=w}w.prototype=B===null?Object.create(B):(D.prototype=B.prototype,new D)}}();Object.defineProperty(o0,"__esModule",{value:!0});o0.PineconeRequestError=o0.PineconeConnectionError=void 0;var Vz=n1(),bE=function($){Uz(w,$);function w(B,D){var z=this,C="";if(D)C=" while calling ".concat(D);return z=$.call(this,"Request failed to reach Pinecone".concat(C,". This can occur for reasons such as network problems that prevent the request from being completed, or a Pinecone API outage. Check your network connection, and visit https://status.pinecone.io/ to see whether any outages are ongoing."),B)||this,z.name="PineconeConnectionError",z}return w}(Vz.BasePineconeError);o0.PineconeConnectionError=bE;var qE=function($){Uz(w,$);function w(B){var D=this;if(B.response)D=$.call(this,"Request failed during a call to ".concat(B.init.method," ").concat(B.url," with status ").concat(B.response.status),B.error)||this;else D=$.call(this,"Request failed during a call to ".concat(B.init.method," ").concat(B.url),B.error)||this;return D}return w}(Vz.BasePineconeError);o0.PineconeRequestError=qE});var Mz=X((_1)=>{var kE=_1&&_1.__extends||function(){var $=function(w,B){return $=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,z){D.__proto__=z}||function(D,z){for(var C in z)if(Object.prototype.hasOwnProperty.call(z,C))D[C]=z[C]},$(w,B)};return function(w,B){if(typeof B!=="function"&&B!==null)throw new TypeError("Class extends value "+String(B)+" is not a constructor or null");$(w,B);function D(){this.constructor=w}w.prototype=B===null?Object.create(B):(D.prototype=B.prototype,new D)}}();Object.defineProperty(_1,"__esModule",{value:!0});_1.PineconeArgumentError=void 0;var cE=n1(),yE=function($){kE(w,$);function w(B){var D=$.call(this,"".concat(B))||this;return D.name="PineconeArgumentError",D}return w}(cE.BasePineconeError);_1.PineconeArgumentError=yE});var dB=X((e0)=>{var mE=e0&&e0.__awaiter||function($,w,B,D){function z(C){return C instanceof B?C:new B(function(W){W(C)})}return new(B||(B=Promise))(function(C,W){function E(G){try{L(D.next(G))}catch(Y){W(Y)}}function Q(G){try{L(D.throw(G))}catch(Y){W(Y)}}function L(G){G.done?C(G.value):z(G.value).then(E,Q)}L((D=D.apply($,w||[])).next())})},gE=e0&&e0.__generator||function($,w){var B={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},D,z,C,W;return W={next:E(0),throw:E(1),return:E(2)},typeof Symbol==="function"&&(W[Symbol.iterator]=function(){return this}),W;function E(L){return function(G){return Q([L,G])}}function Q(L){if(D)throw new TypeError("Generator is already executing.");while(W&&(W=0,L[0]&&(B=0)),B)try{if(D=1,z&&(C=L[0]&2?z.return:L[0]?z.throw||((C=z.return)&&C.call(z),0):z.next)&&!(C=C.call(z,L[1])).done)return C;if(z=0,C)L=[L[0]&2,C.value];switch(L[0]){case 0:case 1:C=L;break;case 4:return B.label++,{value:L[1],done:!1};case 5:B.label++,z=L[1],L=[0];continue;case 7:L=B.ops.pop(),B.trys.pop();continue;default:if((C=B.trys,!(C=C.length>0&&C[C.length-1]))&&(L[0]===6||L[0]===2)){B=0;continue}if(L[0]===3&&(!C||L[1]>C[0]&&L[1]<C[3])){B.label=L[1];break}if(L[0]===6&&B.label<C[1]){B.label=C[1],C=L;break}if(C&&B.label<C[2]){B.label=C[2],B.ops.push(L);break}if(C[2])B.ops.pop();B.trys.pop();continue}L=w.call($,B)}catch(G){L=[6,G],z=0}finally{D=C=0}if(L[0]&5)throw L[1];return{value:L[0]?L[1]:void 0,done:!0}}};Object.defineProperty(e0,"__esModule",{value:!0});e0.extractMessage=void 0;var PE=function($){return mE(void 0,void 0,void 0,function(){var w,B;return gE(this,function(D){switch(D.label){case 0:return[4,$.response.text()];case 1:w=D.sent();try{if(B=JSON.parse(w),B.message)w=B.message}catch(z){}return[2,w]}})})};e0.extractMessage=PE});var Fz=X(($1)=>{var jE=$1&&$1.__awaiter||function($,w,B,D){function z(C){return C instanceof B?C:new B(function(W){W(C)})}return new(B||(B=Promise))(function(C,W){function E(G){try{L(D.next(G))}catch(Y){W(Y)}}function Q(G){try{L(D.throw(G))}catch(Y){W(Y)}}function L(G){G.done?C(G.value):z(G.value).then(E,Q)}L((D=D.apply($,w||[])).next())})},dE=$1&&$1.__generator||function($,w){var B={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},D,z,C,W;return W={next:E(0),throw:E(1),return:E(2)},typeof Symbol==="function"&&(W[Symbol.iterator]=function(){return this}),W;function E(L){return function(G){return Q([L,G])}}function Q(L){if(D)throw new TypeError("Generator is already executing.");while(W&&(W=0,L[0]&&(B=0)),B)try{if(D=1,z&&(C=L[0]&2?z.return:L[0]?z.throw||((C=z.return)&&C.call(z),0):z.next)&&!(C=C.call(z,L[1])).done)return C;if(z=0,C)L=[L[0]&2,C.value];switch(L[0]){case 0:case 1:C=L;break;case 4:return B.label++,{value:L[1],done:!1};case 5:B.label++,z=L[1],L=[0];continue;case 7:L=B.ops.pop(),B.trys.pop();continue;default:if((C=B.trys,!(C=C.length>0&&C[C.length-1]))&&(L[0]===6||L[0]===2)){B=0;continue}if(L[0]===3&&(!C||L[1]>C[0]&&L[1]<C[3])){B.label=L[1];break}if(L[0]===6&&B.label<C[1]){B.label=C[1],C=L;break}if(C&&B.label<C[2]){B.label=C[2],B.ops.push(L);break}if(C[2])B.ops.pop();B.trys.pop();continue}L=w.call($,B)}catch(G){L=[6,G],z=0}finally{D=C=0}if(L[0]&5)throw L[1];return{value:L[0]?L[1]:void 0,done:!0}}};Object.defineProperty($1,"__esModule",{value:!0});$1.handleApiError=void 0;var xE=dB(),lE=PB(),Nz=jB(),vE=function($,w,B){return jE(void 0,void 0,void 0,function(){var D,z,C,W,E,Q;return dE(this,function(L){switch(L.label){case 0:if(!($ instanceof Error&&$.name==="ResponseError"))return[3,5];return D=$,[4,xE.extractMessage(D)];case 1:if(z=L.sent(),C=D.response.status,!w)return[3,3];return[4,w(C,z)];case 2:return E=L.sent(),[3,4];case 3:E=z,L.label=4;case 4:return W=E,[2,lE.mapHttpStatusError({status:D.response.status,url:D.response.url||B,message:W})];case 5:if($ instanceof Nz.PineconeConnectionError)return[2,$];else return Q=$,[2,new Nz.PineconeConnectionError(Q)];L.label=6;case 6:return[2]}})})};$1.handleApiError=vE});var k=X((S)=>{var uE=S&&S.__createBinding||(Object.create?function($,w,B,D){if(D===void 0)D=B;var z=Object.getOwnPropertyDescriptor(w,B);if(!z||("get"in z?!w.__esModule:z.writable||z.configurable))z={enumerable:!0,get:function(){return w[B]}};Object.defineProperty($,D,z)}:function($,w,B,D){if(D===void 0)D=B;$[D]=w[B]}),iE=S&&S.__exportStar||function($,w){for(var B in $)if(B!=="default"&&!Object.prototype.hasOwnProperty.call(w,B))uE(w,$,B)};Object.defineProperty(S,"__esModule",{value:!0});S.handleApiError=S.extractMessage=S.PineconeArgumentError=S.BasePineconeError=S.PineconeRequestError=S.PineconeConnectionError=S.PineconeUnableToResolveHostError=S.PineconeEnvironmentVarsNotSupportedError=S.PineconeUnexpectedResponseError=S.PineconeConfigurationError=void 0;var F$=Qz();Object.defineProperty(S,"PineconeConfigurationError",{enumerable:!0,get:function(){return F$.PineconeConfigurationError}});Object.defineProperty(S,"PineconeUnexpectedResponseError",{enumerable:!0,get:function(){return F$.PineconeUnexpectedResponseError}});Object.defineProperty(S,"PineconeEnvironmentVarsNotSupportedError",{enumerable:!0,get:function(){return F$.PineconeEnvironmentVarsNotSupportedError}});Object.defineProperty(S,"PineconeUnableToResolveHostError",{enumerable:!0,get:function(){return F$.PineconeUnableToResolveHostError}});iE(PB(),S);var Jz=jB();Object.defineProperty(S,"PineconeConnectionError",{enumerable:!0,get:function(){return Jz.PineconeConnectionError}});Object.defineProperty(S,"PineconeRequestError",{enumerable:!0,get:function(){return Jz.PineconeRequestError}});var nE=n1();Object.defineProperty(S,"BasePineconeError",{enumerable:!0,get:function(){return nE.BasePineconeError}});var _E=Mz();Object.defineProperty(S,"PineconeArgumentError",{enumerable:!0,get:function(){return _E.PineconeArgumentError}});var aE=dB();Object.defineProperty(S,"extractMessage",{enumerable:!0,get:function(){return aE.extractMessage}});var tE=Fz();Object.defineProperty(S,"handleApiError",{enumerable:!0,get:function(){return tE.handleApiError}})});var Rz=X((Az)=>{Object.defineProperty(Az,"__esModule",{value:!0});Az.getFetch=void 0;var sE=k(),pE=function($){if($.fetchApi)return $.fetchApi;else if(global.fetch)return global.fetch;else throw new sE.PineconeConfigurationError("No global or user-provided fetch implementations found. Please supply a fetch implementation.")};Az.getFetch=pE});var bz=X((B1)=>{var Sz=B1&&B1.__awaiter||function($,w,B,D){function z(C){return C instanceof B?C:new B(function(W){W(C)})}return new(B||(B=Promise))(function(C,W){function E(G){try{L(D.next(G))}catch(Y){W(Y)}}function Q(G){try{L(D.throw(G))}catch(Y){W(Y)}}function L(G){G.done?C(G.value):z(G.value).then(E,Q)}L((D=D.apply($,w||[])).next())})},Oz=B1&&B1.__generator||function($,w){var B={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},D,z,C,W;return W={next:E(0),throw:E(1),return:E(2)},typeof Symbol==="function"&&(W[Symbol.iterator]=function(){return this}),W;function E(L){return function(G){return Q([L,G])}}function Q(L){if(D)throw new TypeError("Generator is already executing.");while(W&&(W=0,L[0]&&(B=0)),B)try{if(D=1,z&&(C=L[0]&2?z.return:L[0]?z.throw||((C=z.return)&&C.call(z),0):z.next)&&!(C=C.call(z,L[1])).done)return C;if(z=0,C)L=[L[0]&2,C.value];switch(L[0]){case 0:case 1:C=L;break;case 4:return B.label++,{value:L[1],done:!1};case 5:B.label++,z=L[1],L=[0];continue;case 7:L=B.ops.pop(),B.trys.pop();continue;default:if((C=B.trys,!(C=C.length>0&&C[C.length-1]))&&(L[0]===6||L[0]===2)){B=0;continue}if(L[0]===3&&(!C||L[1]>C[0]&&L[1]<C[3])){B.label=L[1];break}if(L[0]===6&&B.label<C[1]){B.label=C[1],C=L;break}if(C&&B.label<C[2]){B.label=C[2],B.ops.push(L);break}if(C[2])B.ops.pop();B.trys.pop();continue}L=w.call($,B)}catch(G){L=[6,G],z=0}finally{D=C=0}if(L[0]&5)throw L[1];return{value:L[0]?L[1]:void 0,done:!0}}};Object.defineProperty(B1,"__esModule",{value:!0});B1.RetryOnServerFailure=void 0;var xB=k(),rE=function(){function $(w,B){if(this.calculateRetryDelay=function(D,z,C,W){if(z===void 0)z=200;if(C===void 0)C=20000;if(W===void 0)W=0.25;var E=z*Math.pow(2,D),Q=E*W*(Math.random()-0.5);return E+=Q,Math.min(C,Math.max(0,E))},B)this.maxRetries=B;else this.maxRetries=3;if(this.maxRetries>10)throw new Error("Max retries cannot exceed 10");this.asyncFn=w}return $.prototype.execute=function(){var w=[];for(var B=0;B<arguments.length;B++)w[B]=arguments[B];return Sz(this,void 0,void 0,function(){var D,z,C,W;return Oz(this,function(E){switch(E.label){case 0:if(this.maxRetries<1)return[2,this.asyncFn.apply(this,w)];D=0,E.label=1;case 1:if(!(D<this.maxRetries))return[3,7];E.label=2;case 2:return E.trys.push([2,4,,6]),[4,this.asyncFn.apply(this,w)];case 3:if(z=E.sent(),!this.isRetryError(z))return[2,z];throw z;case 4:if(C=E.sent(),W=this.mapErrorIfNeeded(C),this.shouldStopRetrying(W))throw W;if(D===this.maxRetries-1)throw new xB.PineconeMaxRetriesExceededError(this.maxRetries);return[4,this.delay(D+1)];case 5:return E.sent(),[3,6];case 6:return D++,[3,1];case 7:throw new xB.PineconeMaxRetriesExceededError(this.maxRetries)}})})},$.prototype.isRetryError=function(w){if(w){if(w.name&&["PineconeUnavailableError","PineconeInternalServerError"].includes(w.name))return!0;if(w.status&&w.status>=500)return!0}return!1},$.prototype.delay=function(w){return Sz(this,void 0,void 0,function(){var B;return Oz(this,function(D){return B=this.calculateRetryDelay(w),[2,new Promise(function(z){return setTimeout(z,B)})]})})},$.prototype.mapErrorIfNeeded=function(w){if(w===null||w===void 0?void 0:w.status)return xB.mapHttpStatusError(w);return w},$.prototype.shouldStopRetrying=function(w){if(w.status)return w.status<500;if(w.name)return w.name!=="PineconeUnavailableError"&&w.name!=="PineconeInternalServerError";return!0},$}();B1.RetryOnServerFailure=rE});var Z0=X((C1)=>{Object.defineProperty(C1,"__esModule",{value:!0});C1.RetryOnServerFailure=C1.getFetch=C1.buildUserAgent=C1.queryParamsStringify=C1.normalizeUrl=C1.debugLog=void 0;var oE=pL();Object.defineProperty(C1,"debugLog",{enumerable:!0,get:function(){return oE.debugLog}});var eE=eL();Object.defineProperty(C1,"normalizeUrl",{enumerable:!0,get:function(){return eE.normalizeUrl}});var $6=Lz();Object.defineProperty(C1,"queryParamsStringify",{enumerable:!0,get:function(){return $6.queryParamsStringify}});var B6=Ez();Object.defineProperty(C1,"buildUserAgent",{enumerable:!0,get:function(){return B6.buildUserAgent}});var C6=Rz();Object.defineProperty(C1,"getFetch",{enumerable:!0,get:function(){return C6.getFetch}});var w6=bz();Object.defineProperty(C1,"RetryOnServerFailure",{enumerable:!0,get:function(){return w6.RetryOnServerFailure}})});var E$=X((H0)=>{var W$=H0&&H0.__awaiter||function($,w,B,D){function z(C){return C instanceof B?C:new B(function(W){W(C)})}return new(B||(B=Promise))(function(C,W){function E(G){try{L(D.next(G))}catch(Y){W(Y)}}function Q(G){try{L(D.throw(G))}catch(Y){W(Y)}}function L(G){G.done?C(G.value):z(G.value).then(E,Q)}L((D=D.apply($,w||[])).next())})},G$=H0&&H0.__generator||function($,w){var B={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},D,z,C,W;return W={next:E(0),throw:E(1),return:E(2)},typeof Symbol==="function"&&(W[Symbol.iterator]=function(){return this}),W;function E(L){return function(G){return Q([L,G])}}function Q(L){if(D)throw new TypeError("Generator is already executing.");while(W&&(W=0,L[0]&&(B=0)),B)try{if(D=1,z&&(C=L[0]&2?z.return:L[0]?z.throw||((C=z.return)&&C.call(z),0):z.next)&&!(C=C.call(z,L[1])).done)return C;if(z=0,C)L=[L[0]&2,C.value];switch(L[0]){case 0:case 1:C=L;break;case 4:return B.label++,{value:L[1],done:!1};case 5:B.label++,z=L[1],L=[0];continue;case 7:L=B.ops.pop(),B.trys.pop();continue;default:if((C=B.trys,!(C=C.length>0&&C[C.length-1]))&&(L[0]===6||L[0]===2)){B=0;continue}if(L[0]===3&&(!C||L[1]>C[0]&&L[1]<C[3])){B.label=L[1];break}if(L[0]===6&&B.label<C[1]){B.label=C[1],C=L;break}if(C&&B.label<C[2]){B.label=C[2],B.ops.push(L);break}if(C[2])B.ops.pop();B.trys.pop();continue}L=w.call($,B)}catch(G){L=[6,G],z=0}finally{D=C=0}if(L[0]&5)throw L[1];return{value:L[0]?L[1]:void 0,done:!0}}},qz=H0&&H0.__spreadArray||function($,w,B){if(B||arguments.length===2){for(var D=0,z=w.length,C;D<z;D++)if(C||!(D in w)){if(!C)C=Array.prototype.slice.call(w,0,D);C[D]=w[D]}}return $.concat(C||Array.prototype.slice.call(w))};Object.defineProperty(H0,"__esModule",{value:!0});H0.middleware=void 0;var z6=V$(),kz=k(),lB=[],a1=function($,w){var B={blue:"\x1B[34m",red:"\x1B[31m",green:"\x1B[32m",yellow:"\x1B[33m"};return B[w]+$+"\x1B[39m"};if(typeof process!=="undefined"&&process&&process.env&&process.env.PINECONE_DEBUG)cz={pre:function($){return W$(void 0,void 0,void 0,function(){var w;return G$(this,function(B){if(console.debug(a1(">>> Request: ".concat($.init.method," ").concat($.url),"blue")),w=JSON.parse(JSON.stringify($.init.headers)),w["Api-Key"]="***REDACTED***",console.debug(a1(">>> Headers: ".concat(JSON.stringify(w)),"blue")),$.init.body)console.debug(a1(">>> Body: ".concat($.init.body),"blue"));return console.debug(""),[2]})})},post:function($){return W$(void 0,void 0,void 0,function(){var w,B,D,z;return G$(this,function(C){switch(C.label){case 0:return console.debug(a1("<<< Status: ".concat($.response.status),"green")),B=(w=console).debug,D=a1,z="<<< Body: ".concat,[4,$.response.text()];case 1:return B.apply(w,[D.apply(void 0,[z.apply("<<< Body: ",[C.sent()]),"green"])]),console.debug(""),[2]}})})}},lB.push(cz);var cz;if(typeof process!=="undefined"&&process&&process.env&&process.env.PINECONE_DEBUG_CURL)yz={post:function($){return W$(void 0,void 0,void 0,function(){var w,B;return G$(this,function(D){if(w='-H "Api-Key: '.concat(($.init.headers||{})["Api-Key"],'"'),$.init.headers&&$.init.headers["Content-Type"])w+=' -H "Content-Type: '.concat($.init.headers["Content-Type"],'"');return B="curl -X ".concat($.init.method," ").concat($.url," ").concat(w," ").concat($.init.body?"-d '".concat($.init.body,"'"):""),console.debug(a1(B,"red")),console.debug(""),[2]})})}},lB.push(yz);var yz;H0.middleware=qz(qz([],lB,!0),[{onError:function($){return W$(void 0,void 0,void 0,function(){var w;return G$(this,function(B){switch(B.label){case 0:return[4,kz.handleApiError($.error,void 0,$.url)];case 1:throw w=B.sent(),w}})})},post:function($){return W$(void 0,void 0,void 0,function(){var w,B;return G$(this,function(D){switch(D.label){case 0:if(w=$.response,!(w.status>=200&&w.status<300))return[3,1];return[2,w];case 1:return[4,kz.handleApiError(new z6.ResponseError(w,"Response returned an error"),void 0,$.url)];case 2:throw B=D.sent(),B}})})}}],!1)});var mz=X((t1)=>{var uB=t1&&t1.__assign||function(){return uB=Object.assign||function($){for(var w,B=1,D=arguments.length;B<D;B++){w=arguments[B];for(var z in w)if(Object.prototype.hasOwnProperty.call(w,z))$[z]=w[z]}return $},uB.apply(this,arguments)};Object.defineProperty(t1,"__esModule",{value:!0});t1.indexOperationsBuilder=void 0;var vB=V$(),J$=Z0(),D6=E$(),W6=function($){var w=$.apiKey,B=J$.normalizeUrl($.controllerHostUrl)||"https://api.pinecone.io",D=$.additionalHeaders||null,z={basePath:B,apiKey:w,queryParamsStringify:J$.queryParamsStringify,headers:uB({"User-Agent":J$.buildUserAgent($),"X-Pinecone-Api-Version":vB.X_PINECONE_API_VERSION},D),fetchApi:J$.getFetch($),middleware:D6.middleware};return new vB.ManageIndexesApi(new vB.Configuration(z))};t1.indexOperationsBuilder=W6});var T0=X((gz)=>{Object.defineProperty(gz,"__esModule",{value:!0});gz.ValidateProperties=void 0;var G6=k();function E6($,w){var B=Object.keys($),D=B.filter(function(z){return!w.includes(z)});if(D.length>0)throw new G6.PineconeArgumentError("Object contained invalid properties: ".concat(D.join(", "),". Valid properties include ").concat(w.join(", "),"."))}gz.ValidateProperties=E6});var dz=X((W0)=>{var Q6=W0&&W0.__awaiter||function($,w,B,D){function z(C){return C instanceof B?C:new B(function(W){W(C)})}return new(B||(B=Promise))(function(C,W){function E(G){try{L(D.next(G))}catch(Y){W(Y)}}function Q(G){try{L(D.throw(G))}catch(Y){W(Y)}}function L(G){G.done?C(G.value):z(G.value).then(E,Q)}L((D=D.apply($,w||[])).next())})},Y6=W0&&W0.__generator||function($,w){var B={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},D,z,C,W;return W={next:E(0),throw:E(1),return:E(2)},typeof Symbol==="function"&&(W[Symbol.iterator]=function(){return this}),W;function E(L){return function(G){return Q([L,G])}}function Q(L){if(D)throw new TypeError("Generator is already executing.");while(W&&(W=0,L[0]&&(B=0)),B)try{if(D=1,z&&(C=L[0]&2?z.return:L[0]?z.throw||((C=z.return)&&C.call(z),0):z.next)&&!(C=C.call(z,L[1])).done)return C;if(z=0,C)L=[L[0]&2,C.value];switch(L[0]){case 0:case 1:C=L;break;case 4:return B.label++,{value:L[1],done:!1};case 5:B.label++,z=L[1],L=[0];continue;case 7:L=B.ops.pop(),B.trys.pop();continue;default:if((C=B.trys,!(C=C.length>0&&C[C.length-1]))&&(L[0]===6||L[0]===2)){B=0;continue}if(L[0]===3&&(!C||L[1]>C[0]&&L[1]<C[3])){B.label=L[1];break}if(L[0]===6&&B.label<C[1]){B.label=C[1],C=L;break}if(C&&B.label<C[2]){B.label=C[2],B.ops.push(L);break}if(C[2])B.ops.pop();B.trys.pop();continue}L=w.call($,B)}catch(G){L=[6,G],z=0}finally{D=C=0}if(L[0]&5)throw L[1];return{value:L[0]?L[1]:void 0,done:!0}}};Object.defineProperty(W0,"__esModule",{value:!0});W0.configureIndex=W0.ConfigureIndexRequestProperties=void 0;var iB=k(),jz=T0(),X6=Z0();W0.ConfigureIndexRequestProperties=["deletionProtection","spec","tags"];var Z6=function($){var w=function(B,D){if(D)jz.ValidateProperties(D,W0.ConfigureIndexRequestProperties);if(!B)throw new iB.PineconeArgumentError("You must pass a non-empty string for `indexName` to configureIndex.");if(!D.spec&&!D.deletionProtection&&!D.tags)throw new iB.PineconeArgumentError("You must pass either `spec`, `deletionProtection` or `tags` to configureIndex in order to update.");if(D.spec){if(D.spec.pod)jz.ValidateProperties(D.spec.pod,["replicas","podType"]);if(D.spec.pod&&D.spec.pod.replicas){if(D.spec.pod.replicas<=0)throw new iB.PineconeArgumentError("`replicas` must be a positive integer.")}}};return function(B,D,z){return Q6(void 0,void 0,void 0,function(){var C;return Y6(this,function(W){switch(W.label){case 0:return w(B,D),C=new X6.RetryOnServerFailure($.configureIndex.bind($),z),[4,C.execute({indexName:B,configureIndexRequest:D})];case 1:return[2,W.sent()]}})})}};W0.configureIndex=Z6});var vz=X((xz)=>{Object.defineProperty(xz,"__esModule",{value:!0});xz.ValidPodTypes=void 0;xz.ValidPodTypes=["s1.x1","s1.x2","s1.x4","s1.x8","p1.x1","p1.x2","p1.x4","p1.x8","p2.x1","p2.x2","p2.x4","p2.x8"]});var nz=X((w1)=>{var nB=w1&&w1.__awaiter||function($,w,B,D){function z(C){return C instanceof B?C:new B(function(W){W(C)})}return new(B||(B=Promise))(function(C,W){function E(G){try{L(D.next(G))}catch(Y){W(Y)}}function Q(G){try{L(D.throw(G))}catch(Y){W(Y)}}function L(G){G.done?C(G.value):z(G.value).then(E,Q)}L((D=D.apply($,w||[])).next())})},_B=w1&&w1.__generator||function($,w){var B={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},D,z,C,W;return W={next:E(0),throw:E(1),return:E(2)},typeof Symbol==="function"&&(W[Symbol.iterator]=function(){return this}),W;function E(L){return function(G){return Q([L,G])}}function Q(L){if(D)throw new TypeError("Generator is already executing.");while(W&&(W=0,L[0]&&(B=0)),B)try{if(D=1,z&&(C=L[0]&2?z.return:L[0]?z.throw||((C=z.return)&&C.call(z),0):z.next)&&!(C=C.call(z,L[1])).done)return C;if(z=0,C)L=[L[0]&2,C.value];switch(L[0]){case 0:case 1:C=L;break;case 4:return B.label++,{value:L[1],done:!1};case 5:B.label++,z=L[1],L=[0];continue;case 7:L=B.ops.pop(),B.trys.pop();continue;default:if((C=B.trys,!(C=C.length>0&&C[C.length-1]))&&(L[0]===6||L[0]===2)){B=0;continue}if(L[0]===3&&(!C||L[1]>C[0]&&L[1]<C[3])){B.label=L[1];break}if(L[0]===6&&B.label<C[1]){B.label=C[1],C=L;break}if(C&&B.label<C[2]){B.label=C[2],B.ops.push(L);break}if(C[2])B.ops.pop();B.trys.pop();continue}L=w.call($,B)}catch(G){L=[6,G],z=0}finally{D=C=0}if(L[0]&5)throw L[1];return{value:L[0]?L[1]:void 0,done:!0}}};Object.defineProperty(w1,"__esModule",{value:!0});w1.createIndex=void 0;var A$=V$(),H6=Z0(),uz=vz(),s=k(),f$=T0(),T6=["spec","name","dimension","metric","deletionProtection","waitUntilReady","suppressConflicts","tags"],K6=["serverless","pod"],h6=["cloud","region"],I6=["environment","replicas","shards","podType","pods","metadataConfig","sourceCollection"],U6=function($){var w=function(B){if(B)f$.ValidateProperties(B,T6);if(!B)throw new s.PineconeArgumentError("You must pass an object with required properties (`name`, `dimension`, `spec`) to create an index.");if(!B.name)throw new s.PineconeArgumentError("You must pass a non-empty string for `name` in order to create an index.");if(!B.dimension||B.dimension<=0)throw new s.PineconeArgumentError("You must pass a positive integer for `dimension` in order to create an index.");if(!B.spec)throw new s.PineconeArgumentError("You must pass a `pods` or `serverless` `spec` object in order to create an index.");if(B.spec)f$.ValidateProperties(B.spec,K6);if(B.spec.serverless){if(f$.ValidateProperties(B.spec.serverless,h6),!B.spec.serverless.cloud)throw new s.PineconeArgumentError("You must pass a `cloud` for the serverless `spec` object in order to create an index.");if(!B.spec.serverless.region)throw new s.PineconeArgumentError("You must pass a `region` for the serverless `spec` object in order to create an index.")}if(B.spec.pod){if(f$.ValidateProperties(B.spec.pod,I6),!B.spec.pod.environment)throw new s.PineconeArgumentError("You must pass an `environment` for the pod `spec` object in order to create an index.");if(!B.spec.pod.podType)throw new s.PineconeArgumentError("You must pass a `podType` for the pod `spec` object in order to create an index.")}if(B.spec.serverless&&B.spec.serverless.cloud&&!Object.values(A$.ServerlessSpecCloudEnum).includes(B.spec.serverless.cloud))throw new s.PineconeArgumentError("Invalid cloud value: ".concat(B.spec.serverless.cloud,". Valid values are: ").concat(Object.values(A$.ServerlessSpecCloudEnum).join(", "),"."));if(B.metric&&!Object.values(A$.IndexModelMetricEnum).includes(B.metric))throw new s.PineconeArgumentError("Invalid metric value: ".concat(B.metric,". Valid values are: 'cosine', 'euclidean', or 'dotproduct.'"));if(B.spec.pod&&B.spec.pod.replicas&&B.spec.pod.replicas<=0)throw new s.PineconeArgumentError("You must pass a positive integer for `replicas` in order to create an index.");if(B.spec.pod&&B.spec.pod.pods&&B.spec.pod.pods<=0)throw new s.PineconeArgumentError("You must pass a positive integer for `pods` in order to create an index.");if(B.spec.pod&&!uz.ValidPodTypes.includes(B.spec.pod.podType))throw new s.PineconeArgumentError("Invalid pod type: ".concat(B.spec.pod.podType,". Valid values are: ").concat(uz.ValidPodTypes.join(", "),"."))};return function(B){return nB(void 0,void 0,void 0,function(){var D,z;return _B(this,function(C){switch(C.label){case 0:if(B&&!B.metric)B.metric=A$.IndexModelMetricEnum.Cosine;w(B),C.label=1;case 1:return C.trys.push([1,5,,6]),[4,$.createIndex({createIndexRequest:B})];case 2:if(D=C.sent(),!B.waitUntilReady)return[3,4];return[4,iz($,B.name)];case 3:return[2,C.sent()];case 4:return[2,D];case 5:if(z=C.sent(),!(B.suppressConflicts&&z instanceof Error&&z.name==="PineconeConflictError"))throw z;return[3,6];case 6:return[2]}})})}};w1.createIndex=U6;var iz=function($,w,B){if(B===void 0)B=0;return nB(void 0,void 0,void 0,function(){var D,z,C,W;return _B(this,function(E){switch(E.label){case 0:return E.trys.push([0,6,,8]),[4,$.describeIndex({indexName:w})];case 1:if(D=E.sent(),(W=D.status)===null||W===void 0?void 0:W.ready)return[3,4];return[4,new Promise(function(Q){return setTimeout(Q,1000)})];case 2:return E.sent(),[4,iz($,w,B+1)];case 3:return[2,E.sent()];case 4:return H6.debugLog("Index ".concat(w," is ready after ").concat(B)),[2,D];case 5:return[3,8];case 6:return z=E.sent(),[4,s.handleApiError(z,function(Q,L){return nB(void 0,void 0,void 0,function(){return _B(this,function(G){return[2,"Error creating index ".concat(w,": ").concat(L)]})})})];case 7:throw C=E.sent(),C;case 8:return[2]}})})}});var _z=X((L1)=>{var V6=L1&&L1.__awaiter||function($,w,B,D){function z(C){return C instanceof B?C:new B(function(W){W(C)})}return new(B||(B=Promise))(function(C,W){function E(G){try{L(D.next(G))}catch(Y){W(Y)}}function Q(G){try{L(D.throw(G))}catch(Y){W(Y)}}function L(G){G.done?C(G.value):z(G.value).then(E,Q)}L((D=D.apply($,w||[])).next())})},M6=L1&&L1.__generator||function($,w){var B={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},D,z,C,W;return W={next:E(0),throw:E(1),return:E(2)},typeof Symbol==="function"&&(W[Symbol.iterator]=function(){return this}),W;function E(L){return function(G){return Q([L,G])}}function Q(L){if(D)throw new TypeError("Generator is already executing.");while(W&&(W=0,L[0]&&(B=0)),B)try{if(D=1,z&&(C=L[0]&2?z.return:L[0]?z.throw||((C=z.return)&&C.call(z),0):z.next)&&!(C=C.call(z,L[1])).done)return C;if(z=0,C)L=[L[0]&2,C.value];switch(L[0]){case 0:case 1:C=L;break;case 4:return B.label++,{value:L[1],done:!1};case 5:B.label++,z=L[1],L=[0];continue;case 7:L=B.ops.pop(),B.trys.pop();continue;default:if((C=B.trys,!(C=C.length>0&&C[C.length-1]))&&(L[0]===6||L[0]===2)){B=0;continue}if(L[0]===3&&(!C||L[1]>C[0]&&L[1]<C[3])){B.label=L[1];break}if(L[0]===6&&B.label<C[1]){B.label=C[1],C=L;break}if(C&&B.label<C[2]){B.label=C[2],B.ops.push(L);break}if(C[2])B.ops.pop();B.trys.pop();continue}L=w.call($,B)}catch(G){L=[6,G],z=0}finally{D=C=0}if(L[0]&5)throw L[1];return{value:L[0]?L[1]:void 0,done:!0}}};Object.defineProperty(L1,"__esModule",{value:!0});L1.deleteIndex=void 0;var N6=k(),F6=function($){return function(w){return V6(void 0,void 0,void 0,function(){return M6(this,function(B){switch(B.label){case 0:if(!w)throw new N6.PineconeArgumentError("You must pass a non-empty string for `indexName` in order to delete an index");return[4,$.deleteIndex({indexName:w})];case 1:return B.sent(),[2]}})})}};L1.deleteIndex=F6});var az=X((z1)=>{var J6=z1&&z1.__awaiter||function($,w,B,D){function z(C){return C instanceof B?C:new B(function(W){W(C)})}return new(B||(B=Promise))(function(C,W){function E(G){try{L(D.next(G))}catch(Y){W(Y)}}function Q(G){try{L(D.throw(G))}catch(Y){W(Y)}}function L(G){G.done?C(G.value):z(G.value).then(E,Q)}L((D=D.apply($,w||[])).next())})},A6=z1&&z1.__generator||function($,w){var B={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},D,z,C,W;return W={next:E(0),throw:E(1),return:E(2)},typeof Symbol==="function"&&(W[Symbol.iterator]=function(){return this}),W;function E(L){return function(G){return Q([L,G])}}function Q(L){if(D)throw new TypeError("Generator is already executing.");while(W&&(W=0,L[0]&&(B=0)),B)try{if(D=1,z&&(C=L[0]&2?z.return:L[0]?z.throw||((C=z.return)&&C.call(z),0):z.next)&&!(C=C.call(z,L[1])).done)return C;if(z=0,C)L=[L[0]&2,C.value];switch(L[0]){case 0:case 1:C=L;break;case 4:return B.label++,{value:L[1],done:!1};case 5:B.label++,z=L[1],L=[0];continue;case 7:L=B.ops.pop(),B.trys.pop();continue;default:if((C=B.trys,!(C=C.length>0&&C[C.length-1]))&&(L[0]===6||L[0]===2)){B=0;continue}if(L[0]===3&&(!C||L[1]>C[0]&&L[1]<C[3])){B.label=L[1];break}if(L[0]===6&&B.label<C[1]){B.label=C[1],C=L;break}if(C&&B.label<C[2]){B.label=C[2],B.ops.push(L);break}if(C[2])B.ops.pop();B.trys.pop();continue}L=w.call($,B)}catch(G){L=[6,G],z=0}finally{D=C=0}if(L[0]&5)throw L[1];return{value:L[0]?L[1]:void 0,done:!0}}};Object.defineProperty(z1,"__esModule",{value:!0});z1.describeIndex=void 0;var f6=k(),R6=function($){var w=function(B){if(B.database)for(var D=0,z=Object.keys(B.database);D<z.length;D++){var C=z[D];if(B.database[C]===void 0)delete B.database[C]}};return function(B){return J6(void 0,void 0,void 0,function(){var D;return A6(this,function(z){switch(z.label){case 0:if(!B)throw new f6.PineconeArgumentError("You must pass a non-empty string for `name` in order to describe an index");return[4,$.describeIndex({indexName:B})];case 1:return D=z.sent(),w(D),[2,D]}})})}};z1.describeIndex=R6});var tz=X((D1)=>{var S6=D1&&D1.__awaiter||function($,w,B,D){function z(C){return C instanceof B?C:new B(function(W){W(C)})}return new(B||(B=Promise))(function(C,W){function E(G){try{L(D.next(G))}catch(Y){W(Y)}}function Q(G){try{L(D.throw(G))}catch(Y){W(Y)}}function L(G){G.done?C(G.value):z(G.value).then(E,Q)}L((D=D.apply($,w||[])).next())})},O6=D1&&D1.__generator||function($,w){var B={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},D,z,C,W;return W={next:E(0),throw:E(1),return:E(2)},typeof Symbol==="function"&&(W[Symbol.iterator]=function(){return this}),W;function E(L){return function(G){return Q([L,G])}}function Q(L){if(D)throw new TypeError("Generator is already executing.");while(W&&(W=0,L[0]&&(B=0)),B)try{if(D=1,z&&(C=L[0]&2?z.return:L[0]?z.throw||((C=z.return)&&C.call(z),0):z.next)&&!(C=C.call(z,L[1])).done)return C;if(z=0,C)L=[L[0]&2,C.value];switch(L[0]){case 0:case 1:C=L;break;case 4:return B.label++,{value:L[1],done:!1};case 5:B.label++,z=L[1],L=[0];continue;case 7:L=B.ops.pop(),B.trys.pop();continue;default:if((C=B.trys,!(C=C.length>0&&C[C.length-1]))&&(L[0]===6||L[0]===2)){B=0;continue}if(L[0]===3&&(!C||L[1]>C[0]&&L[1]<C[3])){B.label=L[1];break}if(L[0]===6&&B.label<C[1]){B.label=C[1],C=L;break}if(C&&B.label<C[2]){B.label=C[2],B.ops.push(L);break}if(C[2])B.ops.pop();B.trys.pop();continue}L=w.call($,B)}catch(G){L=[6,G],z=0}finally{D=C=0}if(L[0]&5)throw L[1];return{value:L[0]?L[1]:void 0,done:!0}}};Object.defineProperty(D1,"__esModule",{value:!0});D1.listIndexes=void 0;var b6=function($){return function(){return S6(void 0,void 0,void 0,function(){var w;return O6(this,function(B){switch(B.label){case 0:return[4,$.listIndexes()];case 1:return w=B.sent(),[2,w]}})})}};D1.listIndexes=b6});var sz=X((G0)=>{var q6=G0&&G0.__awaiter||function($,w,B,D){function z(C){return C instanceof B?C:new B(function(W){W(C)})}return new(B||(B=Promise))(function(C,W){function E(G){try{L(D.next(G))}catch(Y){W(Y)}}function Q(G){try{L(D.throw(G))}catch(Y){W(Y)}}function L(G){G.done?C(G.value):z(G.value).then(E,Q)}L((D=D.apply($,w||[])).next())})},k6=G0&&G0.__generator||function($,w){var B={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},D,z,C,W;return W={next:E(0),throw:E(1),return:E(2)},typeof Symbol==="function"&&(W[Symbol.iterator]=function(){return this}),W;function E(L){return function(G){return Q([L,G])}}function Q(L){if(D)throw new TypeError("Generator is already executing.");while(W&&(W=0,L[0]&&(B=0)),B)try{if(D=1,z&&(C=L[0]&2?z.return:L[0]?z.throw||((C=z.return)&&C.call(z),0):z.next)&&!(C=C.call(z,L[1])).done)return C;if(z=0,C)L=[L[0]&2,C.value];switch(L[0]){case 0:case 1:C=L;break;case 4:return B.label++,{value:L[1],done:!1};case 5:B.label++,z=L[1],L=[0];continue;case 7:L=B.ops.pop(),B.trys.pop();continue;default:if((C=B.trys,!(C=C.length>0&&C[C.length-1]))&&(L[0]===6||L[0]===2)){B=0;continue}if(L[0]===3&&(!C||L[1]>C[0]&&L[1]<C[3])){B.label=L[1];break}if(L[0]===6&&B.label<C[1]){B.label=C[1],C=L;break}if(C&&B.label<C[2]){B.label=C[2],B.ops.push(L);break}if(C[2])B.ops.pop();B.trys.pop();continue}L=w.call($,B)}catch(G){L=[6,G],z=0}finally{D=C=0}if(L[0]&5)throw L[1];return{value:L[0]?L[1]:void 0,done:!0}}};Object.defineProperty(G0,"__esModule",{value:!0});G0.createCollection=G0.CreateCollectionRequestProperties=void 0;var R$=k(),c6=T0();G0.CreateCollectionRequestProperties=["source","name"];var y6=function($){var w=function(B){if(B)c6.ValidateProperties(B,G0.CreateCollectionRequestProperties);if(!B||typeof B!=="object")throw new R$.PineconeArgumentError("You must pass a non-empty object with `name` and `source` fields in order to create a collection.");if(!B.name&&!B.source)throw new R$.PineconeArgumentError("The argument to createCollection must have required properties: `name`, `source`.");if(!B.name)throw new R$.PineconeArgumentError("You must pass a non-empty string for `name` in order to create a collection.");if(!B.source)throw new R$.PineconeArgumentError("You must pass a non-empty string for `source` in order to create a collection.")};return function(B){return q6(void 0,void 0,void 0,function(){return k6(this,function(D){switch(D.label){case 0:return w(B),[4,$.createCollection({createCollectionRequest:B})];case 1:return[2,D.sent()]}})})}};G0.createCollection=y6});var pz=X((W1)=>{var m6=W1&&W1.__awaiter||function($,w,B,D){function z(C){return C instanceof B?C:new B(function(W){W(C)})}return new(B||(B=Promise))(function(C,W){function E(G){try{L(D.next(G))}catch(Y){W(Y)}}function Q(G){try{L(D.throw(G))}catch(Y){W(Y)}}function L(G){G.done?C(G.value):z(G.value).then(E,Q)}L((D=D.apply($,w||[])).next())})},g6=W1&&W1.__generator||function($,w){var B={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},D,z,C,W;return W={next:E(0),throw:E(1),return:E(2)},typeof Symbol==="function"&&(W[Symbol.iterator]=function(){return this}),W;function E(L){return function(G){return Q([L,G])}}function Q(L){if(D)throw new TypeError("Generator is already executing.");while(W&&(W=0,L[0]&&(B=0)),B)try{if(D=1,z&&(C=L[0]&2?z.return:L[0]?z.throw||((C=z.return)&&C.call(z),0):z.next)&&!(C=C.call(z,L[1])).done)return C;if(z=0,C)L=[L[0]&2,C.value];switch(L[0]){case 0:case 1:C=L;break;case 4:return B.label++,{value:L[1],done:!1};case 5:B.label++,z=L[1],L=[0];continue;case 7:L=B.ops.pop(),B.trys.pop();continue;default:if((C=B.trys,!(C=C.length>0&&C[C.length-1]))&&(L[0]===6||L[0]===2)){B=0;continue}if(L[0]===3&&(!C||L[1]>C[0]&&L[1]<C[3])){B.label=L[1];break}if(L[0]===6&&B.label<C[1]){B.label=C[1],C=L;break}if(C&&B.label<C[2]){B.label=C[2],B.ops.push(L);break}if(C[2])B.ops.pop();B.trys.pop();continue}L=w.call($,B)}catch(G){L=[6,G],z=0}finally{D=C=0}if(L[0]&5)throw L[1];return{value:L[0]?L[1]:void 0,done:!0}}};Object.defineProperty(W1,"__esModule",{value:!0});W1.deleteCollection=void 0;var P6=k(),j6=function($){return function(w){return m6(void 0,void 0,void 0,function(){return g6(this,function(B){switch(B.label){case 0:if(!w)throw new P6.PineconeArgumentError("You must pass a non-empty string for `collectionName`");return[4,$.deleteCollection({collectionName:w})];case 1:return B.sent(),[2]}})})}};W1.deleteCollection=j6});var rz=X((G1)=>{var d6=G1&&G1.__awaiter||function($,w,B,D){function z(C){return C instanceof B?C:new B(function(W){W(C)})}return new(B||(B=Promise))(function(C,W){function E(G){try{L(D.next(G))}catch(Y){W(Y)}}function Q(G){try{L(D.throw(G))}catch(Y){W(Y)}}function L(G){G.done?C(G.value):z(G.value).then(E,Q)}L((D=D.apply($,w||[])).next())})},x6=G1&&G1.__generator||function($,w){var B={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},D,z,C,W;return W={next:E(0),throw:E(1),return:E(2)},typeof Symbol==="function"&&(W[Symbol.iterator]=function(){return this}),W;function E(L){return function(G){return Q([L,G])}}function Q(L){if(D)throw new TypeError("Generator is already executing.");while(W&&(W=0,L[0]&&(B=0)),B)try{if(D=1,z&&(C=L[0]&2?z.return:L[0]?z.throw||((C=z.return)&&C.call(z),0):z.next)&&!(C=C.call(z,L[1])).done)return C;if(z=0,C)L=[L[0]&2,C.value];switch(L[0]){case 0:case 1:C=L;break;case 4:return B.label++,{value:L[1],done:!1};case 5:B.label++,z=L[1],L=[0];continue;case 7:L=B.ops.pop(),B.trys.pop();continue;default:if((C=B.trys,!(C=C.length>0&&C[C.length-1]))&&(L[0]===6||L[0]===2)){B=0;continue}if(L[0]===3&&(!C||L[1]>C[0]&&L[1]<C[3])){B.label=L[1];break}if(L[0]===6&&B.label<C[1]){B.label=C[1],C=L;break}if(C&&B.label<C[2]){B.label=C[2],B.ops.push(L);break}if(C[2])B.ops.pop();B.trys.pop();continue}L=w.call($,B)}catch(G){L=[6,G],z=0}finally{D=C=0}if(L[0]&5)throw L[1];return{value:L[0]?L[1]:void 0,done:!0}}};Object.defineProperty(G1,"__esModule",{value:!0});G1.describeCollection=void 0;var l6=k(),v6=function($){return function(w){return d6(void 0,void 0,void 0,function(){return x6(this,function(B){switch(B.label){case 0:if(!w||w.length===0)throw new l6.PineconeArgumentError("You must pass a non-empty string for `name` in order to describe a collection");return[4,$.describeCollection({collectionName:w})];case 1:return[2,B.sent()]}})})}};G1.describeCollection=v6});var oz=X((E1)=>{var u6=E1&&E1.__awaiter||function($,w,B,D){function z(C){return C instanceof B?C:new B(function(W){W(C)})}return new(B||(B=Promise))(function(C,W){function E(G){try{L(D.next(G))}catch(Y){W(Y)}}function Q(G){try{L(D.throw(G))}catch(Y){W(Y)}}function L(G){G.done?C(G.value):z(G.value).then(E,Q)}L((D=D.apply($,w||[])).next())})},i6=E1&&E1.__generator||function($,w){var B={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},D,z,C,W;return W={next:E(0),throw:E(1),return:E(2)},typeof Symbol==="function"&&(W[Symbol.iterator]=function(){return this}),W;function E(L){return function(G){return Q([L,G])}}function Q(L){if(D)throw new TypeError("Generator is already executing.");while(W&&(W=0,L[0]&&(B=0)),B)try{if(D=1,z&&(C=L[0]&2?z.return:L[0]?z.throw||((C=z.return)&&C.call(z),0):z.next)&&!(C=C.call(z,L[1])).done)return C;if(z=0,C)L=[L[0]&2,C.value];switch(L[0]){case 0:case 1:C=L;break;case 4:return B.label++,{value:L[1],done:!1};case 5:B.label++,z=L[1],L=[0];continue;case 7:L=B.ops.pop(),B.trys.pop();continue;default:if((C=B.trys,!(C=C.length>0&&C[C.length-1]))&&(L[0]===6||L[0]===2)){B=0;continue}if(L[0]===3&&(!C||L[1]>C[0]&&L[1]<C[3])){B.label=L[1];break}if(L[0]===6&&B.label<C[1]){B.label=C[1],C=L;break}if(C&&B.label<C[2]){B.label=C[2],B.ops.push(L);break}if(C[2])B.ops.pop();B.trys.pop();continue}L=w.call($,B)}catch(G){L=[6,G],z=0}finally{D=C=0}if(L[0]&5)throw L[1];return{value:L[0]?L[1]:void 0,done:!0}}};Object.defineProperty(E1,"__esModule",{value:!0});E1.listCollections=void 0;var n6=function($){return function(){return u6(void 0,void 0,void 0,function(){var w;return i6(this,function(B){switch(B.label){case 0:return[4,$.listCollections()];case 1:return w=B.sent(),[2,w]}})})}};E1.listCollections=n6});var aB=X((B0)=>{Object.defineProperty(B0,"__esModule",{value:!0});B0.listCollections=B0.describeCollection=B0.deleteCollection=B0.createCollection=B0.listIndexes=B0.describeIndex=B0.deleteIndex=B0.createIndex=B0.configureIndex=B0.indexOperationsBuilder=void 0;var _6=mz();Object.defineProperty(B0,"indexOperationsBuilder",{enumerable:!0,get:function(){return _6.indexOperationsBuilder}});var a6=dz();Object.defineProperty(B0,"configureIndex",{enumerable:!0,get:function(){return a6.configureIndex}});var t6=nz();Object.defineProperty(B0,"createIndex",{enumerable:!0,get:function(){return t6.createIndex}});var s6=_z();Object.defineProperty(B0,"deleteIndex",{enumerable:!0,get:function(){return s6.deleteIndex}});var p6=az();Object.defineProperty(B0,"describeIndex",{enumerable:!0,get:function(){return p6.describeIndex}});var r6=tz();Object.defineProperty(B0,"listIndexes",{enumerable:!0,get:function(){return r6.listIndexes}});var o6=sz();Object.defineProperty(B0,"createCollection",{enumerable:!0,get:function(){return o6.createCollection}});var e6=pz();Object.defineProperty(B0,"deleteCollection",{enumerable:!0,get:function(){return e6.deleteCollection}});var $Q=rz();Object.defineProperty(B0,"describeCollection",{enumerable:!0,get:function(){return $Q.describeCollection}});var BQ=oz();Object.defineProperty(B0,"listCollections",{enumerable:!0,get:function(){return BQ.listCollections}})});var S$=X((Q1)=>{var ez=Q1&&Q1.__awaiter||function($,w,B,D){function z(C){return C instanceof B?C:new B(function(W){W(C)})}return new(B||(B=Promise))(function(C,W){function E(G){try{L(D.next(G))}catch(Y){W(Y)}}function Q(G){try{L(D.throw(G))}catch(Y){W(Y)}}function L(G){G.done?C(G.value):z(G.value).then(E,Q)}L((D=D.apply($,w||[])).next())})},$5=Q1&&Q1.__generator||function($,w){var B={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},D,z,C,W;return W={next:E(0),throw:E(1),return:E(2)},typeof Symbol==="function"&&(W[Symbol.iterator]=function(){return this}),W;function E(L){return function(G){return Q([L,G])}}function Q(L){if(D)throw new TypeError("Generator is already executing.");while(W&&(W=0,L[0]&&(B=0)),B)try{if(D=1,z&&(C=L[0]&2?z.return:L[0]?z.throw||((C=z.return)&&C.call(z),0):z.next)&&!(C=C.call(z,L[1])).done)return C;if(z=0,C)L=[L[0]&2,C.value];switch(L[0]){case 0:case 1:C=L;break;case 4:return B.label++,{value:L[1],done:!1};case 5:B.label++,z=L[1],L=[0];continue;case 7:L=B.ops.pop(),B.trys.pop();continue;default:if((C=B.trys,!(C=C.length>0&&C[C.length-1]))&&(L[0]===6||L[0]===2)){B=0;continue}if(L[0]===3&&(!C||L[1]>C[0]&&L[1]<C[3])){B.label=L[1];break}if(L[0]===6&&B.label<C[1]){B.label=C[1],C=L;break}if(C&&B.label<C[2]){B.label=C[2],B.ops.push(L);break}if(C[2])B.ops.pop();B.trys.pop();continue}L=w.call($,B)}catch(G){L=[6,G],z=0}finally{D=C=0}if(L[0]&5)throw L[1];return{value:L[0]?L[1]:void 0,done:!0}}};Object.defineProperty(Q1,"__esModule",{value:!0});Q1.IndexHostSingleton=void 0;var B5=aB(),C5=k(),wQ=Z0();Q1.IndexHostSingleton=function(){var $=this,w={},B=function(C,W){return ez($,void 0,void 0,function(){var E,Q,L;return $5(this,function(G){switch(G.label){case 0:return E=B5.indexOperationsBuilder(C),[4,B5.describeIndex(E)(W)];case 1:if(Q=G.sent(),L=Q.host,!L)throw new C5.PineconeUnableToResolveHostError("The HTTP call succeeded but the host URL could not be resolved. Please make sure the index exists and is in a ready state.");else return[2,L];return[2]}})})},D=function(C,W){return"".concat(C.apiKey,"-").concat(W)},z={getHostUrl:function(C,W){return ez($,void 0,void 0,function(){var E,Q;return $5(this,function(L){switch(L.label){case 0:if(E=D(C,W),!(E in w))return[3,1];return[2,w[E]];case 1:return[4,B(C,W)];case 2:if(Q=L.sent(),z._set(C,W,Q),!w[E])throw new C5.PineconeUnableToResolveHostError("Could not get host for index: ".concat(W,". Call describeIndex('").concat(W,"') to check the current status."));return[2,w[E]]}})})},_reset:function(){for(var C=0,W=Object.keys(w);C<W.length;C++){var E=W[C];delete w[E]}},_set:function(C,W,E){var Q=wQ.normalizeUrl(E);if(!Q)return;var L=D(C,W);w[L]=Q},_delete:function(C,W){var E=D(C,W);delete w[E]}};return z}()});var tB=X((w5)=>{Object.defineProperty(w5,"__esModule",{value:!0});w5.PineconeRecordsProperties=w5.PineconeConfigurationProperties=void 0;w5.PineconeConfigurationProperties=["apiKey","controllerHostUrl","fetchApi","additionalHeaders","sourceTag","maxRetries"];w5.PineconeRecordsProperties=["id","values","sparseValues","metadata"]});var z5=X((Y1)=>{var zQ=Y1&&Y1.__awaiter||function($,w,B,D){function z(C){return C instanceof B?C:new B(function(W){W(C)})}return new(B||(B=Promise))(function(C,W){function E(G){try{L(D.next(G))}catch(Y){W(Y)}}function Q(G){try{L(D.throw(G))}catch(Y){W(Y)}}function L(G){G.done?C(G.value):z(G.value).then(E,Q)}L((D=D.apply($,w||[])).next())})},DQ=Y1&&Y1.__generator||function($,w){var B={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},D,z,C,W;return W={next:E(0),throw:E(1),return:E(2)},typeof Symbol==="function"&&(W[Symbol.iterator]=function(){return this}),W;function E(L){return function(G){return Q([L,G])}}function Q(L){if(D)throw new TypeError("Generator is already executing.");while(W&&(W=0,L[0]&&(B=0)),B)try{if(D=1,z&&(C=L[0]&2?z.return:L[0]?z.throw||((C=z.return)&&C.call(z),0):z.next)&&!(C=C.call(z,L[1])).done)return C;if(z=0,C)L=[L[0]&2,C.value];switch(L[0]){case 0:case 1:C=L;break;case 4:return B.label++,{value:L[1],done:!1};case 5:B.label++,z=L[1],L=[0];continue;case 7:L=B.ops.pop(),B.trys.pop();continue;default:if((C=B.trys,!(C=C.length>0&&C[C.length-1]))&&(L[0]===6||L[0]===2)){B=0;continue}if(L[0]===3&&(!C||L[1]>C[0]&&L[1]<C[3])){B.label=L[1];break}if(L[0]===6&&B.label<C[1]){B.label=C[1],C=L;break}if(C&&B.label<C[2]){B.label=C[2],B.ops.push(L);break}if(C[2])B.ops.pop();B.trys.pop();continue}L=w.call($,B)}catch(G){L=[6,G],z=0}finally{D=C=0}if(L[0]&5)throw L[1];return{value:L[0]?L[1]:void 0,done:!0}}};Object.defineProperty(Y1,"__esModule",{value:!0});Y1.UpsertCommand=void 0;var WQ=tB(),sB=k(),GQ=T0(),EQ=Z0(),QQ=function(){function $(w,B){this.validator=function(D){for(var z=0,C=D;z<C.length;z++){var W=C[z];GQ.ValidateProperties(W,WQ.PineconeRecordsProperties)}if(D.length===0)throw new sB.PineconeArgumentError("Must pass in at least 1 record to upsert.");D.forEach(function(E){if(!E.id)throw new sB.PineconeArgumentError("Every record must include an `id` property in order to upsert.");if(!E.values)throw new sB.PineconeArgumentError("Every record must include a `values` property in order to upsert.")})},this.apiProvider=w,this.namespace=B}return $.prototype.run=function(w,B){return zQ(this,void 0,void 0,function(){var D,z;return DQ(this,function(C){switch(C.label){case 0:return this.validator(w),[4,this.apiProvider.provide()];case 1:return D=C.sent(),z=new EQ.RetryOnServerFailure(D.upsertVectors.bind(D),B),[4,z.execute({upsertRequest:{vectors:w,namespace:this.namespace}})];case 2:return C.sent(),[2]}})})},$}();Y1.UpsertCommand=QQ});var D5=X((K0)=>{var pB=K0&&K0.__assign||function(){return pB=Object.assign||function($){for(var w,B=1,D=arguments.length;B<D;B++){w=arguments[B];for(var z in w)if(Object.prototype.hasOwnProperty.call(w,z))$[z]=w[z]}return $},pB.apply(this,arguments)},YQ=K0&&K0.__awaiter||function($,w,B,D){function z(C){return C instanceof B?C:new B(function(W){W(C)})}return new(B||(B=Promise))(function(C,W){function E(G){try{L(D.next(G))}catch(Y){W(Y)}}function Q(G){try{L(D.throw(G))}catch(Y){W(Y)}}function L(G){G.done?C(G.value):z(G.value).then(E,Q)}L((D=D.apply($,w||[])).next())})},XQ=K0&&K0.__generator||function($,w){var B={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},D,z,C,W;return W={next:E(0),throw:E(1),return:E(2)},typeof Symbol==="function"&&(W[Symbol.iterator]=function(){return this}),W;function E(L){return function(G){return Q([L,G])}}function Q(L){if(D)throw new TypeError("Generator is already executing.");while(W&&(W=0,L[0]&&(B=0)),B)try{if(D=1,z&&(C=L[0]&2?z.return:L[0]?z.throw||((C=z.return)&&C.call(z),0):z.next)&&!(C=C.call(z,L[1])).done)return C;if(z=0,C)L=[L[0]&2,C.value];switch(L[0]){case 0:case 1:C=L;break;case 4:return B.label++,{value:L[1],done:!1};case 5:B.label++,z=L[1],L=[0];continue;case 7:L=B.ops.pop(),B.trys.pop();continue;default:if((C=B.trys,!(C=C.length>0&&C[C.length-1]))&&(L[0]===6||L[0]===2)){B=0;continue}if(L[0]===3&&(!C||L[1]>C[0]&&L[1]<C[3])){B.label=L[1];break}if(L[0]===6&&B.label<C[1]){B.label=C[1],C=L;break}if(C&&B.label<C[2]){B.label=C[2],B.ops.push(L);break}if(C[2])B.ops.pop();B.trys.pop();continue}L=w.call($,B)}catch(G){L=[6,G],z=0}finally{D=C=0}if(L[0]&5)throw L[1];return{value:L[0]?L[1]:void 0,done:!0}}};Object.defineProperty(K0,"__esModule",{value:!0});K0.FetchCommand=void 0;var ZQ=k(),HQ=function(){function $(w,B){this.validator=function(D){if(D.length===0)throw new ZQ.PineconeArgumentError("Must pass in at least 1 recordID.")},this.apiProvider=w,this.namespace=B}return $.prototype.run=function(w){return YQ(this,void 0,void 0,function(){var B,D;return XQ(this,function(z){switch(z.label){case 0:return this.validator(w),[4,this.apiProvider.provide()];case 1:return B=z.sent(),[4,B.fetchVectors({ids:w,namespace:this.namespace})];case 2:return D=z.sent(),[2,pB({records:D.vectors?D.vectors:{},namespace:D.namespace?D.namespace:""},D.usage&&{usage:D.usage})]}})})},$}();K0.FetchCommand=HQ});var W5=X((h0)=>{var O$=h0&&h0.__assign||function(){return O$=Object.assign||function($){for(var w,B=1,D=arguments.length;B<D;B++){w=arguments[B];for(var z in w)if(Object.prototype.hasOwnProperty.call(w,z))$[z]=w[z]}return $},O$.apply(this,arguments)},TQ=h0&&h0.__awaiter||function($,w,B,D){function z(C){return C instanceof B?C:new B(function(W){W(C)})}return new(B||(B=Promise))(function(C,W){function E(G){try{L(D.next(G))}catch(Y){W(Y)}}function Q(G){try{L(D.throw(G))}catch(Y){W(Y)}}function L(G){G.done?C(G.value):z(G.value).then(E,Q)}L((D=D.apply($,w||[])).next())})},KQ=h0&&h0.__generator||function($,w){var B={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},D,z,C,W;return W={next:E(0),throw:E(1),return:E(2)},typeof Symbol==="function"&&(W[Symbol.iterator]=function(){return this}),W;function E(L){return function(G){return Q([L,G])}}function Q(L){if(D)throw new TypeError("Generator is already executing.");while(W&&(W=0,L[0]&&(B=0)),B)try{if(D=1,z&&(C=L[0]&2?z.return:L[0]?z.throw||((C=z.return)&&C.call(z),0):z.next)&&!(C=C.call(z,L[1])).done)return C;if(z=0,C)L=[L[0]&2,C.value];switch(L[0]){case 0:case 1:C=L;break;case 4:return B.label++,{value:L[1],done:!1};case 5:B.label++,z=L[1],L=[0];continue;case 7:L=B.ops.pop(),B.trys.pop();continue;default:if((C=B.trys,!(C=C.length>0&&C[C.length-1]))&&(L[0]===6||L[0]===2)){B=0;continue}if(L[0]===3&&(!C||L[1]>C[0]&&L[1]<C[3])){B.label=L[1];break}if(L[0]===6&&B.label<C[1]){B.label=C[1],C=L;break}if(C&&B.label<C[2]){B.label=C[2],B.ops.push(L);break}if(C[2])B.ops.pop();B.trys.pop();continue}L=w.call($,B)}catch(G){L=[6,G],z=0}finally{D=C=0}if(L[0]&5)throw L[1];return{value:L[0]?L[1]:void 0,done:!0}}};Object.defineProperty(h0,"__esModule",{value:!0});h0.UpdateCommand=void 0;var hQ=k(),IQ=T0(),UQ=Z0(),VQ=["id","values","sparseValues","metadata"],MQ=function(){function $(w,B){this.validator=function(D){if(D)IQ.ValidateProperties(D,VQ);if(D&&!D.id)throw new hQ.PineconeArgumentError("You must enter a non-empty string for the `id` field in order to update a record.")},this.apiProvider=w,this.namespace=B}return $.prototype.run=function(w,B){return TQ(this,void 0,void 0,function(){var D,z,C;return KQ(this,function(W){switch(W.label){case 0:return this.validator(w),D={id:w.id,values:w.values,sparseValues:w.sparseValues,setMetadata:w.metadata},[4,this.apiProvider.provide()];case 1:return z=W.sent(),C=new UQ.RetryOnServerFailure(z.updateVector.bind(z),B),[4,C.execute({updateRequest:O$(O$({},D),{namespace:this.namespace})})];case 2:return W.sent(),[2]}})})},$}();h0.UpdateCommand=MQ});var G5=X((I0)=>{var Q$=I0&&I0.__assign||function(){return Q$=Object.assign||function($){for(var w,B=1,D=arguments.length;B<D;B++){w=arguments[B];for(var z in w)if(Object.prototype.hasOwnProperty.call(w,z))$[z]=w[z]}return $},Q$.apply(this,arguments)},NQ=I0&&I0.__awaiter||function($,w,B,D){function z(C){return C instanceof B?C:new B(function(W){W(C)})}return new(B||(B=Promise))(function(C,W){function E(G){try{L(D.next(G))}catch(Y){W(Y)}}function Q(G){try{L(D.throw(G))}catch(Y){W(Y)}}function L(G){G.done?C(G.value):z(G.value).then(E,Q)}L((D=D.apply($,w||[])).next())})},FQ=I0&&I0.__generator||function($,w){var B={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},D,z,C,W;return W={next:E(0),throw:E(1),return:E(2)},typeof Symbol==="function"&&(W[Symbol.iterator]=function(){return this}),W;function E(L){return function(G){return Q([L,G])}}function Q(L){if(D)throw new TypeError("Generator is already executing.");while(W&&(W=0,L[0]&&(B=0)),B)try{if(D=1,z&&(C=L[0]&2?z.return:L[0]?z.throw||((C=z.return)&&C.call(z),0):z.next)&&!(C=C.call(z,L[1])).done)return C;if(z=0,C)L=[L[0]&2,C.value];switch(L[0]){case 0:case 1:C=L;break;case 4:return B.label++,{value:L[1],done:!1};case 5:B.label++,z=L[1],L=[0];continue;case 7:L=B.ops.pop(),B.trys.pop();continue;default:if((C=B.trys,!(C=C.length>0&&C[C.length-1]))&&(L[0]===6||L[0]===2)){B=0;continue}if(L[0]===3&&(!C||L[1]>C[0]&&L[1]<C[3])){B.label=L[1];break}if(L[0]===6&&B.label<C[1]){B.label=C[1],C=L;break}if(C&&B.label<C[2]){B.label=C[2],B.ops.push(L);break}if(C[2])B.ops.pop();B.trys.pop();continue}L=w.call($,B)}catch(G){L=[6,G],z=0}finally{D=C=0}if(L[0]&5)throw L[1];return{value:L[0]?L[1]:void 0,done:!0}}};Object.defineProperty(I0,"__esModule",{value:!0});I0.QueryCommand=void 0;var g1=k(),JQ=T0(),AQ=["id","vector","sparseVector","includeValues","includeMetadata","filter","topK"],fQ=function(){function $(w,B){this.validator=function(D){var z,C;if(D)JQ.ValidateProperties(D,AQ);if(!D)throw new g1.PineconeArgumentError("You must enter a query configuration object to query the index.");if(D&&!D.topK)throw new g1.PineconeArgumentError("You must enter an integer for the `topK` search results to be returned.");if(D&&D.topK&&D.topK<1)throw new g1.PineconeArgumentError("`topK` property must be greater than 0.");if(D&&D.filter){var W=Object.keys(D.filter);if(W.length===0)throw new g1.PineconeArgumentError("You must enter a `filter` object with at least one key-value pair.")}if("id"in D){if(!D.id)throw new g1.PineconeArgumentError("You must enter non-empty string for `id` to query by record ID.")}if("vector"in D){if(D.vector.length===0)throw new g1.PineconeArgumentError("You must enter an array of `RecordValues` in order to query by vector values.")}if("sparseVector"in D){if(((z=D.sparseVector)===null||z===void 0?void 0:z.indices.length)===0||((C=D.sparseVector)===null||C===void 0?void 0:C.values.length)===0)throw new g1.PineconeArgumentError("You must enter a `RecordSparseValues` object with `indices` and `values` properties in order to query by sparse vector values.")}},this.apiProvider=w,this.namespace=B}return $.prototype.run=function(w){return NQ(this,void 0,void 0,function(){var B,D,z;return FQ(this,function(C){switch(C.label){case 0:return this.validator(w),[4,this.apiProvider.provide()];case 1:return B=C.sent(),[4,B.queryVectors({queryRequest:Q$(Q$({},w),{namespace:this.namespace})})];case 2:return D=C.sent(),z=D.matches?D.matches:[],[2,Q$({matches:z,namespace:this.namespace},D.usage&&{usage:D.usage})]}})})},$}();I0.QueryCommand=fQ});var E5=X((X1)=>{var RQ=X1&&X1.__awaiter||function($,w,B,D){function z(C){return C instanceof B?C:new B(function(W){W(C)})}return new(B||(B=Promise))(function(C,W){function E(G){try{L(D.next(G))}catch(Y){W(Y)}}function Q(G){try{L(D.throw(G))}catch(Y){W(Y)}}function L(G){G.done?C(G.value):z(G.value).then(E,Q)}L((D=D.apply($,w||[])).next())})},SQ=X1&&X1.__generator||function($,w){var B={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},D,z,C,W;return W={next:E(0),throw:E(1),return:E(2)},typeof Symbol==="function"&&(W[Symbol.iterator]=function(){return this}),W;function E(L){return function(G){return Q([L,G])}}function Q(L){if(D)throw new TypeError("Generator is already executing.");while(W&&(W=0,L[0]&&(B=0)),B)try{if(D=1,z&&(C=L[0]&2?z.return:L[0]?z.throw||((C=z.return)&&C.call(z),0):z.next)&&!(C=C.call(z,L[1])).done)return C;if(z=0,C)L=[L[0]&2,C.value];switch(L[0]){case 0:case 1:C=L;break;case 4:return B.label++,{value:L[1],done:!1};case 5:B.label++,z=L[1],L=[0];continue;case 7:L=B.ops.pop(),B.trys.pop();continue;default:if((C=B.trys,!(C=C.length>0&&C[C.length-1]))&&(L[0]===6||L[0]===2)){B=0;continue}if(L[0]===3&&(!C||L[1]>C[0]&&L[1]<C[3])){B.label=L[1];break}if(L[0]===6&&B.label<C[1]){B.label=C[1],C=L;break}if(C&&B.label<C[2]){B.label=C[2],B.ops.push(L);break}if(C[2])B.ops.pop();B.trys.pop();continue}L=w.call($,B)}catch(G){L=[6,G],z=0}finally{D=C=0}if(L[0]&5)throw L[1];return{value:L[0]?L[1]:void 0,done:!0}}};Object.defineProperty(X1,"__esModule",{value:!0});X1.deleteOne=void 0;var OQ=k(),bQ=function($,w){var B=function(D){if(!D)throw new OQ.PineconeArgumentError("You must pass a non-empty string for `options` in order to delete a record.")};return function(D){return RQ(void 0,void 0,void 0,function(){var z;return SQ(this,function(C){switch(C.label){case 0:return B(D),[4,$.provide()];case 1:return z=C.sent(),[4,z.deleteVectors({deleteRequest:{ids:[D],namespace:w}})];case 2:return C.sent(),[2]}})})}};X1.deleteOne=bQ});var Y5=X((U0)=>{var b$=U0&&U0.__assign||function(){return b$=Object.assign||function($){for(var w,B=1,D=arguments.length;B<D;B++){w=arguments[B];for(var z in w)if(Object.prototype.hasOwnProperty.call(w,z))$[z]=w[z]}return $},b$.apply(this,arguments)},qQ=U0&&U0.__awaiter||function($,w,B,D){function z(C){return C instanceof B?C:new B(function(W){W(C)})}return new(B||(B=Promise))(function(C,W){function E(G){try{L(D.next(G))}catch(Y){W(Y)}}function Q(G){try{L(D.throw(G))}catch(Y){W(Y)}}function L(G){G.done?C(G.value):z(G.value).then(E,Q)}L((D=D.apply($,w||[])).next())})},kQ=U0&&U0.__generator||function($,w){var B={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},D,z,C,W;return W={next:E(0),throw:E(1),return:E(2)},typeof Symbol==="function"&&(W[Symbol.iterator]=function(){return this}),W;function E(L){return function(G){return Q([L,G])}}function Q(L){if(D)throw new TypeError("Generator is already executing.");while(W&&(W=0,L[0]&&(B=0)),B)try{if(D=1,z&&(C=L[0]&2?z.return:L[0]?z.throw||((C=z.return)&&C.call(z),0):z.next)&&!(C=C.call(z,L[1])).done)return C;if(z=0,C)L=[L[0]&2,C.value];switch(L[0]){case 0:case 1:C=L;break;case 4:return B.label++,{value:L[1],done:!1};case 5:B.label++,z=L[1],L=[0];continue;case 7:L=B.ops.pop(),B.trys.pop();continue;default:if((C=B.trys,!(C=C.length>0&&C[C.length-1]))&&(L[0]===6||L[0]===2)){B=0;continue}if(L[0]===3&&(!C||L[1]>C[0]&&L[1]<C[3])){B.label=L[1];break}if(L[0]===6&&B.label<C[1]){B.label=C[1],C=L;break}if(C&&B.label<C[2]){B.label=C[2],B.ops.push(L);break}if(C[2])B.ops.pop();B.trys.pop();continue}L=w.call($,B)}catch(G){L=[6,G],z=0}finally{D=C=0}if(L[0]&5)throw L[1];return{value:L[0]?L[1]:void 0,done:!0}}};Object.defineProperty(U0,"__esModule",{value:!0});U0.deleteMany=void 0;var Q5=k(),cQ=function($,w){var B=function(z){for(var C in z)if(!z[C])throw new Q5.PineconeArgumentError("`filter` property cannot be empty for key ".concat(C))},D=function(z){if(!Array.isArray(z))return B(z);else if(z.length===0)throw new Q5.PineconeArgumentError("Must pass in at least 1 record ID.")};return function(z){return qQ(void 0,void 0,void 0,function(){var C,W;return kQ(this,function(E){switch(E.label){case 0:if(D(z),C={},Array.isArray(z))C.ids=z;else C.filter=z;return[4,$.provide()];case 1:return W=E.sent(),[4,W.deleteVectors({deleteRequest:b$(b$({},C),{namespace:w})})];case 2:return E.sent(),[2]}})})}};U0.deleteMany=cQ});var X5=X((Z1)=>{var yQ=Z1&&Z1.__awaiter||function($,w,B,D){function z(C){return C instanceof B?C:new B(function(W){W(C)})}return new(B||(B=Promise))(function(C,W){function E(G){try{L(D.next(G))}catch(Y){W(Y)}}function Q(G){try{L(D.throw(G))}catch(Y){W(Y)}}function L(G){G.done?C(G.value):z(G.value).then(E,Q)}L((D=D.apply($,w||[])).next())})},mQ=Z1&&Z1.__generator||function($,w){var B={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},D,z,C,W;return W={next:E(0),throw:E(1),return:E(2)},typeof Symbol==="function"&&(W[Symbol.iterator]=function(){return this}),W;function E(L){return function(G){return Q([L,G])}}function Q(L){if(D)throw new TypeError("Generator is already executing.");while(W&&(W=0,L[0]&&(B=0)),B)try{if(D=1,z&&(C=L[0]&2?z.return:L[0]?z.throw||((C=z.return)&&C.call(z),0):z.next)&&!(C=C.call(z,L[1])).done)return C;if(z=0,C)L=[L[0]&2,C.value];switch(L[0]){case 0:case 1:C=L;break;case 4:return B.label++,{value:L[1],done:!1};case 5:B.label++,z=L[1],L=[0];continue;case 7:L=B.ops.pop(),B.trys.pop();continue;default:if((C=B.trys,!(C=C.length>0&&C[C.length-1]))&&(L[0]===6||L[0]===2)){B=0;continue}if(L[0]===3&&(!C||L[1]>C[0]&&L[1]<C[3])){B.label=L[1];break}if(L[0]===6&&B.label<C[1]){B.label=C[1],C=L;break}if(C&&B.label<C[2]){B.label=C[2],B.ops.push(L);break}if(C[2])B.ops.pop();B.trys.pop();continue}L=w.call($,B)}catch(G){L=[6,G],z=0}finally{D=C=0}if(L[0]&5)throw L[1];return{value:L[0]?L[1]:void 0,done:!0}}};Object.defineProperty(Z1,"__esModule",{value:!0});Z1.deleteAll=void 0;var gQ=function($,w){return function(){return yQ(void 0,void 0,void 0,function(){var B;return mQ(this,function(D){switch(D.label){case 0:return[4,$.provide()];case 1:return B=D.sent(),[4,B.deleteVectors({deleteRequest:{deleteAll:!0,namespace:w}})];case 2:return D.sent(),[2]}})})}};Z1.deleteAll=gQ});var Z5=X((V0)=>{var rB=V0&&V0.__assign||function(){return rB=Object.assign||function($){for(var w,B=1,D=arguments.length;B<D;B++){w=arguments[B];for(var z in w)if(Object.prototype.hasOwnProperty.call(w,z))$[z]=w[z]}return $},rB.apply(this,arguments)},PQ=V0&&V0.__awaiter||function($,w,B,D){function z(C){return C instanceof B?C:new B(function(W){W(C)})}return new(B||(B=Promise))(function(C,W){function E(G){try{L(D.next(G))}catch(Y){W(Y)}}function Q(G){try{L(D.throw(G))}catch(Y){W(Y)}}function L(G){G.done?C(G.value):z(G.value).then(E,Q)}L((D=D.apply($,w||[])).next())})},jQ=V0&&V0.__generator||function($,w){var B={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},D,z,C,W;return W={next:E(0),throw:E(1),return:E(2)},typeof Symbol==="function"&&(W[Symbol.iterator]=function(){return this}),W;function E(L){return function(G){return Q([L,G])}}function Q(L){if(D)throw new TypeError("Generator is already executing.");while(W&&(W=0,L[0]&&(B=0)),B)try{if(D=1,z&&(C=L[0]&2?z.return:L[0]?z.throw||((C=z.return)&&C.call(z),0):z.next)&&!(C=C.call(z,L[1])).done)return C;if(z=0,C)L=[L[0]&2,C.value];switch(L[0]){case 0:case 1:C=L;break;case 4:return B.label++,{value:L[1],done:!1};case 5:B.label++,z=L[1],L=[0];continue;case 7:L=B.ops.pop(),B.trys.pop();continue;default:if((C=B.trys,!(C=C.length>0&&C[C.length-1]))&&(L[0]===6||L[0]===2)){B=0;continue}if(L[0]===3&&(!C||L[1]>C[0]&&L[1]<C[3])){B.label=L[1];break}if(L[0]===6&&B.label<C[1]){B.label=C[1],C=L;break}if(C&&B.label<C[2]){B.label=C[2],B.ops.push(L);break}if(C[2])B.ops.pop();B.trys.pop();continue}L=w.call($,B)}catch(G){L=[6,G],z=0}finally{D=C=0}if(L[0]&5)throw L[1];return{value:L[0]?L[1]:void 0,done:!0}}};Object.defineProperty(V0,"__esModule",{value:!0});V0.describeIndexStats=void 0;var dQ=k(),xQ=T0(),lQ=function($){var w=function(B){if(B)xQ.ValidateProperties(B,["filter"]);var D=B.filter;for(var z in D)if(!D[z])throw new dQ.PineconeArgumentError("`filter` property cannot be empty for ".concat(z))};return function(B){return PQ(void 0,void 0,void 0,function(){var D,z,C,W;return jQ(this,function(E){switch(E.label){case 0:if(B)w(B);return[4,$.provide()];case 1:return D=E.sent(),[4,D.describeIndexStats({describeIndexStatsRequest:rB({},B)})];case 2:if(z=E.sent(),C={namespaces:{},dimension:z.dimension,indexFullness:z.indexFullness,totalRecordCount:z.totalVectorCount},z.namespaces)for(W in z.namespaces)C.namespaces[W]={recordCount:z.namespaces[W].vectorCount};return[2,C]}})})}};V0.describeIndexStats=lQ});var R=X((V)=>{var oB=V&&V.__extends||function(){var $=function(w,B){return $=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,z){D.__proto__=z}||function(D,z){for(var C in z)if(Object.prototype.hasOwnProperty.call(z,C))D[C]=z[C]},$(w,B)};return function(w,B){if(typeof B!=="function"&&B!==null)throw new TypeError("Class extends value "+String(B)+" is not a constructor or null");$(w,B);function D(){this.constructor=w}w.prototype=B===null?Object.create(B):(D.prototype=B.prototype,new D)}}(),j0=V&&V.__assign||function(){return j0=Object.assign||function($){for(var w,B=1,D=arguments.length;B<D;B++){w=arguments[B];for(var z in w)if(Object.prototype.hasOwnProperty.call(w,z))$[z]=w[z]}return $},j0.apply(this,arguments)},d0=V&&V.__awaiter||function($,w,B,D){function z(C){return C instanceof B?C:new B(function(W){W(C)})}return new(B||(B=Promise))(function(C,W){function E(G){try{L(D.next(G))}catch(Y){W(Y)}}function Q(G){try{L(D.throw(G))}catch(Y){W(Y)}}function L(G){G.done?C(G.value):z(G.value).then(E,Q)}L((D=D.apply($,w||[])).next())})},x0=V&&V.__generator||function($,w){var B={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},D,z,C,W;return W={next:E(0),throw:E(1),return:E(2)},typeof Symbol==="function"&&(W[Symbol.iterator]=function(){return this}),W;function E(L){return function(G){return Q([L,G])}}function Q(L){if(D)throw new TypeError("Generator is already executing.");while(W&&(W=0,L[0]&&(B=0)),B)try{if(D=1,z&&(C=L[0]&2?z.return:L[0]?z.throw||((C=z.return)&&C.call(z),0):z.next)&&!(C=C.call(z,L[1])).done)return C;if(z=0,C)L=[L[0]&2,C.value];switch(L[0]){case 0:case 1:C=L;break;case 4:return B.label++,{value:L[1],done:!1};case 5:B.label++,z=L[1],L=[0];continue;case 7:L=B.ops.pop(),B.trys.pop();continue;default:if((C=B.trys,!(C=C.length>0&&C[C.length-1]))&&(L[0]===6||L[0]===2)){B=0;continue}if(L[0]===3&&(!C||L[1]>C[0]&&L[1]<C[3])){B.label=L[1];break}if(L[0]===6&&B.label<C[1]){B.label=C[1],C=L;break}if(C&&B.label<C[2]){B.label=C[2],B.ops.push(L);break}if(C[2])B.ops.pop();B.trys.pop();continue}L=w.call($,B)}catch(G){L=[6,G],z=0}finally{D=C=0}if(L[0]&5)throw L[1];return{value:L[0]?L[1]:void 0,done:!0}}};Object.defineProperty(V,"__esModule",{value:!0});V.TextApiResponse=V.BlobApiResponse=V.VoidApiResponse=V.JSONApiResponse=V.canConsumeForm=V.mapValues=V.querystring=V.exists=V.COLLECTION_FORMATS=V.RequiredError=V.FetchError=V.ResponseError=V.BaseAPI=V.DefaultConfig=V.Configuration=V.BASE_PATH=void 0;V.BASE_PATH="https://unknown".replace(/\/+$/,"");var H5=function(){function $(w){if(w===void 0)w={};this.configuration=w}return Object.defineProperty($.prototype,"config",{set:function(w){this.configuration=w},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"basePath",{get:function(){return this.configuration.basePath!=null?this.configuration.basePath:V.BASE_PATH},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"fetchApi",{get:function(){return this.configuration.fetchApi},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"middleware",{get:function(){return this.configuration.middleware||[]},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"queryParamsStringify",{get:function(){return this.configuration.queryParamsStringify||eB},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"username",{get:function(){return this.configuration.username},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"password",{get:function(){return this.configuration.password},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"apiKey",{get:function(){var w=this.configuration.apiKey;if(w)return typeof w==="function"?w:function(){return w};return},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"accessToken",{get:function(){var w=this,B=this.configuration.accessToken;if(B)return typeof B==="function"?B:function(){return d0(w,void 0,void 0,function(){return x0(this,function(D){return[2,B]})})};return},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"headers",{get:function(){return this.configuration.headers},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"credentials",{get:function(){return this.configuration.credentials},enumerable:!1,configurable:!0}),$}();V.Configuration=H5;V.DefaultConfig=new H5;var vQ=function(){function $(w){if(w===void 0)w=V.DefaultConfig;var B=this;this.configuration=w,this.fetchApi=function(D,z){return d0(B,void 0,void 0,function(){var C,W,E,H,Q,L,G,Y,H,h,I,H;return x0(this,function(Z){switch(Z.label){case 0:C={url:D,init:z},W=0,E=this.middleware,Z.label=1;case 1:if(!(W<E.length))return[3,4];if(H=E[W],!H.pre)return[3,3];return[4,H.pre(j0({fetch:this.fetchApi},C))];case 2:C=Z.sent()||C,Z.label=3;case 3:return W++,[3,1];case 4:Q=void 0,Z.label=5;case 5:return Z.trys.push([5,7,,12]),[4,(this.configuration.fetchApi||fetch)(C.url,C.init)];case 6:return Q=Z.sent(),[3,12];case 7:L=Z.sent(),G=0,Y=this.middleware,Z.label=8;case 8:if(!(G<Y.length))return[3,11];if(H=Y[G],!H.onError)return[3,10];return[4,H.onError({fetch:this.fetchApi,url:C.url,init:C.init,error:L,response:Q?Q.clone():void 0})];case 9:Q=Z.sent()||Q,Z.label=10;case 10:return G++,[3,8];case 11:if(Q===void 0)if(L instanceof Error)throw new K5(L,"The request failed and the interceptors did not return an alternative response");else throw L;return[3,12];case 12:h=0,I=this.middleware,Z.label=13;case 13:if(!(h<I.length))return[3,16];if(H=I[h],!H.post)return[3,15];return[4,H.post({fetch:this.fetchApi,url:C.url,init:C.init,response:Q.clone()})];case 14:Q=Z.sent()||Q,Z.label=15;case 15:return h++,[3,13];case 16:return[2,Q]}})})},this.middleware=w.middleware}return $.prototype.withMiddleware=function(){var w,B=[];for(var D=0;D<arguments.length;D++)B[D]=arguments[D];var z=this.clone();return z.middleware=(w=z.middleware).concat.apply(w,B),z},$.prototype.withPreMiddleware=function(){var w=[];for(var B=0;B<arguments.length;B++)w[B]=arguments[B];var D=w.map(function(z){return{pre:z}});return this.withMiddleware.apply(this,D)},$.prototype.withPostMiddleware=function(){var w=[];for(var B=0;B<arguments.length;B++)w[B]=arguments[B];var D=w.map(function(z){return{post:z}});return this.withMiddleware.apply(this,D)},$.prototype.isJsonMime=function(w){if(!w)return!1;return $.jsonRegex.test(w)},$.prototype.request=function(w,B){return d0(this,void 0,void 0,function(){var D,z,C,W;return x0(this,function(E){switch(E.label){case 0:return[4,this.createFetchParams(w,B)];case 1:return D=E.sent(),z=D.url,C=D.init,[4,this.fetchApi(z,C)];case 2:if(W=E.sent(),W&&(W.status>=200&&W.status<300))return[2,W];throw new T5(W,"Response returned an error code")}})})},$.prototype.createFetchParams=function(w,B){return d0(this,void 0,void 0,function(){var D,z,C,W,E,Q,L,G,Y=this;return x0(this,function(h){switch(h.label){case 0:if(D=this.configuration.basePath+w.path,w.query!==void 0&&Object.keys(w.query).length!==0)D+="?"+this.configuration.queryParamsStringify(w.query);return z=Object.assign({},this.configuration.headers,w.headers),Object.keys(z).forEach(function(I){return z[I]===void 0?delete z[I]:{}}),C=typeof B==="function"?B:function(){return d0(Y,void 0,void 0,function(){return x0(this,function(I){return[2,B]})})},W={method:w.method,headers:z,body:w.body,credentials:this.configuration.credentials},Q=[j0({},W)],[4,C({init:W,context:w})];case 1:if(E=j0.apply(void 0,Q.concat([h.sent()])),iQ(E.body)||E.body instanceof URLSearchParams||uQ(E.body))L=E.body;else if(this.isJsonMime(z["Content-Type"]))L=JSON.stringify(E.body);else L=E.body;return G=j0(j0({},E),{body:L}),[2,{url:D,init:G}]}})})},$.prototype.clone=function(){var w=this.constructor,B=new w(this.configuration);return B.middleware=this.middleware.slice(),B},$.jsonRegex=new RegExp("^(:?application/json|[^;/ \t]+/[^;/ \t]+[+]json)[ \t]*(:?;.*)?$","i"),$}();V.BaseAPI=vQ;function uQ($){return typeof Blob!=="undefined"&&$ instanceof Blob}function iQ($){return typeof FormData!=="undefined"&&$ instanceof FormData}var T5=function($){oB(w,$);function w(B,D){var z=$.call(this,D)||this;return z.response=B,z.name="ResponseError",z}return w}(Error);V.ResponseError=T5;var K5=function($){oB(w,$);function w(B,D){var z=$.call(this,D)||this;return z.cause=B,z.name="FetchError",z}return w}(Error);V.FetchError=K5;var nQ=function($){oB(w,$);function w(B,D){var z=$.call(this,D)||this;return z.field=B,z.name="RequiredError",z}return w}(Error);V.RequiredError=nQ;V.COLLECTION_FORMATS={csv:",",ssv:" ",tsv:"\t",pipes:"|"};function _Q($,w){var B=$[w];return B!==null&&B!==void 0}V.exists=_Q;function eB($,w){if(w===void 0)w="";return Object.keys($).map(function(B){return h5(B,$[B],w)}).filter(function(B){return B.length>0}).join("&")}V.querystring=eB;function h5($,w,B){if(B===void 0)B="";var D=B+(B.length?"[".concat($,"]"):$);if(w instanceof Array){var z=w.map(function(W){return encodeURIComponent(String(W))}).join("&".concat(encodeURIComponent(D),"="));return"".concat(encodeURIComponent(D),"=").concat(z)}if(w instanceof Set){var C=Array.from(w);return h5($,C,B)}if(w instanceof Date)return"".concat(encodeURIComponent(D),"=").concat(encodeURIComponent(w.toISOString()));if(w instanceof Object)return eB(w,D);return"".concat(encodeURIComponent(D),"=").concat(encodeURIComponent(String(w)))}function aQ($,w){return Object.keys($).reduce(function(B,D){var z;return j0(j0({},B),(z={},z[D]=w($[D]),z))},{})}V.mapValues=aQ;function tQ($){for(var w=0,B=$;w<B.length;w++){var D=B[w];if(D.contentType==="multipart/form-data")return!0}return!1}V.canConsumeForm=tQ;var sQ=function(){function $(w,B){if(B===void 0)B=function(D){return D};this.raw=w,this.transformer=B}return $.prototype.value=function(){return d0(this,void 0,void 0,function(){var w;return x0(this,function(B){switch(B.label){case 0:return w=this.transformer,[4,this.raw.json()];case 1:return[2,w.apply(this,[B.sent()])]}})})},$}();V.JSONApiResponse=sQ;var pQ=function(){function $(w){this.raw=w}return $.prototype.value=function(){return d0(this,void 0,void 0,function(){return x0(this,function(w){return[2,void 0]})})},$}();V.VoidApiResponse=pQ;var rQ=function(){function $(w){this.raw=w}return $.prototype.value=function(){return d0(this,void 0,void 0,function(){return x0(this,function(w){switch(w.label){case 0:return[4,this.raw.blob()];case 1:return[2,w.sent()]}})})},$}();V.BlobApiResponse=rQ;var oQ=function(){function $(w){this.raw=w}return $.prototype.value=function(){return d0(this,void 0,void 0,function(){return x0(this,function(w){switch(w.label){case 0:return[4,this.raw.text()];case 1:return[2,w.sent()]}})})},$}();V.TextApiResponse=oQ});var M5=X((U5)=>{Object.defineProperty(U5,"__esModule",{value:!0});U5.DeleteRequestToJSON=U5.DeleteRequestFromJSONTyped=U5.DeleteRequestFromJSON=U5.instanceOfDeleteRequest=void 0;var q$=R();function eQ($){var w=!0;return w}U5.instanceOfDeleteRequest=eQ;function $Y($){return I5($,!1)}U5.DeleteRequestFromJSON=$Y;function I5($,w){if($===void 0||$===null)return $;return{ids:!q$.exists($,"ids")?void 0:$.ids,deleteAll:!q$.exists($,"deleteAll")?void 0:$.deleteAll,namespace:!q$.exists($,"namespace")?void 0:$.namespace,filter:!q$.exists($,"filter")?void 0:$.filter}}U5.DeleteRequestFromJSONTyped=I5;function BY($){if($===void 0)return;if($===null)return null;return{ids:$.ids,deleteAll:$.deleteAll,namespace:$.namespace,filter:$.filter}}U5.DeleteRequestToJSON=BY});var A5=X((F5)=>{Object.defineProperty(F5,"__esModule",{value:!0});F5.DescribeIndexStatsRequestToJSON=F5.DescribeIndexStatsRequestFromJSONTyped=F5.DescribeIndexStatsRequestFromJSON=F5.instanceOfDescribeIndexStatsRequest=void 0;var zY=R();function DY($){var w=!0;return w}F5.instanceOfDescribeIndexStatsRequest=DY;function WY($){return N5($,!1)}F5.DescribeIndexStatsRequestFromJSON=WY;function N5($,w){if($===void 0||$===null)return $;return{filter:!zY.exists($,"filter")?void 0:$.filter}}F5.DescribeIndexStatsRequestFromJSONTyped=N5;function GY($){if($===void 0)return;if($===null)return null;return{filter:$.filter}}F5.DescribeIndexStatsRequestToJSON=GY});var Y$=X((R5)=>{Object.defineProperty(R5,"__esModule",{value:!0});R5.UsageToJSON=R5.UsageFromJSONTyped=R5.UsageFromJSON=R5.instanceOfUsage=void 0;var XY=R();function ZY($){var w=!0;return w}R5.instanceOfUsage=ZY;function HY($){return f5($,!1)}R5.UsageFromJSON=HY;function f5($,w){if($===void 0||$===null)return $;return{readUnits:!XY.exists($,"readUnits")?void 0:$.readUnits}}R5.UsageFromJSONTyped=f5;function TY($){if($===void 0)return;if($===null)return null;return{readUnits:$.readUnits}}R5.UsageToJSON=TY});var P1=X((b5)=>{Object.defineProperty(b5,"__esModule",{value:!0});b5.SparseValuesToJSON=b5.SparseValuesFromJSONTyped=b5.SparseValuesFromJSON=b5.instanceOfSparseValues=void 0;function UY($){var w=!0;return w=w&&"indices"in $,w=w&&"values"in $,w}b5.instanceOfSparseValues=UY;function VY($){return O5($,!1)}b5.SparseValuesFromJSON=VY;function O5($,w){if($===void 0||$===null)return $;return{indices:$.indices,values:$.values}}b5.SparseValuesFromJSONTyped=O5;function MY($){if($===void 0)return;if($===null)return null;return{indices:$.indices,values:$.values}}b5.SparseValuesToJSON=MY});var k$=X((m5)=>{Object.defineProperty(m5,"__esModule",{value:!0});m5.VectorToJSON=m5.VectorFromJSONTyped=m5.VectorFromJSON=m5.instanceOfVector=void 0;var k5=R(),c5=P1();function AY($){var w=!0;return w=w&&"id"in $,w=w&&"values"in $,w}m5.instanceOfVector=AY;function fY($){return y5($,!1)}m5.VectorFromJSON=fY;function y5($,w){if($===void 0||$===null)return $;return{id:$.id,values:$.values,sparseValues:!k5.exists($,"sparseValues")?void 0:c5.SparseValuesFromJSON($.sparseValues),metadata:!k5.exists($,"metadata")?void 0:$.metadata}}m5.VectorFromJSONTyped=y5;function RY($){if($===void 0)return;if($===null)return null;return{id:$.id,values:$.values,sparseValues:c5.SparseValuesToJSON($.sparseValues),metadata:$.metadata}}m5.VectorToJSON=RY});var v5=X((x5)=>{Object.defineProperty(x5,"__esModule",{value:!0});x5.FetchResponseToJSON=x5.FetchResponseFromJSONTyped=x5.FetchResponseFromJSON=x5.instanceOfFetchResponse=void 0;var X$=R(),P5=Y$(),j5=k$();function qY($){var w=!0;return w}x5.instanceOfFetchResponse=qY;function kY($){return d5($,!1)}x5.FetchResponseFromJSON=kY;function d5($,w){if($===void 0||$===null)return $;return{vectors:!X$.exists($,"vectors")?void 0:X$.mapValues($.vectors,j5.VectorFromJSON),namespace:!X$.exists($,"namespace")?void 0:$.namespace,usage:!X$.exists($,"usage")?void 0:P5.UsageFromJSON($.usage)}}x5.FetchResponseFromJSONTyped=d5;function cY($){if($===void 0)return;if($===null)return null;return{vectors:$.vectors===void 0?void 0:X$.mapValues($.vectors,j5.VectorToJSON),namespace:$.namespace,usage:P5.UsageToJSON($.usage)}}x5.FetchResponseToJSON=cY});var $C=X((i5)=>{Object.defineProperty(i5,"__esModule",{value:!0});i5.ImportErrorModeToJSON=i5.ImportErrorModeFromJSONTyped=i5.ImportErrorModeFromJSON=i5.instanceOfImportErrorMode=i5.ImportErrorModeOnErrorEnum=void 0;var PY=R();i5.ImportErrorModeOnErrorEnum={Abort:"abort",Continue:"continue"};function jY($){var w=!0;return w}i5.instanceOfImportErrorMode=jY;function dY($){return u5($,!1)}i5.ImportErrorModeFromJSON=dY;function u5($,w){if($===void 0||$===null)return $;return{onError:!PY.exists($,"onError")?void 0:$.onError}}i5.ImportErrorModeFromJSONTyped=u5;function xY($){if($===void 0)return;if($===null)return null;return{onError:$.onError}}i5.ImportErrorModeToJSON=xY});var BC=X((a5)=>{Object.defineProperty(a5,"__esModule",{value:!0});a5.ImportModelToJSON=a5.ImportModelFromJSONTyped=a5.ImportModelFromJSON=a5.instanceOfImportModel=a5.ImportModelStatusEnum=void 0;var H1=R();a5.ImportModelStatusEnum={Pending:"Pending",InProgress:"InProgress",Failed:"Failed",Completed:"Completed",Cancelled:"Cancelled"};function nY($){var w=!0;return w}a5.instanceOfImportModel=nY;function _Y($){return _5($,!1)}a5.ImportModelFromJSON=_Y;function _5($,w){if($===void 0||$===null)return $;return{id:!H1.exists($,"id")?void 0:$.id,uri:!H1.exists($,"uri")?void 0:$.uri,status:!H1.exists($,"status")?void 0:$.status,createdAt:!H1.exists($,"createdAt")?void 0:new Date($.createdAt),finishedAt:!H1.exists($,"finishedAt")?void 0:new Date($.finishedAt),percentComplete:!H1.exists($,"percentComplete")?void 0:$.percentComplete,recordsImported:!H1.exists($,"recordsImported")?void 0:$.recordsImported,error:!H1.exists($,"error")?void 0:$.error}}a5.ImportModelFromJSONTyped=_5;function aY($){if($===void 0)return;if($===null)return null;return{id:$.id,uri:$.uri,status:$.status,createdAt:$.createdAt===void 0?void 0:$.createdAt.toISOString(),finishedAt:$.finishedAt===void 0?void 0:$.finishedAt.toISOString(),percentComplete:$.percentComplete,recordsImported:$.recordsImported,error:$.error}}a5.ImportModelToJSON=aY});var CC=X((p5)=>{Object.defineProperty(p5,"__esModule",{value:!0});p5.NamespaceSummaryToJSON=p5.NamespaceSummaryFromJSONTyped=p5.NamespaceSummaryFromJSON=p5.instanceOfNamespaceSummary=void 0;var oY=R();function eY($){var w=!0;return w}p5.instanceOfNamespaceSummary=eY;function $X($){return s5($,!1)}p5.NamespaceSummaryFromJSON=$X;function s5($,w){if($===void 0||$===null)return $;return{vectorCount:!oY.exists($,"vectorCount")?void 0:$.vectorCount}}p5.NamespaceSummaryFromJSONTyped=s5;function BX($){if($===void 0)return;if($===null)return null;return{vectorCount:$.vectorCount}}p5.NamespaceSummaryToJSON=BX});var CD=X(($D)=>{Object.defineProperty($D,"__esModule",{value:!0});$D.IndexDescriptionToJSON=$D.IndexDescriptionFromJSONTyped=$D.IndexDescriptionFromJSON=$D.instanceOfIndexDescription=void 0;var s1=R(),o5=CC();function zX($){var w=!0;return w}$D.instanceOfIndexDescription=zX;function DX($){return e5($,!1)}$D.IndexDescriptionFromJSON=DX;function e5($,w){if($===void 0||$===null)return $;return{namespaces:!s1.exists($,"namespaces")?void 0:s1.mapValues($.namespaces,o5.NamespaceSummaryFromJSON),dimension:!s1.exists($,"dimension")?void 0:$.dimension,indexFullness:!s1.exists($,"indexFullness")?void 0:$.indexFullness,totalVectorCount:!s1.exists($,"totalVectorCount")?void 0:$.totalVectorCount}}$D.IndexDescriptionFromJSONTyped=e5;function WX($){if($===void 0)return;if($===null)return null;return{namespaces:$.namespaces===void 0?void 0:s1.mapValues($.namespaces,o5.NamespaceSummaryToJSON),dimension:$.dimension,indexFullness:$.indexFullness,totalVectorCount:$.totalVectorCount}}$D.IndexDescriptionToJSON=WX});var c$=X((LD)=>{Object.defineProperty(LD,"__esModule",{value:!0});LD.PaginationToJSON=LD.PaginationFromJSONTyped=LD.PaginationFromJSON=LD.instanceOfPagination=void 0;var YX=R();function XX($){var w=!0;return w}LD.instanceOfPagination=XX;function ZX($){return wD($,!1)}LD.PaginationFromJSON=ZX;function wD($,w){if($===void 0||$===null)return $;return{next:!YX.exists($,"next")?void 0:$.next}}LD.PaginationFromJSONTyped=wD;function HX($){if($===void 0)return;if($===null)return null;return{next:$.next}}LD.PaginationToJSON=HX});var XD=X((QD)=>{Object.defineProperty(QD,"__esModule",{value:!0});QD.ListImportsResponseToJSON=QD.ListImportsResponseFromJSONTyped=QD.ListImportsResponseFromJSON=QD.instanceOfListImportsResponse=void 0;var DD=R(),WD=BC(),GD=c$();function IX($){var w=!0;return w}QD.instanceOfListImportsResponse=IX;function UX($){return ED($,!1)}QD.ListImportsResponseFromJSON=UX;function ED($,w){if($===void 0||$===null)return $;return{data:!DD.exists($,"data")?void 0:$.data.map(WD.ImportModelFromJSON),pagination:!DD.exists($,"pagination")?void 0:GD.PaginationFromJSON($.pagination)}}QD.ListImportsResponseFromJSONTyped=ED;function VX($){if($===void 0)return;if($===null)return null;return{data:$.data===void 0?void 0:$.data.map(WD.ImportModelToJSON),pagination:GD.PaginationToJSON($.pagination)}}QD.ListImportsResponseToJSON=VX});var wC=X((HD)=>{Object.defineProperty(HD,"__esModule",{value:!0});HD.ListItemToJSON=HD.ListItemFromJSONTyped=HD.ListItemFromJSON=HD.instanceOfListItem=void 0;var JX=R();function AX($){var w=!0;return w}HD.instanceOfListItem=AX;function fX($){return ZD($,!1)}HD.ListItemFromJSON=fX;function ZD($,w){if($===void 0||$===null)return $;return{id:!JX.exists($,"id")?void 0:$.id}}HD.ListItemFromJSONTyped=ZD;function RX($){if($===void 0)return;if($===null)return null;return{id:$.id}}HD.ListItemToJSON=RX});var ND=X((VD)=>{Object.defineProperty(VD,"__esModule",{value:!0});VD.ListResponseToJSON=VD.ListResponseFromJSONTyped=VD.ListResponseFromJSON=VD.instanceOfListResponse=void 0;var y$=R(),KD=wC(),hD=c$(),ID=Y$();function qX($){var w=!0;return w}VD.instanceOfListResponse=qX;function kX($){return UD($,!1)}VD.ListResponseFromJSON=kX;function UD($,w){if($===void 0||$===null)return $;return{vectors:!y$.exists($,"vectors")?void 0:$.vectors.map(KD.ListItemFromJSON),pagination:!y$.exists($,"pagination")?void 0:hD.PaginationFromJSON($.pagination),namespace:!y$.exists($,"namespace")?void 0:$.namespace,usage:!y$.exists($,"usage")?void 0:ID.UsageFromJSON($.usage)}}VD.ListResponseFromJSONTyped=UD;function cX($){if($===void 0)return;if($===null)return null;return{vectors:$.vectors===void 0?void 0:$.vectors.map(KD.ListItemToJSON),pagination:hD.PaginationToJSON($.pagination),namespace:$.namespace,usage:ID.UsageToJSON($.usage)}}VD.ListResponseToJSON=cX});var LC=X((AD)=>{Object.defineProperty(AD,"__esModule",{value:!0});AD.ProtobufAnyToJSON=AD.ProtobufAnyFromJSONTyped=AD.ProtobufAnyFromJSON=AD.instanceOfProtobufAny=void 0;var FD=R();function PX($){var w=!0;return w}AD.instanceOfProtobufAny=PX;function jX($){return JD($,!1)}AD.ProtobufAnyFromJSON=jX;function JD($,w){if($===void 0||$===null)return $;return{typeUrl:!FD.exists($,"typeUrl")?void 0:$.typeUrl,value:!FD.exists($,"value")?void 0:$.value}}AD.ProtobufAnyFromJSONTyped=JD;function dX($){if($===void 0)return;if($===null)return null;return{typeUrl:$.typeUrl,value:$.value}}AD.ProtobufAnyToJSON=dX});var bD=X((SD)=>{Object.defineProperty(SD,"__esModule",{value:!0});SD.ProtobufNullValueToJSON=SD.ProtobufNullValueFromJSONTyped=SD.ProtobufNullValueFromJSON=SD.ProtobufNullValue=void 0;SD.ProtobufNullValue={NullValue:"NULL_VALUE"};function uX($){return RD($,!1)}SD.ProtobufNullValueFromJSON=uX;function RD($,w){return $}SD.ProtobufNullValueFromJSONTyped=RD;function iX($){return $}SD.ProtobufNullValueToJSON=iX});var zC=X((cD)=>{Object.defineProperty(cD,"__esModule",{value:!0});cD.QueryVectorToJSON=cD.QueryVectorFromJSONTyped=cD.QueryVectorFromJSON=cD.instanceOfQueryVector=void 0;var m$=R(),qD=P1();function tX($){var w=!0;return w=w&&"values"in $,w}cD.instanceOfQueryVector=tX;function sX($){return kD($,!1)}cD.QueryVectorFromJSON=sX;function kD($,w){if($===void 0||$===null)return $;return{values:$.values,sparseValues:!m$.exists($,"sparseValues")?void 0:qD.SparseValuesFromJSON($.sparseValues),topK:!m$.exists($,"topK")?void 0:$.topK,namespace:!m$.exists($,"namespace")?void 0:$.namespace,filter:!m$.exists($,"filter")?void 0:$.filter}}cD.QueryVectorFromJSONTyped=kD;function pX($){if($===void 0)return;if($===null)return null;return{values:$.values,sparseValues:qD.SparseValuesToJSON($.sparseValues),topK:$.topK,namespace:$.namespace,filter:$.filter}}cD.QueryVectorToJSON=pX});var xD=X((jD)=>{Object.defineProperty(jD,"__esModule",{value:!0});jD.QueryRequestToJSON=jD.QueryRequestFromJSONTyped=jD.QueryRequestFromJSON=jD.instanceOfQueryRequest=void 0;var T1=R(),mD=zC(),gD=P1();function $Z($){var w=!0;return w=w&&"topK"in $,w}jD.instanceOfQueryRequest=$Z;function BZ($){return PD($,!1)}jD.QueryRequestFromJSON=BZ;function PD($,w){if($===void 0||$===null)return $;return{namespace:!T1.exists($,"namespace")?void 0:$.namespace,topK:$.topK,filter:!T1.exists($,"filter")?void 0:$.filter,includeValues:!T1.exists($,"includeValues")?void 0:$.includeValues,includeMetadata:!T1.exists($,"includeMetadata")?void 0:$.includeMetadata,queries:!T1.exists($,"queries")?void 0:$.queries.map(mD.QueryVectorFromJSON),vector:!T1.exists($,"vector")?void 0:$.vector,sparseVector:!T1.exists($,"sparseVector")?void 0:gD.SparseValuesFromJSON($.sparseVector),id:!T1.exists($,"id")?void 0:$.id}}jD.QueryRequestFromJSONTyped=PD;function CZ($){if($===void 0)return;if($===null)return null;return{namespace:$.namespace,topK:$.topK,filter:$.filter,includeValues:$.includeValues,includeMetadata:$.includeMetadata,queries:$.queries===void 0?void 0:$.queries.map(mD.QueryVectorToJSON),vector:$.vector,sparseVector:gD.SparseValuesToJSON($.sparseVector),id:$.id}}jD.QueryRequestToJSON=CZ});var P$=X((uD)=>{Object.defineProperty(uD,"__esModule",{value:!0});uD.ScoredVectorToJSON=uD.ScoredVectorFromJSONTyped=uD.ScoredVectorFromJSON=uD.instanceOfScoredVector=void 0;var g$=R(),lD=P1();function DZ($){var w=!0;return w=w&&"id"in $,w}uD.instanceOfScoredVector=DZ;function WZ($){return vD($,!1)}uD.ScoredVectorFromJSON=WZ;function vD($,w){if($===void 0||$===null)return $;return{id:$.id,score:!g$.exists($,"score")?void 0:$.score,values:!g$.exists($,"values")?void 0:$.values,sparseValues:!g$.exists($,"sparseValues")?void 0:lD.SparseValuesFromJSON($.sparseValues),metadata:!g$.exists($,"metadata")?void 0:$.metadata}}uD.ScoredVectorFromJSONTyped=vD;function GZ($){if($===void 0)return;if($===null)return null;return{id:$.id,score:$.score,values:$.values,sparseValues:lD.SparseValuesToJSON($.sparseValues),metadata:$.metadata}}uD.ScoredVectorToJSON=GZ});var DC=X((tD)=>{Object.defineProperty(tD,"__esModule",{value:!0});tD.SingleQueryResultsToJSON=tD.SingleQueryResultsFromJSONTyped=tD.SingleQueryResultsFromJSON=tD.instanceOfSingleQueryResults=void 0;var nD=R(),_D=P$();function XZ($){var w=!0;return w}tD.instanceOfSingleQueryResults=XZ;function ZZ($){return aD($,!1)}tD.SingleQueryResultsFromJSON=ZZ;function aD($,w){if($===void 0||$===null)return $;return{matches:!nD.exists($,"matches")?void 0:$.matches.map(_D.ScoredVectorFromJSON),namespace:!nD.exists($,"namespace")?void 0:$.namespace}}tD.SingleQueryResultsFromJSONTyped=aD;function HZ($){if($===void 0)return;if($===null)return null;return{matches:$.matches===void 0?void 0:$.matches.map(_D.ScoredVectorToJSON),namespace:$.namespace}}tD.SingleQueryResultsToJSON=HZ});var C8=X(($8)=>{Object.defineProperty($8,"__esModule",{value:!0});$8.QueryResponseToJSON=$8.QueryResponseFromJSONTyped=$8.QueryResponseFromJSON=$8.instanceOfQueryResponse=void 0;var j$=R(),pD=P$(),rD=DC(),oD=Y$();function IZ($){var w=!0;return w}$8.instanceOfQueryResponse=IZ;function UZ($){return eD($,!1)}$8.QueryResponseFromJSON=UZ;function eD($,w){if($===void 0||$===null)return $;return{results:!j$.exists($,"results")?void 0:$.results.map(rD.SingleQueryResultsFromJSON),matches:!j$.exists($,"matches")?void 0:$.matches.map(pD.ScoredVectorFromJSON),namespace:!j$.exists($,"namespace")?void 0:$.namespace,usage:!j$.exists($,"usage")?void 0:oD.UsageFromJSON($.usage)}}$8.QueryResponseFromJSONTyped=eD;function VZ($){if($===void 0)return;if($===null)return null;return{results:$.results===void 0?void 0:$.results.map(rD.SingleQueryResultsToJSON),matches:$.matches===void 0?void 0:$.matches.map(pD.ScoredVectorToJSON),namespace:$.namespace,usage:oD.UsageToJSON($.usage)}}$8.QueryResponseToJSON=VZ});var W8=X((z8)=>{Object.defineProperty(z8,"__esModule",{value:!0});z8.RpcStatusToJSON=z8.RpcStatusFromJSONTyped=z8.RpcStatusFromJSON=z8.instanceOfRpcStatus=void 0;var WC=R(),w8=LC();function JZ($){var w=!0;return w}z8.instanceOfRpcStatus=JZ;function AZ($){return L8($,!1)}z8.RpcStatusFromJSON=AZ;function L8($,w){if($===void 0||$===null)return $;return{code:!WC.exists($,"code")?void 0:$.code,message:!WC.exists($,"message")?void 0:$.message,details:!WC.exists($,"details")?void 0:$.details.map(w8.ProtobufAnyFromJSON)}}z8.RpcStatusFromJSONTyped=L8;function fZ($){if($===void 0)return;if($===null)return null;return{code:$.code,message:$.message,details:$.details===void 0?void 0:$.details.map(w8.ProtobufAnyToJSON)}}z8.RpcStatusToJSON=fZ});var Z8=X((Y8)=>{Object.defineProperty(Y8,"__esModule",{value:!0});Y8.StartImportRequestToJSON=Y8.StartImportRequestFromJSONTyped=Y8.StartImportRequestFromJSON=Y8.instanceOfStartImportRequest=void 0;var G8=R(),E8=$C();function bZ($){var w=!0;return w=w&&"uri"in $,w}Y8.instanceOfStartImportRequest=bZ;function qZ($){return Q8($,!1)}Y8.StartImportRequestFromJSON=qZ;function Q8($,w){if($===void 0||$===null)return $;return{integrationId:!G8.exists($,"integrationId")?void 0:$.integrationId,uri:$.uri,errorMode:!G8.exists($,"errorMode")?void 0:E8.ImportErrorModeFromJSON($.errorMode)}}Y8.StartImportRequestFromJSONTyped=Q8;function kZ($){if($===void 0)return;if($===null)return null;return{integrationId:$.integrationId,uri:$.uri,errorMode:E8.ImportErrorModeToJSON($.errorMode)}}Y8.StartImportRequestToJSON=kZ});var h8=X((T8)=>{Object.defineProperty(T8,"__esModule",{value:!0});T8.StartImportResponseToJSON=T8.StartImportResponseFromJSONTyped=T8.StartImportResponseFromJSON=T8.instanceOfStartImportResponse=void 0;var gZ=R();function PZ($){var w=!0;return w}T8.instanceOfStartImportResponse=PZ;function jZ($){return H8($,!1)}T8.StartImportResponseFromJSON=jZ;function H8($,w){if($===void 0||$===null)return $;return{id:!gZ.exists($,"id")?void 0:$.id}}T8.StartImportResponseFromJSONTyped=H8;function dZ($){if($===void 0)return;if($===null)return null;return{id:$.id}}T8.StartImportResponseToJSON=dZ});var N8=X((V8)=>{Object.defineProperty(V8,"__esModule",{value:!0});V8.UpdateRequestToJSON=V8.UpdateRequestFromJSONTyped=V8.UpdateRequestFromJSON=V8.instanceOfUpdateRequest=void 0;var d$=R(),I8=P1();function uZ($){var w=!0;return w=w&&"id"in $,w}V8.instanceOfUpdateRequest=uZ;function iZ($){return U8($,!1)}V8.UpdateRequestFromJSON=iZ;function U8($,w){if($===void 0||$===null)return $;return{id:$.id,values:!d$.exists($,"values")?void 0:$.values,sparseValues:!d$.exists($,"sparseValues")?void 0:I8.SparseValuesFromJSON($.sparseValues),setMetadata:!d$.exists($,"setMetadata")?void 0:$.setMetadata,namespace:!d$.exists($,"namespace")?void 0:$.namespace}}V8.UpdateRequestFromJSONTyped=U8;function nZ($){if($===void 0)return;if($===null)return null;return{id:$.id,values:$.values,sparseValues:I8.SparseValuesToJSON($.sparseValues),setMetadata:$.setMetadata,namespace:$.namespace}}V8.UpdateRequestToJSON=nZ});var R8=X((A8)=>{Object.defineProperty(A8,"__esModule",{value:!0});A8.UpsertRequestToJSON=A8.UpsertRequestFromJSONTyped=A8.UpsertRequestFromJSON=A8.instanceOfUpsertRequest=void 0;var sZ=R(),F8=k$();function pZ($){var w=!0;return w=w&&"vectors"in $,w}A8.instanceOfUpsertRequest=pZ;function rZ($){return J8($,!1)}A8.UpsertRequestFromJSON=rZ;function J8($,w){if($===void 0||$===null)return $;return{vectors:$.vectors.map(F8.VectorFromJSON),namespace:!sZ.exists($,"namespace")?void 0:$.namespace}}A8.UpsertRequestFromJSONTyped=J8;function oZ($){if($===void 0)return;if($===null)return null;return{vectors:$.vectors.map(F8.VectorToJSON),namespace:$.namespace}}A8.UpsertRequestToJSON=oZ});var q8=X((O8)=>{Object.defineProperty(O8,"__esModule",{value:!0});O8.UpsertResponseToJSON=O8.UpsertResponseFromJSONTyped=O8.UpsertResponseFromJSON=O8.instanceOfUpsertResponse=void 0;var CH=R();function wH($){var w=!0;return w}O8.instanceOfUpsertResponse=wH;function LH($){return S8($,!1)}O8.UpsertResponseFromJSON=LH;function S8($,w){if($===void 0||$===null)return $;return{upsertedCount:!CH.exists($,"upsertedCount")?void 0:$.upsertedCount}}O8.UpsertResponseFromJSONTyped=S8;function zH($){if($===void 0)return;if($===null)return null;return{upsertedCount:$.upsertedCount}}O8.UpsertResponseToJSON=zH});var x$=X((F)=>{var EH=F&&F.__createBinding||(Object.create?function($,w,B,D){if(D===void 0)D=B;var z=Object.getOwnPropertyDescriptor(w,B);if(!z||("get"in z?!w.__esModule:z.writable||z.configurable))z={enumerable:!0,get:function(){return w[B]}};Object.defineProperty($,D,z)}:function($,w,B,D){if(D===void 0)D=B;$[D]=w[B]}),O=F&&F.__exportStar||function($,w){for(var B in $)if(B!=="default"&&!Object.prototype.hasOwnProperty.call(w,B))EH(w,$,B)};Object.defineProperty(F,"__esModule",{value:!0});O(M5(),F);O(A5(),F);O(v5(),F);O($C(),F);O(BC(),F);O(CD(),F);O(XD(),F);O(wC(),F);O(ND(),F);O(CC(),F);O(c$(),F);O(LC(),F);O(bD(),F);O(xD(),F);O(C8(),F);O(zC(),F);O(W8(),F);O(P$(),F);O(DC(),F);O(P1(),F);O(Z8(),F);O(h8(),F);O(N8(),F);O(R8(),F);O(q8(),F);O(Y$(),F);O(k$(),F)});var k8=X((u)=>{var QH=u&&u.__extends||function(){var $=function(w,B){return $=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,z){D.__proto__=z}||function(D,z){for(var C in z)if(Object.prototype.hasOwnProperty.call(z,C))D[C]=z[C]},$(w,B)};return function(w,B){if(typeof B!=="function"&&B!==null)throw new TypeError("Class extends value "+String(B)+" is not a constructor or null");$(w,B);function D(){this.constructor=w}w.prototype=B===null?Object.create(B):(D.prototype=B.prototype,new D)}}(),YH=u&&u.__createBinding||(Object.create?function($,w,B,D){if(D===void 0)D=B;var z=Object.getOwnPropertyDescriptor(w,B);if(!z||("get"in z?!w.__esModule:z.writable||z.configurable))z={enumerable:!0,get:function(){return w[B]}};Object.defineProperty($,D,z)}:function($,w,B,D){if(D===void 0)D=B;$[D]=w[B]}),XH=u&&u.__setModuleDefault||(Object.create?function($,w){Object.defineProperty($,"default",{enumerable:!0,value:w})}:function($,w){$.default=w}),ZH=u&&u.__importStar||function($){if($&&$.__esModule)return $;var w={};if($!=null){for(var B in $)if(B!=="default"&&Object.prototype.hasOwnProperty.call($,B))YH(w,$,B)}return XH(w,$),w},K1=u&&u.__awaiter||function($,w,B,D){function z(C){return C instanceof B?C:new B(function(W){W(C)})}return new(B||(B=Promise))(function(C,W){function E(G){try{L(D.next(G))}catch(Y){W(Y)}}function Q(G){try{L(D.throw(G))}catch(Y){W(Y)}}function L(G){G.done?C(G.value):z(G.value).then(E,Q)}L((D=D.apply($,w||[])).next())})},h1=u&&u.__generator||function($,w){var B={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},D,z,C,W;return W={next:E(0),throw:E(1),return:E(2)},typeof Symbol==="function"&&(W[Symbol.iterator]=function(){return this}),W;function E(L){return function(G){return Q([L,G])}}function Q(L){if(D)throw new TypeError("Generator is already executing.");while(W&&(W=0,L[0]&&(B=0)),B)try{if(D=1,z&&(C=L[0]&2?z.return:L[0]?z.throw||((C=z.return)&&C.call(z),0):z.next)&&!(C=C.call(z,L[1])).done)return C;if(z=0,C)L=[L[0]&2,C.value];switch(L[0]){case 0:case 1:C=L;break;case 4:return B.label++,{value:L[1],done:!1};case 5:B.label++,z=L[1],L=[0];continue;case 7:L=B.ops.pop(),B.trys.pop();continue;default:if((C=B.trys,!(C=C.length>0&&C[C.length-1]))&&(L[0]===6||L[0]===2)){B=0;continue}if(L[0]===3&&(!C||L[1]>C[0]&&L[1]<C[3])){B.label=L[1];break}if(L[0]===6&&B.label<C[1]){B.label=C[1],C=L;break}if(C&&B.label<C[2]){B.label=C[2],B.ops.push(L);break}if(C[2])B.ops.pop();B.trys.pop();continue}L=w.call($,B)}catch(G){L=[6,G],z=0}finally{D=C=0}if(L[0]&5)throw L[1];return{value:L[0]?L[1]:void 0,done:!0}}};Object.defineProperty(u,"__esModule",{value:!0});u.BulkOperationsApi=void 0;var I1=ZH(R()),l$=x$(),HH=function($){QH(w,$);function w(){return $!==null&&$.apply(this,arguments)||this}return w.prototype.cancelBulkImportRaw=function(B,D){return K1(this,void 0,void 0,function(){var z,C,W;return h1(this,function(E){switch(E.label){case 0:if(B.id===null||B.id===void 0)throw new I1.RequiredError("id","Required parameter requestParameters.id was null or undefined when calling cancelBulkImport.");if(z={},C={},this.configuration&&this.configuration.apiKey)C["Api-Key"]=this.configuration.apiKey("Api-Key");return[4,this.request({path:"/bulk/imports/{id}".replace("{".concat("id","}"),encodeURIComponent(String(B.id))),method:"DELETE",headers:C,query:z},D)];case 1:return W=E.sent(),[2,new I1.JSONApiResponse(W)]}})})},w.prototype.cancelBulkImport=function(B,D){return K1(this,void 0,void 0,function(){var z;return h1(this,function(C){switch(C.label){case 0:return[4,this.cancelBulkImportRaw(B,D)];case 1:return z=C.sent(),[4,z.value()];case 2:return[2,C.sent()]}})})},w.prototype.describeBulkImportRaw=function(B,D){return K1(this,void 0,void 0,function(){var z,C,W;return h1(this,function(E){switch(E.label){case 0:if(B.id===null||B.id===void 0)throw new I1.RequiredError("id","Required parameter requestParameters.id was null or undefined when calling describeBulkImport.");if(z={},C={},this.configuration&&this.configuration.apiKey)C["Api-Key"]=this.configuration.apiKey("Api-Key");return[4,this.request({path:"/bulk/imports/{id}".replace("{".concat("id","}"),encodeURIComponent(String(B.id))),method:"GET",headers:C,query:z},D)];case 1:return W=E.sent(),[2,new I1.JSONApiResponse(W,function(Q){return l$.ImportModelFromJSON(Q)})]}})})},w.prototype.describeBulkImport=function(B,D){return K1(this,void 0,void 0,function(){var z;return h1(this,function(C){switch(C.label){case 0:return[4,this.describeBulkImportRaw(B,D)];case 1:return z=C.sent(),[4,z.value()];case 2:return[2,C.sent()]}})})},w.prototype.listBulkImportsRaw=function(B,D){return K1(this,void 0,void 0,function(){var z,C,W;return h1(this,function(E){switch(E.label){case 0:if(z={},B.limit!==void 0)z.limit=B.limit;if(B.paginationToken!==void 0)z.paginationToken=B.paginationToken;if(C={},this.configuration&&this.configuration.apiKey)C["Api-Key"]=this.configuration.apiKey("Api-Key");return[4,this.request({path:"/bulk/imports",method:"GET",headers:C,query:z},D)];case 1:return W=E.sent(),[2,new I1.JSONApiResponse(W,function(Q){return l$.ListImportsResponseFromJSON(Q)})]}})})},w.prototype.listBulkImports=function(B,D){if(B===void 0)B={};return K1(this,void 0,void 0,function(){var z;return h1(this,function(C){switch(C.label){case 0:return[4,this.listBulkImportsRaw(B,D)];case 1:return z=C.sent(),[4,z.value()];case 2:return[2,C.sent()]}})})},w.prototype.startBulkImportRaw=function(B,D){return K1(this,void 0,void 0,function(){var z,C,W;return h1(this,function(E){switch(E.label){case 0:if(B.startImportRequest===null||B.startImportRequest===void 0)throw new I1.RequiredError("startImportRequest","Required parameter requestParameters.startImportRequest was null or undefined when calling startBulkImport.");if(z={},C={},C["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey)C["Api-Key"]=this.configuration.apiKey("Api-Key");return[4,this.request({path:"/bulk/imports",method:"POST",headers:C,query:z,body:l$.StartImportRequestToJSON(B.startImportRequest)},D)];case 1:return W=E.sent(),[2,new I1.JSONApiResponse(W,function(Q){return l$.StartImportResponseFromJSON(Q)})]}})})},w.prototype.startBulkImport=function(B,D){return K1(this,void 0,void 0,function(){var z;return h1(this,function(C){switch(C.label){case 0:return[4,this.startBulkImportRaw(B,D)];case 1:return z=C.sent(),[4,z.value()];case 2:return[2,C.sent()]}})})},w}(I1.BaseAPI);u.BulkOperationsApi=HH});var c8=X((i)=>{var TH=i&&i.__extends||function(){var $=function(w,B){return $=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,z){D.__proto__=z}||function(D,z){for(var C in z)if(Object.prototype.hasOwnProperty.call(z,C))D[C]=z[C]},$(w,B)};return function(w,B){if(typeof B!=="function"&&B!==null)throw new TypeError("Class extends value "+String(B)+" is not a constructor or null");$(w,B);function D(){this.constructor=w}w.prototype=B===null?Object.create(B):(D.prototype=B.prototype,new D)}}(),KH=i&&i.__createBinding||(Object.create?function($,w,B,D){if(D===void 0)D=B;var z=Object.getOwnPropertyDescriptor(w,B);if(!z||("get"in z?!w.__esModule:z.writable||z.configurable))z={enumerable:!0,get:function(){return w[B]}};Object.defineProperty($,D,z)}:function($,w,B,D){if(D===void 0)D=B;$[D]=w[B]}),hH=i&&i.__setModuleDefault||(Object.create?function($,w){Object.defineProperty($,"default",{enumerable:!0,value:w})}:function($,w){$.default=w}),IH=i&&i.__importStar||function($){if($&&$.__esModule)return $;var w={};if($!=null){for(var B in $)if(B!=="default"&&Object.prototype.hasOwnProperty.call($,B))KH(w,$,B)}return hH(w,$),w},p=i&&i.__awaiter||function($,w,B,D){function z(C){return C instanceof B?C:new B(function(W){W(C)})}return new(B||(B=Promise))(function(C,W){function E(G){try{L(D.next(G))}catch(Y){W(Y)}}function Q(G){try{L(D.throw(G))}catch(Y){W(Y)}}function L(G){G.done?C(G.value):z(G.value).then(E,Q)}L((D=D.apply($,w||[])).next())})},r=i&&i.__generator||function($,w){var B={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},D,z,C,W;return W={next:E(0),throw:E(1),return:E(2)},typeof Symbol==="function"&&(W[Symbol.iterator]=function(){return this}),W;function E(L){return function(G){return Q([L,G])}}function Q(L){if(D)throw new TypeError("Generator is already executing.");while(W&&(W=0,L[0]&&(B=0)),B)try{if(D=1,z&&(C=L[0]&2?z.return:L[0]?z.throw||((C=z.return)&&C.call(z),0):z.next)&&!(C=C.call(z,L[1])).done)return C;if(z=0,C)L=[L[0]&2,C.value];switch(L[0]){case 0:case 1:C=L;break;case 4:return B.label++,{value:L[1],done:!1};case 5:B.label++,z=L[1],L=[0];continue;case 7:L=B.ops.pop(),B.trys.pop();continue;default:if((C=B.trys,!(C=C.length>0&&C[C.length-1]))&&(L[0]===6||L[0]===2)){B=0;continue}if(L[0]===3&&(!C||L[1]>C[0]&&L[1]<C[3])){B.label=L[1];break}if(L[0]===6&&B.label<C[1]){B.label=C[1],C=L;break}if(C&&B.label<C[2]){B.label=C[2],B.ops.push(L);break}if(C[2])B.ops.pop();B.trys.pop();continue}L=w.call($,B)}catch(G){L=[6,G],z=0}finally{D=C=0}if(L[0]&5)throw L[1];return{value:L[0]?L[1]:void 0,done:!0}}};Object.defineProperty(i,"__esModule",{value:!0});i.VectorOperationsApi=void 0;var o=IH(R()),M0=x$(),UH=function($){TH(w,$);function w(){return $!==null&&$.apply(this,arguments)||this}return w.prototype.deleteVectorsRaw=function(B,D){return p(this,void 0,void 0,function(){var z,C,W;return r(this,function(E){switch(E.label){case 0:if(B.deleteRequest===null||B.deleteRequest===void 0)throw new o.RequiredError("deleteRequest","Required parameter requestParameters.deleteRequest was null or undefined when calling deleteVectors.");if(z={},C={},C["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey)C["Api-Key"]=this.configuration.apiKey("Api-Key");return[4,this.request({path:"/vectors/delete",method:"POST",headers:C,query:z,body:M0.DeleteRequestToJSON(B.deleteRequest)},D)];case 1:return W=E.sent(),[2,new o.JSONApiResponse(W)]}})})},w.prototype.deleteVectors=function(B,D){return p(this,void 0,void 0,function(){var z;return r(this,function(C){switch(C.label){case 0:return[4,this.deleteVectorsRaw(B,D)];case 1:return z=C.sent(),[4,z.value()];case 2:return[2,C.sent()]}})})},w.prototype.describeIndexStatsRaw=function(B,D){return p(this,void 0,void 0,function(){var z,C,W;return r(this,function(E){switch(E.label){case 0:if(B.describeIndexStatsRequest===null||B.describeIndexStatsRequest===void 0)throw new o.RequiredError("describeIndexStatsRequest","Required parameter requestParameters.describeIndexStatsRequest was null or undefined when calling describeIndexStats.");if(z={},C={},C["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey)C["Api-Key"]=this.configuration.apiKey("Api-Key");return[4,this.request({path:"/describe_index_stats",method:"POST",headers:C,query:z,body:M0.DescribeIndexStatsRequestToJSON(B.describeIndexStatsRequest)},D)];case 1:return W=E.sent(),[2,new o.JSONApiResponse(W,function(Q){return M0.IndexDescriptionFromJSON(Q)})]}})})},w.prototype.describeIndexStats=function(B,D){return p(this,void 0,void 0,function(){var z;return r(this,function(C){switch(C.label){case 0:return[4,this.describeIndexStatsRaw(B,D)];case 1:return z=C.sent(),[4,z.value()];case 2:return[2,C.sent()]}})})},w.prototype.fetchVectorsRaw=function(B,D){return p(this,void 0,void 0,function(){var z,C,W;return r(this,function(E){switch(E.label){case 0:if(B.ids===null||B.ids===void 0)throw new o.RequiredError("ids","Required parameter requestParameters.ids was null or undefined when calling fetchVectors.");if(z={},B.ids)z.ids=B.ids;if(B.namespace!==void 0)z.namespace=B.namespace;if(C={},this.configuration&&this.configuration.apiKey)C["Api-Key"]=this.configuration.apiKey("Api-Key");return[4,this.request({path:"/vectors/fetch",method:"GET",headers:C,query:z},D)];case 1:return W=E.sent(),[2,new o.JSONApiResponse(W,function(Q){return M0.FetchResponseFromJSON(Q)})]}})})},w.prototype.fetchVectors=function(B,D){return p(this,void 0,void 0,function(){var z;return r(this,function(C){switch(C.label){case 0:return[4,this.fetchVectorsRaw(B,D)];case 1:return z=C.sent(),[4,z.value()];case 2:return[2,C.sent()]}})})},w.prototype.listVectorsRaw=function(B,D){return p(this,void 0,void 0,function(){var z,C,W;return r(this,function(E){switch(E.label){case 0:if(z={},B.prefix!==void 0)z.prefix=B.prefix;if(B.limit!==void 0)z.limit=B.limit;if(B.paginationToken!==void 0)z.paginationToken=B.paginationToken;if(B.namespace!==void 0)z.namespace=B.namespace;if(C={},this.configuration&&this.configuration.apiKey)C["Api-Key"]=this.configuration.apiKey("Api-Key");return[4,this.request({path:"/vectors/list",method:"GET",headers:C,query:z},D)];case 1:return W=E.sent(),[2,new o.JSONApiResponse(W,function(Q){return M0.ListResponseFromJSON(Q)})]}})})},w.prototype.listVectors=function(B,D){if(B===void 0)B={};return p(this,void 0,void 0,function(){var z;return r(this,function(C){switch(C.label){case 0:return[4,this.listVectorsRaw(B,D)];case 1:return z=C.sent(),[4,z.value()];case 2:return[2,C.sent()]}})})},w.prototype.queryVectorsRaw=function(B,D){return p(this,void 0,void 0,function(){var z,C,W;return r(this,function(E){switch(E.label){case 0:if(B.queryRequest===null||B.queryRequest===void 0)throw new o.RequiredError("queryRequest","Required parameter requestParameters.queryRequest was null or undefined when calling queryVectors.");if(z={},C={},C["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey)C["Api-Key"]=this.configuration.apiKey("Api-Key");return[4,this.request({path:"/query",method:"POST",headers:C,query:z,body:M0.QueryRequestToJSON(B.queryRequest)},D)];case 1:return W=E.sent(),[2,new o.JSONApiResponse(W,function(Q){return M0.QueryResponseFromJSON(Q)})]}})})},w.prototype.queryVectors=function(B,D){return p(this,void 0,void 0,function(){var z;return r(this,function(C){switch(C.label){case 0:return[4,this.queryVectorsRaw(B,D)];case 1:return z=C.sent(),[4,z.value()];case 2:return[2,C.sent()]}})})},w.prototype.updateVectorRaw=function(B,D){return p(this,void 0,void 0,function(){var z,C,W;return r(this,function(E){switch(E.label){case 0:if(B.updateRequest===null||B.updateRequest===void 0)throw new o.RequiredError("updateRequest","Required parameter requestParameters.updateRequest was null or undefined when calling updateVector.");if(z={},C={},C["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey)C["Api-Key"]=this.configuration.apiKey("Api-Key");return[4,this.request({path:"/vectors/update",method:"POST",headers:C,query:z,body:M0.UpdateRequestToJSON(B.updateRequest)},D)];case 1:return W=E.sent(),[2,new o.JSONApiResponse(W)]}})})},w.prototype.updateVector=function(B,D){return p(this,void 0,void 0,function(){var z;return r(this,function(C){switch(C.label){case 0:return[4,this.updateVectorRaw(B,D)];case 1:return z=C.sent(),[4,z.value()];case 2:return[2,C.sent()]}})})},w.prototype.upsertVectorsRaw=function(B,D){return p(this,void 0,void 0,function(){var z,C,W;return r(this,function(E){switch(E.label){case 0:if(B.upsertRequest===null||B.upsertRequest===void 0)throw new o.RequiredError("upsertRequest","Required parameter requestParameters.upsertRequest was null or undefined when calling upsertVectors.");if(z={},C={},C["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey)C["Api-Key"]=this.configuration.apiKey("Api-Key");return[4,this.request({path:"/vectors/upsert",method:"POST",headers:C,query:z,body:M0.UpsertRequestToJSON(B.upsertRequest)},D)];case 1:return W=E.sent(),[2,new o.JSONApiResponse(W,function(Q){return M0.UpsertResponseFromJSON(Q)})]}})})},w.prototype.upsertVectors=function(B,D){return p(this,void 0,void 0,function(){var z;return r(this,function(C){switch(C.label){case 0:return[4,this.upsertVectorsRaw(B,D)];case 1:return z=C.sent(),[4,z.value()];case 2:return[2,C.sent()]}})})},w}(o.BaseAPI);i.VectorOperationsApi=UH});var m8=X((U1)=>{var VH=U1&&U1.__createBinding||(Object.create?function($,w,B,D){if(D===void 0)D=B;var z=Object.getOwnPropertyDescriptor(w,B);if(!z||("get"in z?!w.__esModule:z.writable||z.configurable))z={enumerable:!0,get:function(){return w[B]}};Object.defineProperty($,D,z)}:function($,w,B,D){if(D===void 0)D=B;$[D]=w[B]}),y8=U1&&U1.__exportStar||function($,w){for(var B in $)if(B!=="default"&&!Object.prototype.hasOwnProperty.call(w,B))VH(w,$,B)};Object.defineProperty(U1,"__esModule",{value:!0});y8(k8(),U1);y8(c8(),U1)});var j8=X((g8)=>{Object.defineProperty(g8,"__esModule",{value:!0});g8.X_PINECONE_API_VERSION=void 0;g8.X_PINECONE_API_VERSION="2024-10"});var u$=X((N0)=>{var MH=N0&&N0.__createBinding||(Object.create?function($,w,B,D){if(D===void 0)D=B;var z=Object.getOwnPropertyDescriptor(w,B);if(!z||("get"in z?!w.__esModule:z.writable||z.configurable))z={enumerable:!0,get:function(){return w[B]}};Object.defineProperty($,D,z)}:function($,w,B,D){if(D===void 0)D=B;$[D]=w[B]}),v$=N0&&N0.__exportStar||function($,w){for(var B in $)if(B!=="default"&&!Object.prototype.hasOwnProperty.call(w,B))MH(w,$,B)};Object.defineProperty(N0,"__esModule",{value:!0});v$(R(),N0);v$(m8(),N0);v$(x$(),N0);v$(j8(),N0)});var d8=X((F0)=>{var EC=F0&&F0.__assign||function(){return EC=Object.assign||function($){for(var w,B=1,D=arguments.length;B<D;B++){w=arguments[B];for(var z in w)if(Object.prototype.hasOwnProperty.call(w,z))$[z]=w[z]}return $},EC.apply(this,arguments)},NH=F0&&F0.__awaiter||function($,w,B,D){function z(C){return C instanceof B?C:new B(function(W){W(C)})}return new(B||(B=Promise))(function(C,W){function E(G){try{L(D.next(G))}catch(Y){W(Y)}}function Q(G){try{L(D.throw(G))}catch(Y){W(Y)}}function L(G){G.done?C(G.value):z(G.value).then(E,Q)}L((D=D.apply($,w||[])).next())})},FH=F0&&F0.__generator||function($,w){var B={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},D,z,C,W;return W={next:E(0),throw:E(1),return:E(2)},typeof Symbol==="function"&&(W[Symbol.iterator]=function(){return this}),W;function E(L){return function(G){return Q([L,G])}}function Q(L){if(D)throw new TypeError("Generator is already executing.");while(W&&(W=0,L[0]&&(B=0)),B)try{if(D=1,z&&(C=L[0]&2?z.return:L[0]?z.throw||((C=z.return)&&C.call(z),0):z.next)&&!(C=C.call(z,L[1])).done)return C;if(z=0,C)L=[L[0]&2,C.value];switch(L[0]){case 0:case 1:C=L;break;case 4:return B.label++,{value:L[1],done:!1};case 5:B.label++,z=L[1],L=[0];continue;case 7:L=B.ops.pop(),B.trys.pop();continue;default:if((C=B.trys,!(C=C.length>0&&C[C.length-1]))&&(L[0]===6||L[0]===2)){B=0;continue}if(L[0]===3&&(!C||L[1]>C[0]&&L[1]<C[3])){B.label=L[1];break}if(L[0]===6&&B.label<C[1]){B.label=C[1],C=L;break}if(C&&B.label<C[2]){B.label=C[2],B.ops.push(L);break}if(C[2])B.ops.pop();B.trys.pop();continue}L=w.call($,B)}catch(G){L=[6,G],z=0}finally{D=C=0}if(L[0]&5)throw L[1];return{value:L[0]?L[1]:void 0,done:!0}}};Object.defineProperty(F0,"__esModule",{value:!0});F0.VectorOperationsProvider=void 0;var GC=u$(),i$=Z0(),JH=S$(),AH=E$(),fH=function(){function $(w,B,D,z){this.config=w,this.indexName=B,this.indexHostUrl=i$.normalizeUrl(D),this.additionalHeaders=z}return $.prototype.provide=function(){return NH(this,void 0,void 0,function(){var w;return FH(this,function(B){switch(B.label){case 0:if(this.vectorOperations)return[2,this.vectorOperations];if(!this.indexHostUrl)return[3,1];return this.vectorOperations=this.buildDataOperationsConfig(),[3,3];case 1:return w=this,[4,JH.IndexHostSingleton.getHostUrl(this.config,this.indexName)];case 2:w.indexHostUrl=B.sent(),this.vectorOperations=this.buildDataOperationsConfig(),B.label=3;case 3:return[2,this.vectorOperations]}})})},$.prototype.buildDataOperationsConfig=function(){var w=this.additionalHeaders||null,B={basePath:this.indexHostUrl,apiKey:this.config.apiKey,queryParamsStringify:i$.queryParamsStringify,headers:EC({"User-Agent":i$.buildUserAgent(this.config),"X-Pinecone-Api-Version":GC.X_PINECONE_API_VERSION},w),fetchApi:i$.getFetch(this.config),middleware:AH.middleware},D=new GC.Configuration(B);return new GC.VectorOperationsApi(D)},$}();F0.VectorOperationsProvider=fH});var x8=X((J0)=>{var n$=J0&&J0.__assign||function(){return n$=Object.assign||function($){for(var w,B=1,D=arguments.length;B<D;B++){w=arguments[B];for(var z in w)if(Object.prototype.hasOwnProperty.call(w,z))$[z]=w[z]}return $},n$.apply(this,arguments)},RH=J0&&J0.__awaiter||function($,w,B,D){function z(C){return C instanceof B?C:new B(function(W){W(C)})}return new(B||(B=Promise))(function(C,W){function E(G){try{L(D.next(G))}catch(Y){W(Y)}}function Q(G){try{L(D.throw(G))}catch(Y){W(Y)}}function L(G){G.done?C(G.value):z(G.value).then(E,Q)}L((D=D.apply($,w||[])).next())})},SH=J0&&J0.__generator||function($,w){var B={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},D,z,C,W;return W={next:E(0),throw:E(1),return:E(2)},typeof Symbol==="function"&&(W[Symbol.iterator]=function(){return this}),W;function E(L){return function(G){return Q([L,G])}}function Q(L){if(D)throw new TypeError("Generator is already executing.");while(W&&(W=0,L[0]&&(B=0)),B)try{if(D=1,z&&(C=L[0]&2?z.return:L[0]?z.throw||((C=z.return)&&C.call(z),0):z.next)&&!(C=C.call(z,L[1])).done)return C;if(z=0,C)L=[L[0]&2,C.value];switch(L[0]){case 0:case 1:C=L;break;case 4:return B.label++,{value:L[1],done:!1};case 5:B.label++,z=L[1],L=[0];continue;case 7:L=B.ops.pop(),B.trys.pop();continue;default:if((C=B.trys,!(C=C.length>0&&C[C.length-1]))&&(L[0]===6||L[0]===2)){B=0;continue}if(L[0]===3&&(!C||L[1]>C[0]&&L[1]<C[3])){B.label=L[1];break}if(L[0]===6&&B.label<C[1]){B.label=C[1],C=L;break}if(C&&B.label<C[2]){B.label=C[2],B.ops.push(L);break}if(C[2])B.ops.pop();B.trys.pop();continue}L=w.call($,B)}catch(G){L=[6,G],z=0}finally{D=C=0}if(L[0]&5)throw L[1];return{value:L[0]?L[1]:void 0,done:!0}}};Object.defineProperty(J0,"__esModule",{value:!0});J0.listPaginated=void 0;var OH=T0(),bH=["prefix","limit","paginationToken"],qH=function($,w){var B=function(D){if(D)OH.ValidateProperties(D,bH);if(D.limit&&D.limit<0)throw new Error("`limit` property must be greater than 0")};return function(D){return RH(void 0,void 0,void 0,function(){var z,C;return SH(this,function(W){switch(W.label){case 0:if(D)B(D);return z=n$(n$({},D),{namespace:w}),[4,$.provide()];case 1:return C=W.sent(),[4,C.listVectors(z)];case 2:return[2,W.sent()]}})})}};J0.listPaginated=qH});var u8=X((V1)=>{var kH=V1&&V1.__awaiter||function($,w,B,D){function z(C){return C instanceof B?C:new B(function(W){W(C)})}return new(B||(B=Promise))(function(C,W){function E(G){try{L(D.next(G))}catch(Y){W(Y)}}function Q(G){try{L(D.throw(G))}catch(Y){W(Y)}}function L(G){G.done?C(G.value):z(G.value).then(E,Q)}L((D=D.apply($,w||[])).next())})},cH=V1&&V1.__generator||function($,w){var B={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},D,z,C,W;return W={next:E(0),throw:E(1),return:E(2)},typeof Symbol==="function"&&(W[Symbol.iterator]=function(){return this}),W;function E(L){return function(G){return Q([L,G])}}function Q(L){if(D)throw new TypeError("Generator is already executing.");while(W&&(W=0,L[0]&&(B=0)),B)try{if(D=1,z&&(C=L[0]&2?z.return:L[0]?z.throw||((C=z.return)&&C.call(z),0):z.next)&&!(C=C.call(z,L[1])).done)return C;if(z=0,C)L=[L[0]&2,C.value];switch(L[0]){case 0:case 1:C=L;break;case 4:return B.label++,{value:L[1],done:!1};case 5:B.label++,z=L[1],L=[0];continue;case 7:L=B.ops.pop(),B.trys.pop();continue;default:if((C=B.trys,!(C=C.length>0&&C[C.length-1]))&&(L[0]===6||L[0]===2)){B=0;continue}if(L[0]===3&&(!C||L[1]>C[0]&&L[1]<C[3])){B.label=L[1];break}if(L[0]===6&&B.label<C[1]){B.label=C[1],C=L;break}if(C&&B.label<C[2]){B.label=C[2],B.ops.push(L);break}if(C[2])B.ops.pop();B.trys.pop();continue}L=w.call($,B)}catch(G){L=[6,G],z=0}finally{D=C=0}if(L[0]&5)throw L[1];return{value:L[0]?L[1]:void 0,done:!0}}};Object.defineProperty(V1,"__esModule",{value:!0});V1.StartImportCommand=void 0;var l8=u$(),v8=k(),yH=function(){function $(w,B){this.apiProvider=w,this.namespace=B}return $.prototype.run=function(w,B,D){return kH(this,void 0,void 0,function(){var z,C,W;return cH(this,function(E){switch(E.label){case 0:if(!w)throw new v8.PineconeArgumentError("`uri` field is required and must start with the scheme of a supported storage provider.");if(z=l8.ImportErrorModeOnErrorEnum.Continue,B){if(B.toLowerCase()!=="continue"&&B.toLowerCase()!=="abort")throw new v8.PineconeArgumentError('`errorMode` must be one of "Continue" or "Abort"');if((B===null||B===void 0?void 0:B.toLowerCase())=="abort")z=l8.ImportErrorModeOnErrorEnum.Abort}return C={startImportRequest:{uri:w,errorMode:{onError:z},integrationId:D}},[4,this.apiProvider.provide()];case 1:return W=E.sent(),[4,W.startBulkImport(C)];case 2:return[2,E.sent()]}})})},$}();V1.StartImportCommand=yH});var i8=X((M1)=>{var mH=M1&&M1.__awaiter||function($,w,B,D){function z(C){return C instanceof B?C:new B(function(W){W(C)})}return new(B||(B=Promise))(function(C,W){function E(G){try{L(D.next(G))}catch(Y){W(Y)}}function Q(G){try{L(D.throw(G))}catch(Y){W(Y)}}function L(G){G.done?C(G.value):z(G.value).then(E,Q)}L((D=D.apply($,w||[])).next())})},gH=M1&&M1.__generator||function($,w){var B={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},D,z,C,W;return W={next:E(0),throw:E(1),return:E(2)},typeof Symbol==="function"&&(W[Symbol.iterator]=function(){return this}),W;function E(L){return function(G){return Q([L,G])}}function Q(L){if(D)throw new TypeError("Generator is already executing.");while(W&&(W=0,L[0]&&(B=0)),B)try{if(D=1,z&&(C=L[0]&2?z.return:L[0]?z.throw||((C=z.return)&&C.call(z),0):z.next)&&!(C=C.call(z,L[1])).done)return C;if(z=0,C)L=[L[0]&2,C.value];switch(L[0]){case 0:case 1:C=L;break;case 4:return B.label++,{value:L[1],done:!1};case 5:B.label++,z=L[1],L=[0];continue;case 7:L=B.ops.pop(),B.trys.pop();continue;default:if((C=B.trys,!(C=C.length>0&&C[C.length-1]))&&(L[0]===6||L[0]===2)){B=0;continue}if(L[0]===3&&(!C||L[1]>C[0]&&L[1]<C[3])){B.label=L[1];break}if(L[0]===6&&B.label<C[1]){B.label=C[1],C=L;break}if(C&&B.label<C[2]){B.label=C[2],B.ops.push(L);break}if(C[2])B.ops.pop();B.trys.pop();continue}L=w.call($,B)}catch(G){L=[6,G],z=0}finally{D=C=0}if(L[0]&5)throw L[1];return{value:L[0]?L[1]:void 0,done:!0}}};Object.defineProperty(M1,"__esModule",{value:!0});M1.ListImportsCommand=void 0;var PH=function(){function $(w,B){this.apiProvider=w,this.namespace=B}return $.prototype.run=function(w,B){return mH(this,void 0,void 0,function(){var D,z;return gH(this,function(C){switch(C.label){case 0:return D={limit:w,paginationToken:B},[4,this.apiProvider.provide()];case 1:return z=C.sent(),[4,z.listBulkImports(D)];case 2:return[2,C.sent()]}})})},$}();M1.ListImportsCommand=PH});var n8=X((N1)=>{var jH=N1&&N1.__awaiter||function($,w,B,D){function z(C){return C instanceof B?C:new B(function(W){W(C)})}return new(B||(B=Promise))(function(C,W){function E(G){try{L(D.next(G))}catch(Y){W(Y)}}function Q(G){try{L(D.throw(G))}catch(Y){W(Y)}}function L(G){G.done?C(G.value):z(G.value).then(E,Q)}L((D=D.apply($,w||[])).next())})},dH=N1&&N1.__generator||function($,w){var B={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},D,z,C,W;return W={next:E(0),throw:E(1),return:E(2)},typeof Symbol==="function"&&(W[Symbol.iterator]=function(){return this}),W;function E(L){return function(G){return Q([L,G])}}function Q(L){if(D)throw new TypeError("Generator is already executing.");while(W&&(W=0,L[0]&&(B=0)),B)try{if(D=1,z&&(C=L[0]&2?z.return:L[0]?z.throw||((C=z.return)&&C.call(z),0):z.next)&&!(C=C.call(z,L[1])).done)return C;if(z=0,C)L=[L[0]&2,C.value];switch(L[0]){case 0:case 1:C=L;break;case 4:return B.label++,{value:L[1],done:!1};case 5:B.label++,z=L[1],L=[0];continue;case 7:L=B.ops.pop(),B.trys.pop();continue;default:if((C=B.trys,!(C=C.length>0&&C[C.length-1]))&&(L[0]===6||L[0]===2)){B=0;continue}if(L[0]===3&&(!C||L[1]>C[0]&&L[1]<C[3])){B.label=L[1];break}if(L[0]===6&&B.label<C[1]){B.label=C[1],C=L;break}if(C&&B.label<C[2]){B.label=C[2],B.ops.push(L);break}if(C[2])B.ops.pop();B.trys.pop();continue}L=w.call($,B)}catch(G){L=[6,G],z=0}finally{D=C=0}if(L[0]&5)throw L[1];return{value:L[0]?L[1]:void 0,done:!0}}};Object.defineProperty(N1,"__esModule",{value:!0});N1.DescribeImportCommand=void 0;var xH=function(){function $(w,B){this.apiProvider=w,this.namespace=B}return $.prototype.run=function(w){return jH(this,void 0,void 0,function(){var B,D;return dH(this,function(z){switch(z.label){case 0:return B={id:w},[4,this.apiProvider.provide()];case 1:return D=z.sent(),[4,D.describeBulkImport(B)];case 2:return[2,z.sent()]}})})},$}();N1.DescribeImportCommand=xH});var _8=X((F1)=>{var lH=F1&&F1.__awaiter||function($,w,B,D){function z(C){return C instanceof B?C:new B(function(W){W(C)})}return new(B||(B=Promise))(function(C,W){function E(G){try{L(D.next(G))}catch(Y){W(Y)}}function Q(G){try{L(D.throw(G))}catch(Y){W(Y)}}function L(G){G.done?C(G.value):z(G.value).then(E,Q)}L((D=D.apply($,w||[])).next())})},vH=F1&&F1.__generator||function($,w){var B={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},D,z,C,W;return W={next:E(0),throw:E(1),return:E(2)},typeof Symbol==="function"&&(W[Symbol.iterator]=function(){return this}),W;function E(L){return function(G){return Q([L,G])}}function Q(L){if(D)throw new TypeError("Generator is already executing.");while(W&&(W=0,L[0]&&(B=0)),B)try{if(D=1,z&&(C=L[0]&2?z.return:L[0]?z.throw||((C=z.return)&&C.call(z),0):z.next)&&!(C=C.call(z,L[1])).done)return C;if(z=0,C)L=[L[0]&2,C.value];switch(L[0]){case 0:case 1:C=L;break;case 4:return B.label++,{value:L[1],done:!1};case 5:B.label++,z=L[1],L=[0];continue;case 7:L=B.ops.pop(),B.trys.pop();continue;default:if((C=B.trys,!(C=C.length>0&&C[C.length-1]))&&(L[0]===6||L[0]===2)){B=0;continue}if(L[0]===3&&(!C||L[1]>C[0]&&L[1]<C[3])){B.label=L[1];break}if(L[0]===6&&B.label<C[1]){B.label=C[1],C=L;break}if(C&&B.label<C[2]){B.label=C[2],B.ops.push(L);break}if(C[2])B.ops.pop();B.trys.pop();continue}L=w.call($,B)}catch(G){L=[6,G],z=0}finally{D=C=0}if(L[0]&5)throw L[1];return{value:L[0]?L[1]:void 0,done:!0}}};Object.defineProperty(F1,"__esModule",{value:!0});F1.CancelImportCommand=void 0;var uH=function(){function $(w,B){this.apiProvider=w,this.namespace=B}return $.prototype.run=function(w){return lH(this,void 0,void 0,function(){var B,D;return vH(this,function(z){switch(z.label){case 0:return B={id:w},[4,this.apiProvider.provide()];case 1:return D=z.sent(),[4,D.cancelBulkImport(B)];case 2:return[2,z.sent()]}})})},$}();F1.CancelImportCommand=uH});var a8=X((A0)=>{var YC=A0&&A0.__assign||function(){return YC=Object.assign||function($){for(var w,B=1,D=arguments.length;B<D;B++){w=arguments[B];for(var z in w)if(Object.prototype.hasOwnProperty.call(w,z))$[z]=w[z]}return $},YC.apply(this,arguments)},iH=A0&&A0.__awaiter||function($,w,B,D){function z(C){return C instanceof B?C:new B(function(W){W(C)})}return new(B||(B=Promise))(function(C,W){function E(G){try{L(D.next(G))}catch(Y){W(Y)}}function Q(G){try{L(D.throw(G))}catch(Y){W(Y)}}function L(G){G.done?C(G.value):z(G.value).then(E,Q)}L((D=D.apply($,w||[])).next())})},nH=A0&&A0.__generator||function($,w){var B={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},D,z,C,W;return W={next:E(0),throw:E(1),return:E(2)},typeof Symbol==="function"&&(W[Symbol.iterator]=function(){return this}),W;function E(L){return function(G){return Q([L,G])}}function Q(L){if(D)throw new TypeError("Generator is already executing.");while(W&&(W=0,L[0]&&(B=0)),B)try{if(D=1,z&&(C=L[0]&2?z.return:L[0]?z.throw||((C=z.return)&&C.call(z),0):z.next)&&!(C=C.call(z,L[1])).done)return C;if(z=0,C)L=[L[0]&2,C.value];switch(L[0]){case 0:case 1:C=L;break;case 4:return B.label++,{value:L[1],done:!1};case 5:B.label++,z=L[1],L=[0];continue;case 7:L=B.ops.pop(),B.trys.pop();continue;default:if((C=B.trys,!(C=C.length>0&&C[C.length-1]))&&(L[0]===6||L[0]===2)){B=0;continue}if(L[0]===3&&(!C||L[1]>C[0]&&L[1]<C[3])){B.label=L[1];break}if(L[0]===6&&B.label<C[1]){B.label=C[1],C=L;break}if(C&&B.label<C[2]){B.label=C[2],B.ops.push(L);break}if(C[2])B.ops.pop();B.trys.pop();continue}L=w.call($,B)}catch(G){L=[6,G],z=0}finally{D=C=0}if(L[0]&5)throw L[1];return{value:L[0]?L[1]:void 0,done:!0}}};Object.defineProperty(A0,"__esModule",{value:!0});A0.BulkOperationsProvider=void 0;var QC=u$(),_$=Z0(),_H=S$(),aH=E$(),tH=function(){function $(w,B,D,z){this.config=w,this.indexName=B,this.indexHostUrl=_$.normalizeUrl(D),this.additionalHeaders=z}return $.prototype.provide=function(){return iH(this,void 0,void 0,function(){var w;return nH(this,function(B){switch(B.label){case 0:if(this.bulkOperations)return[2,this.bulkOperations];if(!this.indexHostUrl)return[3,1];return this.bulkOperations=this.buildBulkOperationsConfig(),[3,3];case 1:return w=this,[4,_H.IndexHostSingleton.getHostUrl(this.config,this.indexName)];case 2:w.indexHostUrl=B.sent(),this.bulkOperations=this.buildBulkOperationsConfig(),B.label=3;case 3:return[2,this.bulkOperations]}})})},$.prototype.buildBulkOperationsConfig=function(){var w=this.additionalHeaders||null,B={basePath:this.indexHostUrl,apiKey:this.config.apiKey,queryParamsStringify:_$.queryParamsStringify,headers:YC({"User-Agent":_$.buildUserAgent(this.config),"X-Pinecone-Api-Version":QC.X_PINECONE_API_VERSION},w),fetchApi:_$.getFetch(this.config),middleware:aH.middleware},D=new QC.Configuration(B);return new QC.BulkOperationsApi(D)},$}();A0.BulkOperationsProvider=tH});var XC=X((f1)=>{var J1=f1&&f1.__awaiter||function($,w,B,D){function z(C){return C instanceof B?C:new B(function(W){W(C)})}return new(B||(B=Promise))(function(C,W){function E(G){try{L(D.next(G))}catch(Y){W(Y)}}function Q(G){try{L(D.throw(G))}catch(Y){W(Y)}}function L(G){G.done?C(G.value):z(G.value).then(E,Q)}L((D=D.apply($,w||[])).next())})},A1=f1&&f1.__generator||function($,w){var B={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},D,z,C,W;return W={next:E(0),throw:E(1),return:E(2)},typeof Symbol==="function"&&(W[Symbol.iterator]=function(){return this}),W;function E(L){return function(G){return Q([L,G])}}function Q(L){if(D)throw new TypeError("Generator is already executing.");while(W&&(W=0,L[0]&&(B=0)),B)try{if(D=1,z&&(C=L[0]&2?z.return:L[0]?z.throw||((C=z.return)&&C.call(z),0):z.next)&&!(C=C.call(z,L[1])).done)return C;if(z=0,C)L=[L[0]&2,C.value];switch(L[0]){case 0:case 1:C=L;break;case 4:return B.label++,{value:L[1],done:!1};case 5:B.label++,z=L[1],L=[0];continue;case 7:L=B.ops.pop(),B.trys.pop();continue;default:if((C=B.trys,!(C=C.length>0&&C[C.length-1]))&&(L[0]===6||L[0]===2)){B=0;continue}if(L[0]===3&&(!C||L[1]>C[0]&&L[1]<C[3])){B.label=L[1];break}if(L[0]===6&&B.label<C[1]){B.label=C[1],C=L;break}if(C&&B.label<C[2]){B.label=C[2],B.ops.push(L);break}if(C[2])B.ops.pop();B.trys.pop();continue}L=w.call($,B)}catch(G){L=[6,G],z=0}finally{D=C=0}if(L[0]&5)throw L[1];return{value:L[0]?L[1]:void 0,done:!0}}};Object.defineProperty(f1,"__esModule",{value:!0});f1.Index=void 0;var sH=z5(),pH=D5(),rH=W5(),oH=G5(),eH=E5(),$T=Y5(),BT=X5(),CT=Z5(),wT=d8(),LT=x8(),zT=u8(),DT=i8(),WT=n8(),GT=_8(),ET=a8(),QT=function(){function $(w,B,D,z,C){if(D===void 0)D="";this.config=B,this.target={index:w,namespace:D,indexHostUrl:z};var W=new wT.VectorOperationsProvider(B,w,z,C);this._deleteAll=BT.deleteAll(W,D),this._deleteMany=$T.deleteMany(W,D),this._deleteOne=eH.deleteOne(W,D),this._describeIndexStats=CT.describeIndexStats(W),this._listPaginated=LT.listPaginated(W,D),this._fetchCommand=new pH.FetchCommand(W,D),this._queryCommand=new oH.QueryCommand(W,D),this._updateCommand=new rH.UpdateCommand(W,D),this._upsertCommand=new sH.UpsertCommand(W,D);var E=new ET.BulkOperationsProvider(B,w,z,C);this._startImportCommand=new zT.StartImportCommand(E,D),this._listImportsCommand=new DT.ListImportsCommand(E,D),this._describeImportCommand=new WT.DescribeImportCommand(E,D),this._cancelImportCommand=new GT.CancelImportCommand(E,D)}return $.prototype.deleteAll=function(){return this._deleteAll()},$.prototype.deleteMany=function(w){return this._deleteMany(w)},$.prototype.deleteOne=function(w){return this._deleteOne(w)},$.prototype.describeIndexStats=function(){return this._describeIndexStats()},$.prototype.listPaginated=function(w){return this._listPaginated(w)},$.prototype.namespace=function(w){return new $(this.target.index,this.config,w,this.target.indexHostUrl)},$.prototype.upsert=function(w){return J1(this,void 0,void 0,function(){return A1(this,function(B){switch(B.label){case 0:return[4,this._upsertCommand.run(w,this.config.maxRetries)];case 1:return[2,B.sent()]}})})},$.prototype.fetch=function(w){return J1(this,void 0,void 0,function(){return A1(this,function(B){switch(B.label){case 0:return[4,this._fetchCommand.run(w)];case 1:return[2,B.sent()]}})})},$.prototype.query=function(w){return J1(this,void 0,void 0,function(){return A1(this,function(B){switch(B.label){case 0:return[4,this._queryCommand.run(w)];case 1:return[2,B.sent()]}})})},$.prototype.update=function(w){return J1(this,void 0,void 0,function(){return A1(this,function(B){switch(B.label){case 0:return[4,this._updateCommand.run(w,this.config.maxRetries)];case 1:return[2,B.sent()]}})})},$.prototype.startImport=function(w,B,D){return J1(this,void 0,void 0,function(){return A1(this,function(z){switch(z.label){case 0:return[4,this._startImportCommand.run(w,B,D)];case 1:return[2,z.sent()]}})})},$.prototype.listImports=function(w,B){return J1(this,void 0,void 0,function(){return A1(this,function(D){switch(D.label){case 0:return[4,this._listImportsCommand.run(w,B)];case 1:return[2,D.sent()]}})})},$.prototype.describeImport=function(w){return J1(this,void 0,void 0,function(){return A1(this,function(B){switch(B.label){case 0:return[4,this._describeImportCommand.run(w)];case 1:return[2,B.sent()]}})})},$.prototype.cancelImport=function(w){return J1(this,void 0,void 0,function(){return A1(this,function(B){switch(B.label){case 0:return[4,this._cancelImportCommand.run(w)];case 1:return[2,B.sent()]}})})},$}();f1.Index=QT});var ZC=X((R1)=>{var YT=R1&&R1.__extends||function(){var $=function(w,B){return $=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,z){D.__proto__=z}||function(D,z){for(var C in z)if(Object.prototype.hasOwnProperty.call(z,C))D[C]=z[C]},$(w,B)};return function(w,B){if(typeof B!=="function"&&B!==null)throw new TypeError("Class extends value "+String(B)+" is not a constructor or null");$(w,B);function D(){this.constructor=w}w.prototype=B===null?Object.create(B):(D.prototype=B.prototype,new D)}}(),p1=R1&&R1.__spreadArray||function($,w,B){if(B||arguments.length===2){for(var D=0,z=w.length,C;D<z;D++)if(C||!(D in w)){if(!C)C=Array.prototype.slice.call(w,0,D);C[D]=w[D]}}return $.concat(C||Array.prototype.slice.call(w))};Object.defineProperty(R1,"__esModule",{value:!0});R1.EmbeddingsList=void 0;var XT=function($){YT(w,$);function w(B,D,z){if(D===void 0)D=[];var C=$.apply(this,D)||this;return Object.setPrototypeOf(C,w.prototype),C.model=B,C.data=D,C.usage=z,C}return w.prototype.toString=function(){var B=this.truncateDataForDisplay(),D=B.map(function(C){var W;if(typeof C==="string")return"    ".concat(C);var E=JSON.stringify(C,function(G,Y){return G==="values"&&Array.isArray(Y)?Y:Y});E=E.replace(/:/g,": ");var Q=((W=E.match(/"values": \[(.*?)\]/))===null||W===void 0?void 0:W[1])||"",L=Q.split(",").join(", ").replace(/"/g,"");return E=E.replace(/("values": )\[(.*?)\]/,"$1[".concat(L,"]")),"    ".concat(E)}).join(`,
`),z=JSON.stringify(this.usage).replace(/:/g,": ");return`EmbeddingsList({
`+'  "model": "'.concat(this.model,`",
`)+`  "data": [
`+"".concat(D,`
`)+`   ],
`+'  "usage": '.concat(z,`
`)+"  })"},w.prototype.toJSON=function(){return{model:this.model,data:this.truncateDataForDisplay(),usage:this.usage}},w.prototype.get=function(B){return this[B]},w.prototype.indexOf=function(B){return this.data?this.data.indexOf(B):-1},w.prototype.truncateValuesForDisplay=function(B){if(!B||B.length<=4)return B?B:[];return p1(p1(p1([],B.slice(0,2),!0),["..."],!1),B.slice(-2),!0)},w.prototype.truncateDataForDisplay=function(){var B=this;if(!this.data)return[];if(this.data.length<=5)return this.data.map(function(D){return{values:D.values?B.truncateValuesForDisplay(D.values):[]}});return p1(p1(p1([],this.data.slice(0,2).map(function(D){return{values:D.values?B.truncateValuesForDisplay(D.values):[]}}),!0),["   ... (".concat(this.data.length-4," more embeddings) ...")],!1),this.data.slice(-2).map(function(D){return{values:D.values?B.truncateValuesForDisplay(D.values):[]}}),!0)},w}(Array);R1.EmbeddingsList=XT});var t8=X((HC)=>{Object.defineProperty(HC,"__esModule",{value:!0});HC.EmbeddingsList=void 0;var ZT=ZC();Object.defineProperty(HC,"EmbeddingsList",{enumerable:!0,get:function(){return ZT.EmbeddingsList}})});var r8=X((S1)=>{var s8=S1&&S1.__awaiter||function($,w,B,D){function z(C){return C instanceof B?C:new B(function(W){W(C)})}return new(B||(B=Promise))(function(C,W){function E(G){try{L(D.next(G))}catch(Y){W(Y)}}function Q(G){try{L(D.throw(G))}catch(Y){W(Y)}}function L(G){G.done?C(G.value):z(G.value).then(E,Q)}L((D=D.apply($,w||[])).next())})},p8=S1&&S1.__generator||function($,w){var B={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},D,z,C,W;return W={next:E(0),throw:E(1),return:E(2)},typeof Symbol==="function"&&(W[Symbol.iterator]=function(){return this}),W;function E(L){return function(G){return Q([L,G])}}function Q(L){if(D)throw new TypeError("Generator is already executing.");while(W&&(W=0,L[0]&&(B=0)),B)try{if(D=1,z&&(C=L[0]&2?z.return:L[0]?z.throw||((C=z.return)&&C.call(z),0):z.next)&&!(C=C.call(z,L[1])).done)return C;if(z=0,C)L=[L[0]&2,C.value];switch(L[0]){case 0:case 1:C=L;break;case 4:return B.label++,{value:L[1],done:!1};case 5:B.label++,z=L[1],L=[0];continue;case 7:L=B.ops.pop(),B.trys.pop();continue;default:if((C=B.trys,!(C=C.length>0&&C[C.length-1]))&&(L[0]===6||L[0]===2)){B=0;continue}if(L[0]===3&&(!C||L[1]>C[0]&&L[1]<C[3])){B.label=L[1];break}if(L[0]===6&&B.label<C[1]){B.label=C[1],C=L;break}if(C&&B.label<C[2]){B.label=C[2],B.ops.push(L);break}if(C[2])B.ops.pop();B.trys.pop();continue}L=w.call($,B)}catch(G){L=[6,G],z=0}finally{D=C=0}if(L[0]&5)throw L[1];return{value:L[0]?L[1]:void 0,done:!0}}};Object.defineProperty(S1,"__esModule",{value:!0});S1.Inference=void 0;var TT=t8(),a$=k(),KT=function(){function $(w){this._inferenceApi=w}return $.prototype._formatInputs=function(w){return w.map(function(B){return{text:B}})},$.prototype.embed=function(w,B,D){return s8(this,void 0,void 0,function(){var z,C,W;return p8(this,function(E){switch(E.label){case 0:return z=this._formatInputs(B),C={embedRequest:{model:w,inputs:z,parameters:D}},[4,this._inferenceApi.embed(C)];case 1:return W=E.sent(),[2,new TT.EmbeddingsList(W.model,W.data,W.usage)]}})})},$.prototype.rerank=function(w,B,D,z){if(z===void 0)z={};return s8(this,void 0,void 0,function(){var C,W,E,Q,L,G,Y,h,I,H;return p8(this,function(Z){switch(Z.label){case 0:if(D.length==0)throw new a$.PineconeArgumentError("You must pass at least one document to rerank");if(B.length==0)throw new a$.PineconeArgumentError("You must pass a query to rerank");if(w.length==0)throw new a$.PineconeArgumentError("You must pass the name of a supported reranking model in order to rerank documents. See https://docs.pinecone.io/models for supported models.");if(C=z.topN,W=C===void 0?D.length:C,E=z.returnDocuments,Q=E===void 0?!0:E,L=z.parameters,G=L===void 0?{}:L,Y=z.rankFields,h=Y===void 0?["text"]:Y,I=D.map(function(x){return typeof x==="string"?{text:x}:x}),!z.rankFields){if(!I.every(function(x){return typeof x==="object"&&x.text}))throw new a$.PineconeArgumentError('Documents must be a list of strings or objects containing the "text" field')}if(z.rankFields)h=z.rankFields;return H={rerankRequest:{model:w,query:B,documents:I,topN:W,returnDocuments:Q,rankFields:h,parameters:G}},[4,this._inferenceApi.rerank(H)];case 1:return[2,Z.sent()]}})})},$}();S1.Inference=KT});var o8=X((j1)=>{var hT=j1&&j1.__createBinding||(Object.create?function($,w,B,D){if(D===void 0)D=B;var z=Object.getOwnPropertyDescriptor(w,B);if(!z||("get"in z?!w.__esModule:z.writable||z.configurable))z={enumerable:!0,get:function(){return w[B]}};Object.defineProperty($,D,z)}:function($,w,B,D){if(D===void 0)D=B;$[D]=w[B]}),IT=j1&&j1.__exportStar||function($,w){for(var B in $)if(B!=="default"&&!Object.prototype.hasOwnProperty.call(w,B))hT(w,$,B)};Object.defineProperty(j1,"__esModule",{value:!0});IT(r8(),j1)});var C0=X((M)=>{var TC=M&&M.__extends||function(){var $=function(w,B){return $=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,z){D.__proto__=z}||function(D,z){for(var C in z)if(Object.prototype.hasOwnProperty.call(z,C))D[C]=z[C]},$(w,B)};return function(w,B){if(typeof B!=="function"&&B!==null)throw new TypeError("Class extends value "+String(B)+" is not a constructor or null");$(w,B);function D(){this.constructor=w}w.prototype=B===null?Object.create(B):(D.prototype=B.prototype,new D)}}(),l0=M&&M.__assign||function(){return l0=Object.assign||function($){for(var w,B=1,D=arguments.length;B<D;B++){w=arguments[B];for(var z in w)if(Object.prototype.hasOwnProperty.call(w,z))$[z]=w[z]}return $},l0.apply(this,arguments)},v0=M&&M.__awaiter||function($,w,B,D){function z(C){return C instanceof B?C:new B(function(W){W(C)})}return new(B||(B=Promise))(function(C,W){function E(G){try{L(D.next(G))}catch(Y){W(Y)}}function Q(G){try{L(D.throw(G))}catch(Y){W(Y)}}function L(G){G.done?C(G.value):z(G.value).then(E,Q)}L((D=D.apply($,w||[])).next())})},u0=M&&M.__generator||function($,w){var B={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},D,z,C,W;return W={next:E(0),throw:E(1),return:E(2)},typeof Symbol==="function"&&(W[Symbol.iterator]=function(){return this}),W;function E(L){return function(G){return Q([L,G])}}function Q(L){if(D)throw new TypeError("Generator is already executing.");while(W&&(W=0,L[0]&&(B=0)),B)try{if(D=1,z&&(C=L[0]&2?z.return:L[0]?z.throw||((C=z.return)&&C.call(z),0):z.next)&&!(C=C.call(z,L[1])).done)return C;if(z=0,C)L=[L[0]&2,C.value];switch(L[0]){case 0:case 1:C=L;break;case 4:return B.label++,{value:L[1],done:!1};case 5:B.label++,z=L[1],L=[0];continue;case 7:L=B.ops.pop(),B.trys.pop();continue;default:if((C=B.trys,!(C=C.length>0&&C[C.length-1]))&&(L[0]===6||L[0]===2)){B=0;continue}if(L[0]===3&&(!C||L[1]>C[0]&&L[1]<C[3])){B.label=L[1];break}if(L[0]===6&&B.label<C[1]){B.label=C[1],C=L;break}if(C&&B.label<C[2]){B.label=C[2],B.ops.push(L);break}if(C[2])B.ops.pop();B.trys.pop();continue}L=w.call($,B)}catch(G){L=[6,G],z=0}finally{D=C=0}if(L[0]&5)throw L[1];return{value:L[0]?L[1]:void 0,done:!0}}};Object.defineProperty(M,"__esModule",{value:!0});M.TextApiResponse=M.BlobApiResponse=M.VoidApiResponse=M.JSONApiResponse=M.canConsumeForm=M.mapValues=M.querystring=M.exists=M.COLLECTION_FORMATS=M.RequiredError=M.FetchError=M.ResponseError=M.BaseAPI=M.DefaultConfig=M.Configuration=M.BASE_PATH=void 0;M.BASE_PATH="https://api.pinecone.io".replace(/\/+$/,"");var e8=function(){function $(w){if(w===void 0)w={};this.configuration=w}return Object.defineProperty($.prototype,"config",{set:function(w){this.configuration=w},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"basePath",{get:function(){return this.configuration.basePath!=null?this.configuration.basePath:M.BASE_PATH},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"fetchApi",{get:function(){return this.configuration.fetchApi},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"middleware",{get:function(){return this.configuration.middleware||[]},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"queryParamsStringify",{get:function(){return this.configuration.queryParamsStringify||KC},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"username",{get:function(){return this.configuration.username},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"password",{get:function(){return this.configuration.password},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"apiKey",{get:function(){var w=this.configuration.apiKey;if(w)return typeof w==="function"?w:function(){return w};return},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"accessToken",{get:function(){var w=this,B=this.configuration.accessToken;if(B)return typeof B==="function"?B:function(){return v0(w,void 0,void 0,function(){return u0(this,function(D){return[2,B]})})};return},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"headers",{get:function(){return this.configuration.headers},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"credentials",{get:function(){return this.configuration.credentials},enumerable:!1,configurable:!0}),$}();M.Configuration=e8;M.DefaultConfig=new e8;var UT=function(){function $(w){if(w===void 0)w=M.DefaultConfig;var B=this;this.configuration=w,this.fetchApi=function(D,z){return v0(B,void 0,void 0,function(){var C,W,E,H,Q,L,G,Y,H,h,I,H;return u0(this,function(Z){switch(Z.label){case 0:C={url:D,init:z},W=0,E=this.middleware,Z.label=1;case 1:if(!(W<E.length))return[3,4];if(H=E[W],!H.pre)return[3,3];return[4,H.pre(l0({fetch:this.fetchApi},C))];case 2:C=Z.sent()||C,Z.label=3;case 3:return W++,[3,1];case 4:Q=void 0,Z.label=5;case 5:return Z.trys.push([5,7,,12]),[4,(this.configuration.fetchApi||fetch)(C.url,C.init)];case 6:return Q=Z.sent(),[3,12];case 7:L=Z.sent(),G=0,Y=this.middleware,Z.label=8;case 8:if(!(G<Y.length))return[3,11];if(H=Y[G],!H.onError)return[3,10];return[4,H.onError({fetch:this.fetchApi,url:C.url,init:C.init,error:L,response:Q?Q.clone():void 0})];case 9:Q=Z.sent()||Q,Z.label=10;case 10:return G++,[3,8];case 11:if(Q===void 0)if(L instanceof Error)throw new BW(L,"The request failed and the interceptors did not return an alternative response");else throw L;return[3,12];case 12:h=0,I=this.middleware,Z.label=13;case 13:if(!(h<I.length))return[3,16];if(H=I[h],!H.post)return[3,15];return[4,H.post({fetch:this.fetchApi,url:C.url,init:C.init,response:Q.clone()})];case 14:Q=Z.sent()||Q,Z.label=15;case 15:return h++,[3,13];case 16:return[2,Q]}})})},this.middleware=w.middleware}return $.prototype.withMiddleware=function(){var w,B=[];for(var D=0;D<arguments.length;D++)B[D]=arguments[D];var z=this.clone();return z.middleware=(w=z.middleware).concat.apply(w,B),z},$.prototype.withPreMiddleware=function(){var w=[];for(var B=0;B<arguments.length;B++)w[B]=arguments[B];var D=w.map(function(z){return{pre:z}});return this.withMiddleware.apply(this,D)},$.prototype.withPostMiddleware=function(){var w=[];for(var B=0;B<arguments.length;B++)w[B]=arguments[B];var D=w.map(function(z){return{post:z}});return this.withMiddleware.apply(this,D)},$.prototype.isJsonMime=function(w){if(!w)return!1;return $.jsonRegex.test(w)},$.prototype.request=function(w,B){return v0(this,void 0,void 0,function(){var D,z,C,W;return u0(this,function(E){switch(E.label){case 0:return[4,this.createFetchParams(w,B)];case 1:return D=E.sent(),z=D.url,C=D.init,[4,this.fetchApi(z,C)];case 2:if(W=E.sent(),W&&(W.status>=200&&W.status<300))return[2,W];throw new $W(W,"Response returned an error code")}})})},$.prototype.createFetchParams=function(w,B){return v0(this,void 0,void 0,function(){var D,z,C,W,E,Q,L,G,Y=this;return u0(this,function(h){switch(h.label){case 0:if(D=this.configuration.basePath+w.path,w.query!==void 0&&Object.keys(w.query).length!==0)D+="?"+this.configuration.queryParamsStringify(w.query);return z=Object.assign({},this.configuration.headers,w.headers),Object.keys(z).forEach(function(I){return z[I]===void 0?delete z[I]:{}}),C=typeof B==="function"?B:function(){return v0(Y,void 0,void 0,function(){return u0(this,function(I){return[2,B]})})},W={method:w.method,headers:z,body:w.body,credentials:this.configuration.credentials},Q=[l0({},W)],[4,C({init:W,context:w})];case 1:if(E=l0.apply(void 0,Q.concat([h.sent()])),MT(E.body)||E.body instanceof URLSearchParams||VT(E.body))L=E.body;else if(this.isJsonMime(z["Content-Type"]))L=JSON.stringify(E.body);else L=E.body;return G=l0(l0({},E),{body:L}),[2,{url:D,init:G}]}})})},$.prototype.clone=function(){var w=this.constructor,B=new w(this.configuration);return B.middleware=this.middleware.slice(),B},$.jsonRegex=new RegExp("^(:?application/json|[^;/ \t]+/[^;/ \t]+[+]json)[ \t]*(:?;.*)?$","i"),$}();M.BaseAPI=UT;function VT($){return typeof Blob!=="undefined"&&$ instanceof Blob}function MT($){return typeof FormData!=="undefined"&&$ instanceof FormData}var $W=function($){TC(w,$);function w(B,D){var z=$.call(this,D)||this;return z.response=B,z.name="ResponseError",z}return w}(Error);M.ResponseError=$W;var BW=function($){TC(w,$);function w(B,D){var z=$.call(this,D)||this;return z.cause=B,z.name="FetchError",z}return w}(Error);M.FetchError=BW;var NT=function($){TC(w,$);function w(B,D){var z=$.call(this,D)||this;return z.field=B,z.name="RequiredError",z}return w}(Error);M.RequiredError=NT;M.COLLECTION_FORMATS={csv:",",ssv:" ",tsv:"\t",pipes:"|"};function FT($,w){var B=$[w];return B!==null&&B!==void 0}M.exists=FT;function KC($,w){if(w===void 0)w="";return Object.keys($).map(function(B){return CW(B,$[B],w)}).filter(function(B){return B.length>0}).join("&")}M.querystring=KC;function CW($,w,B){if(B===void 0)B="";var D=B+(B.length?"[".concat($,"]"):$);if(w instanceof Array){var z=w.map(function(W){return encodeURIComponent(String(W))}).join("&".concat(encodeURIComponent(D),"="));return"".concat(encodeURIComponent(D),"=").concat(z)}if(w instanceof Set){var C=Array.from(w);return CW($,C,B)}if(w instanceof Date)return"".concat(encodeURIComponent(D),"=").concat(encodeURIComponent(w.toISOString()));if(w instanceof Object)return KC(w,D);return"".concat(encodeURIComponent(D),"=").concat(encodeURIComponent(String(w)))}function JT($,w){return Object.keys($).reduce(function(B,D){var z;return l0(l0({},B),(z={},z[D]=w($[D]),z))},{})}M.mapValues=JT;function AT($){for(var w=0,B=$;w<B.length;w++){var D=B[w];if(D.contentType==="multipart/form-data")return!0}return!1}M.canConsumeForm=AT;var fT=function(){function $(w,B){if(B===void 0)B=function(D){return D};this.raw=w,this.transformer=B}return $.prototype.value=function(){return v0(this,void 0,void 0,function(){var w;return u0(this,function(B){switch(B.label){case 0:return w=this.transformer,[4,this.raw.json()];case 1:return[2,w.apply(this,[B.sent()])]}})})},$}();M.JSONApiResponse=fT;var RT=function(){function $(w){this.raw=w}return $.prototype.value=function(){return v0(this,void 0,void 0,function(){return u0(this,function(w){return[2,void 0]})})},$}();M.VoidApiResponse=RT;var ST=function(){function $(w){this.raw=w}return $.prototype.value=function(){return v0(this,void 0,void 0,function(){return u0(this,function(w){switch(w.label){case 0:return[4,this.raw.blob()];case 1:return[2,w.sent()]}})})},$}();M.BlobApiResponse=ST;var OT=function(){function $(w){this.raw=w}return $.prototype.value=function(){return v0(this,void 0,void 0,function(){return u0(this,function(w){switch(w.label){case 0:return[4,this.raw.text()];case 1:return[2,w.sent()]}})})},$}();M.TextApiResponse=OT});var hC=X((LW)=>{Object.defineProperty(LW,"__esModule",{value:!0});LW.EmbedRequestInputsInnerToJSON=LW.EmbedRequestInputsInnerFromJSONTyped=LW.EmbedRequestInputsInnerFromJSON=LW.instanceOfEmbedRequestInputsInner=void 0;var bT=C0();function qT($){var w=!0;return w}LW.instanceOfEmbedRequestInputsInner=qT;function kT($){return wW($,!1)}LW.EmbedRequestInputsInnerFromJSON=kT;function wW($,w){if($===void 0||$===null)return $;return{text:!bT.exists($,"text")?void 0:$.text}}LW.EmbedRequestInputsInnerFromJSONTyped=wW;function cT($){if($===void 0)return;if($===null)return null;return{text:$.text}}LW.EmbedRequestInputsInnerToJSON=cT});var IC=X((GW)=>{Object.defineProperty(GW,"__esModule",{value:!0});GW.EmbedRequestParametersToJSON=GW.EmbedRequestParametersFromJSONTyped=GW.EmbedRequestParametersFromJSON=GW.instanceOfEmbedRequestParameters=void 0;var DW=C0();function PT($){var w=!0;return w}GW.instanceOfEmbedRequestParameters=PT;function jT($){return WW($,!1)}GW.EmbedRequestParametersFromJSON=jT;function WW($,w){if($===void 0||$===null)return $;return{inputType:!DW.exists($,"input_type")?void 0:$.input_type,truncate:!DW.exists($,"truncate")?void 0:$.truncate}}GW.EmbedRequestParametersFromJSONTyped=WW;function dT($){if($===void 0)return;if($===null)return null;return{input_type:$.inputType,truncate:$.truncate}}GW.EmbedRequestParametersToJSON=dT});var TW=X((ZW)=>{Object.defineProperty(ZW,"__esModule",{value:!0});ZW.EmbedRequestToJSON=ZW.EmbedRequestFromJSONTyped=ZW.EmbedRequestFromJSON=ZW.instanceOfEmbedRequest=void 0;var uT=C0(),QW=hC(),YW=IC();function iT($){var w=!0;return w=w&&"model"in $,w=w&&"inputs"in $,w}ZW.instanceOfEmbedRequest=iT;function nT($){return XW($,!1)}ZW.EmbedRequestFromJSON=nT;function XW($,w){if($===void 0||$===null)return $;return{model:$.model,parameters:!uT.exists($,"parameters")?void 0:YW.EmbedRequestParametersFromJSON($.parameters),inputs:$.inputs.map(QW.EmbedRequestInputsInnerFromJSON)}}ZW.EmbedRequestFromJSONTyped=XW;function _T($){if($===void 0)return;if($===null)return null;return{model:$.model,parameters:YW.EmbedRequestParametersToJSON($.parameters),inputs:$.inputs.map(QW.EmbedRequestInputsInnerToJSON)}}ZW.EmbedRequestToJSON=_T});var UC=X((hW)=>{Object.defineProperty(hW,"__esModule",{value:!0});hW.EmbeddingToJSON=hW.EmbeddingFromJSONTyped=hW.EmbeddingFromJSON=hW.instanceOfEmbedding=void 0;var pT=C0();function rT($){var w=!0;return w}hW.instanceOfEmbedding=rT;function oT($){return KW($,!1)}hW.EmbeddingFromJSON=oT;function KW($,w){if($===void 0||$===null)return $;return{values:!pT.exists($,"values")?void 0:$.values}}hW.EmbeddingFromJSONTyped=KW;function eT($){if($===void 0)return;if($===null)return null;return{values:$.values}}hW.EmbeddingToJSON=eT});var VC=X((VW)=>{Object.defineProperty(VW,"__esModule",{value:!0});VW.EmbeddingsListUsageToJSON=VW.EmbeddingsListUsageFromJSONTyped=VW.EmbeddingsListUsageFromJSON=VW.instanceOfEmbeddingsListUsage=void 0;var wK=C0();function LK($){var w=!0;return w}VW.instanceOfEmbeddingsListUsage=LK;function zK($){return UW($,!1)}VW.EmbeddingsListUsageFromJSON=zK;function UW($,w){if($===void 0||$===null)return $;return{totalTokens:!wK.exists($,"total_tokens")?void 0:$.total_tokens}}VW.EmbeddingsListUsageFromJSONTyped=UW;function DK($){if($===void 0)return;if($===null)return null;return{total_tokens:$.totalTokens}}VW.EmbeddingsListUsageToJSON=DK});var RW=X((AW)=>{Object.defineProperty(AW,"__esModule",{value:!0});AW.EmbeddingsListToJSON=AW.EmbeddingsListFromJSONTyped=AW.EmbeddingsListFromJSON=AW.instanceOfEmbeddingsList=void 0;var NW=UC(),FW=VC();function QK($){var w=!0;return w=w&&"model"in $,w=w&&"data"in $,w=w&&"usage"in $,w}AW.instanceOfEmbeddingsList=QK;function YK($){return JW($,!1)}AW.EmbeddingsListFromJSON=YK;function JW($,w){if($===void 0||$===null)return $;return{model:$.model,data:$.data.map(NW.EmbeddingFromJSON),usage:FW.EmbeddingsListUsageFromJSON($.usage)}}AW.EmbeddingsListFromJSONTyped=JW;function XK($){if($===void 0)return;if($===null)return null;return{model:$.model,data:$.data.map(NW.EmbeddingToJSON),usage:FW.EmbeddingsListUsageToJSON($.usage)}}AW.EmbeddingsListToJSON=XK});var MC=X((OW)=>{Object.defineProperty(OW,"__esModule",{value:!0});OW.ErrorResponseErrorToJSON=OW.ErrorResponseErrorFromJSONTyped=OW.ErrorResponseErrorFromJSON=OW.instanceOfErrorResponseError=OW.ErrorResponseErrorCodeEnum=void 0;var KK=C0();OW.ErrorResponseErrorCodeEnum={Ok:"OK",Unknown:"UNKNOWN",InvalidArgument:"INVALID_ARGUMENT",DeadlineExceeded:"DEADLINE_EXCEEDED",QuotaExceeded:"QUOTA_EXCEEDED",NotFound:"NOT_FOUND",AlreadyExists:"ALREADY_EXISTS",PermissionDenied:"PERMISSION_DENIED",Unauthenticated:"UNAUTHENTICATED",ResourceExhausted:"RESOURCE_EXHAUSTED",FailedPrecondition:"FAILED_PRECONDITION",Aborted:"ABORTED",OutOfRange:"OUT_OF_RANGE",Unimplemented:"UNIMPLEMENTED",Internal:"INTERNAL",Unavailable:"UNAVAILABLE",DataLoss:"DATA_LOSS",Forbidden:"FORBIDDEN"};function hK($){var w=!0;return w=w&&"code"in $,w=w&&"message"in $,w}OW.instanceOfErrorResponseError=hK;function IK($){return SW($,!1)}OW.ErrorResponseErrorFromJSON=IK;function SW($,w){if($===void 0||$===null)return $;return{code:$.code,message:$.message,details:!KK.exists($,"details")?void 0:$.details}}OW.ErrorResponseErrorFromJSONTyped=SW;function UK($){if($===void 0)return;if($===null)return null;return{code:$.code,message:$.message,details:$.details}}OW.ErrorResponseErrorToJSON=UK});var mW=X((cW)=>{Object.defineProperty(cW,"__esModule",{value:!0});cW.ErrorResponseToJSON=cW.ErrorResponseFromJSONTyped=cW.ErrorResponseFromJSON=cW.instanceOfErrorResponse=void 0;var qW=MC();function JK($){var w=!0;return w=w&&"status"in $,w=w&&"error"in $,w}cW.instanceOfErrorResponse=JK;function AK($){return kW($,!1)}cW.ErrorResponseFromJSON=AK;function kW($,w){if($===void 0||$===null)return $;return{status:$.status,error:qW.ErrorResponseErrorFromJSON($.error)}}cW.ErrorResponseFromJSONTyped=kW;function fK($){if($===void 0)return;if($===null)return null;return{status:$.status,error:qW.ErrorResponseErrorToJSON($.error)}}cW.ErrorResponseToJSON=fK});var NC=X((PW)=>{Object.defineProperty(PW,"__esModule",{value:!0});PW.RankedDocumentToJSON=PW.RankedDocumentFromJSONTyped=PW.RankedDocumentFromJSON=PW.instanceOfRankedDocument=void 0;var bK=C0();function qK($){var w=!0;return w=w&&"index"in $,w=w&&"score"in $,w}PW.instanceOfRankedDocument=qK;function kK($){return gW($,!1)}PW.RankedDocumentFromJSON=kK;function gW($,w){if($===void 0||$===null)return $;return{index:$.index,score:$.score,document:!bK.exists($,"document")?void 0:$.document}}PW.RankedDocumentFromJSONTyped=gW;function cK($){if($===void 0)return;if($===null)return null;return{index:$.index,score:$.score,document:$.document}}PW.RankedDocumentToJSON=cK});var vW=X((xW)=>{Object.defineProperty(xW,"__esModule",{value:!0});xW.RerankRequestToJSON=xW.RerankRequestFromJSONTyped=xW.RerankRequestFromJSON=xW.instanceOfRerankRequest=void 0;var t$=C0();function PK($){var w=!0;return w=w&&"model"in $,w=w&&"query"in $,w=w&&"documents"in $,w}xW.instanceOfRerankRequest=PK;function jK($){return dW($,!1)}xW.RerankRequestFromJSON=jK;function dW($,w){if($===void 0||$===null)return $;return{model:$.model,query:$.query,topN:!t$.exists($,"top_n")?void 0:$.top_n,returnDocuments:!t$.exists($,"return_documents")?void 0:$.return_documents,rankFields:!t$.exists($,"rank_fields")?void 0:$.rank_fields,documents:$.documents,parameters:!t$.exists($,"parameters")?void 0:$.parameters}}xW.RerankRequestFromJSONTyped=dW;function dK($){if($===void 0)return;if($===null)return null;return{model:$.model,query:$.query,top_n:$.topN,return_documents:$.returnDocuments,rank_fields:$.rankFields,documents:$.documents,parameters:$.parameters}}xW.RerankRequestToJSON=dK});var FC=X((iW)=>{Object.defineProperty(iW,"__esModule",{value:!0});iW.RerankResultUsageToJSON=iW.RerankResultUsageFromJSONTyped=iW.RerankResultUsageFromJSON=iW.instanceOfRerankResultUsage=void 0;var uK=C0();function iK($){var w=!0;return w}iW.instanceOfRerankResultUsage=iK;function nK($){return uW($,!1)}iW.RerankResultUsageFromJSON=nK;function uW($,w){if($===void 0||$===null)return $;return{rerankUnits:!uK.exists($,"rerank_units")?void 0:$.rerank_units}}iW.RerankResultUsageFromJSONTyped=uW;function _K($){if($===void 0)return;if($===null)return null;return{rerank_units:$.rerankUnits}}iW.RerankResultUsageToJSON=_K});var rW=X((sW)=>{Object.defineProperty(sW,"__esModule",{value:!0});sW.RerankResultToJSON=sW.RerankResultFromJSONTyped=sW.RerankResultFromJSON=sW.instanceOfRerankResult=void 0;var _W=NC(),aW=FC();function pK($){var w=!0;return w=w&&"model"in $,w=w&&"data"in $,w=w&&"usage"in $,w}sW.instanceOfRerankResult=pK;function rK($){return tW($,!1)}sW.RerankResultFromJSON=rK;function tW($,w){if($===void 0||$===null)return $;return{model:$.model,data:$.data.map(_W.RankedDocumentFromJSON),usage:aW.RerankResultUsageFromJSON($.usage)}}sW.RerankResultFromJSONTyped=tW;function oK($){if($===void 0)return;if($===null)return null;return{model:$.model,data:$.data.map(_W.RankedDocumentToJSON),usage:aW.RerankResultUsageToJSON($.usage)}}sW.RerankResultToJSON=oK});var JC=X((d)=>{var Ch=d&&d.__createBinding||(Object.create?function($,w,B,D){if(D===void 0)D=B;var z=Object.getOwnPropertyDescriptor(w,B);if(!z||("get"in z?!w.__esModule:z.writable||z.configurable))z={enumerable:!0,get:function(){return w[B]}};Object.defineProperty($,D,z)}:function($,w,B,D){if(D===void 0)D=B;$[D]=w[B]}),w0=d&&d.__exportStar||function($,w){for(var B in $)if(B!=="default"&&!Object.prototype.hasOwnProperty.call(w,B))Ch(w,$,B)};Object.defineProperty(d,"__esModule",{value:!0});w0(TW(),d);w0(hC(),d);w0(IC(),d);w0(UC(),d);w0(RW(),d);w0(VC(),d);w0(mW(),d);w0(MC(),d);w0(NC(),d);w0(vW(),d);w0(rW(),d);w0(FC(),d)});var oW=X((n)=>{var wh=n&&n.__extends||function(){var $=function(w,B){return $=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,z){D.__proto__=z}||function(D,z){for(var C in z)if(Object.prototype.hasOwnProperty.call(z,C))D[C]=z[C]},$(w,B)};return function(w,B){if(typeof B!=="function"&&B!==null)throw new TypeError("Class extends value "+String(B)+" is not a constructor or null");$(w,B);function D(){this.constructor=w}w.prototype=B===null?Object.create(B):(D.prototype=B.prototype,new D)}}(),Lh=n&&n.__createBinding||(Object.create?function($,w,B,D){if(D===void 0)D=B;var z=Object.getOwnPropertyDescriptor(w,B);if(!z||("get"in z?!w.__esModule:z.writable||z.configurable))z={enumerable:!0,get:function(){return w[B]}};Object.defineProperty($,D,z)}:function($,w,B,D){if(D===void 0)D=B;$[D]=w[B]}),zh=n&&n.__setModuleDefault||(Object.create?function($,w){Object.defineProperty($,"default",{enumerable:!0,value:w})}:function($,w){$.default=w}),Dh=n&&n.__importStar||function($){if($&&$.__esModule)return $;var w={};if($!=null){for(var B in $)if(B!=="default"&&Object.prototype.hasOwnProperty.call($,B))Lh(w,$,B)}return zh(w,$),w},s$=n&&n.__awaiter||function($,w,B,D){function z(C){return C instanceof B?C:new B(function(W){W(C)})}return new(B||(B=Promise))(function(C,W){function E(G){try{L(D.next(G))}catch(Y){W(Y)}}function Q(G){try{L(D.throw(G))}catch(Y){W(Y)}}function L(G){G.done?C(G.value):z(G.value).then(E,Q)}L((D=D.apply($,w||[])).next())})},p$=n&&n.__generator||function($,w){var B={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},D,z,C,W;return W={next:E(0),throw:E(1),return:E(2)},typeof Symbol==="function"&&(W[Symbol.iterator]=function(){return this}),W;function E(L){return function(G){return Q([L,G])}}function Q(L){if(D)throw new TypeError("Generator is already executing.");while(W&&(W=0,L[0]&&(B=0)),B)try{if(D=1,z&&(C=L[0]&2?z.return:L[0]?z.throw||((C=z.return)&&C.call(z),0):z.next)&&!(C=C.call(z,L[1])).done)return C;if(z=0,C)L=[L[0]&2,C.value];switch(L[0]){case 0:case 1:C=L;break;case 4:return B.label++,{value:L[1],done:!1};case 5:B.label++,z=L[1],L=[0];continue;case 7:L=B.ops.pop(),B.trys.pop();continue;default:if((C=B.trys,!(C=C.length>0&&C[C.length-1]))&&(L[0]===6||L[0]===2)){B=0;continue}if(L[0]===3&&(!C||L[1]>C[0]&&L[1]<C[3])){B.label=L[1];break}if(L[0]===6&&B.label<C[1]){B.label=C[1],C=L;break}if(C&&B.label<C[2]){B.label=C[2],B.ops.push(L);break}if(C[2])B.ops.pop();B.trys.pop();continue}L=w.call($,B)}catch(G){L=[6,G],z=0}finally{D=C=0}if(L[0]&5)throw L[1];return{value:L[0]?L[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});n.InferenceApi=void 0;var AC=Dh(C0()),r$=JC(),Wh=function($){wh(w,$);function w(){return $!==null&&$.apply(this,arguments)||this}return w.prototype.embedRaw=function(B,D){return s$(this,void 0,void 0,function(){var z,C,W;return p$(this,function(E){switch(E.label){case 0:if(z={},C={},C["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey)C["Api-Key"]=this.configuration.apiKey("Api-Key");return[4,this.request({path:"/embed",method:"POST",headers:C,query:z,body:r$.EmbedRequestToJSON(B.embedRequest)},D)];case 1:return W=E.sent(),[2,new AC.JSONApiResponse(W,function(Q){return r$.EmbeddingsListFromJSON(Q)})]}})})},w.prototype.embed=function(B,D){if(B===void 0)B={};return s$(this,void 0,void 0,function(){var z;return p$(this,function(C){switch(C.label){case 0:return[4,this.embedRaw(B,D)];case 1:return z=C.sent(),[4,z.value()];case 2:return[2,C.sent()]}})})},w.prototype.rerankRaw=function(B,D){return s$(this,void 0,void 0,function(){var z,C,W;return p$(this,function(E){switch(E.label){case 0:if(z={},C={},C["Content-Type"]="application/json",this.configuration&&this.configuration.apiKey)C["Api-Key"]=this.configuration.apiKey("Api-Key");return[4,this.request({path:"/rerank",method:"POST",headers:C,query:z,body:r$.RerankRequestToJSON(B.rerankRequest)},D)];case 1:return W=E.sent(),[2,new AC.JSONApiResponse(W,function(Q){return r$.RerankResultFromJSON(Q)})]}})})},w.prototype.rerank=function(B,D){if(B===void 0)B={};return s$(this,void 0,void 0,function(){var z;return p$(this,function(C){switch(C.label){case 0:return[4,this.rerankRaw(B,D)];case 1:return z=C.sent(),[4,z.value()];case 2:return[2,C.sent()]}})})},w}(AC.BaseAPI);n.InferenceApi=Wh});var eW=X((d1)=>{var Gh=d1&&d1.__createBinding||(Object.create?function($,w,B,D){if(D===void 0)D=B;var z=Object.getOwnPropertyDescriptor(w,B);if(!z||("get"in z?!w.__esModule:z.writable||z.configurable))z={enumerable:!0,get:function(){return w[B]}};Object.defineProperty($,D,z)}:function($,w,B,D){if(D===void 0)D=B;$[D]=w[B]}),Eh=d1&&d1.__exportStar||function($,w){for(var B in $)if(B!=="default"&&!Object.prototype.hasOwnProperty.call(w,B))Gh(w,$,B)};Object.defineProperty(d1,"__esModule",{value:!0});Eh(oW(),d1)});var C9=X(($9)=>{Object.defineProperty($9,"__esModule",{value:!0});$9.X_PINECONE_API_VERSION=void 0;$9.X_PINECONE_API_VERSION="2024-10"});var w9=X((f0)=>{var Qh=f0&&f0.__createBinding||(Object.create?function($,w,B,D){if(D===void 0)D=B;var z=Object.getOwnPropertyDescriptor(w,B);if(!z||("get"in z?!w.__esModule:z.writable||z.configurable))z={enumerable:!0,get:function(){return w[B]}};Object.defineProperty($,D,z)}:function($,w,B,D){if(D===void 0)D=B;$[D]=w[B]}),o$=f0&&f0.__exportStar||function($,w){for(var B in $)if(B!=="default"&&!Object.prototype.hasOwnProperty.call(w,B))Qh(w,$,B)};Object.defineProperty(f0,"__esModule",{value:!0});o$(C0(),f0);o$(eW(),f0);o$(JC(),f0);o$(C9(),f0)});var L9=X((r1)=>{var RC=r1&&r1.__assign||function(){return RC=Object.assign||function($){for(var w,B=1,D=arguments.length;B<D;B++){w=arguments[B];for(var z in w)if(Object.prototype.hasOwnProperty.call(w,z))$[z]=w[z]}return $},RC.apply(this,arguments)};Object.defineProperty(r1,"__esModule",{value:!0});r1.inferenceOperationsBuilder=void 0;var fC=w9(),e$=Z0(),Yh=E$(),Xh=function($){var w=$.apiKey,B=e$.normalizeUrl($.controllerHostUrl)||"https://api.pinecone.io",D=$.additionalHeaders||null,z={basePath:B,apiKey:w,queryParamsStringify:e$.queryParamsStringify,headers:RC({"User-Agent":e$.buildUserAgent($),"X-Pinecone-Api-Version":fC.X_PINECONE_API_VERSION},D),fetchApi:e$.getFetch($),middleware:Yh.middleware};return new fC.InferenceApi(new fC.Configuration(z))};r1.inferenceOperationsBuilder=Xh});var z9=X((O1)=>{var SC=O1&&O1.__awaiter||function($,w,B,D){function z(C){return C instanceof B?C:new B(function(W){W(C)})}return new(B||(B=Promise))(function(C,W){function E(G){try{L(D.next(G))}catch(Y){W(Y)}}function Q(G){try{L(D.throw(G))}catch(Y){W(Y)}}function L(G){G.done?C(G.value):z(G.value).then(E,Q)}L((D=D.apply($,w||[])).next())})},OC=O1&&O1.__generator||function($,w){var B={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},D,z,C,W;return W={next:E(0),throw:E(1),return:E(2)},typeof Symbol==="function"&&(W[Symbol.iterator]=function(){return this}),W;function E(L){return function(G){return Q([L,G])}}function Q(L){if(D)throw new TypeError("Generator is already executing.");while(W&&(W=0,L[0]&&(B=0)),B)try{if(D=1,z&&(C=L[0]&2?z.return:L[0]?z.throw||((C=z.return)&&C.call(z),0):z.next)&&!(C=C.call(z,L[1])).done)return C;if(z=0,C)L=[L[0]&2,C.value];switch(L[0]){case 0:case 1:C=L;break;case 4:return B.label++,{value:L[1],done:!1};case 5:B.label++,z=L[1],L=[0];continue;case 7:L=B.ops.pop(),B.trys.pop();continue;default:if((C=B.trys,!(C=C.length>0&&C[C.length-1]))&&(L[0]===6||L[0]===2)){B=0;continue}if(L[0]===3&&(!C||L[1]>C[0]&&L[1]<C[3])){B.label=L[1];break}if(L[0]===6&&B.label<C[1]){B.label=C[1],C=L;break}if(C&&B.label<C[2]){B.label=C[2],B.ops.push(L);break}if(C[2])B.ops.pop();B.trys.pop();continue}L=w.call($,B)}catch(G){L=[6,G],z=0}finally{D=C=0}if(L[0]&5)throw L[1];return{value:L[0]?L[1]:void 0,done:!0}}};Object.defineProperty(O1,"__esModule",{value:!0});O1.Pinecone=void 0;var R0=aB(),bC=S$(),qC=k(),Zh=XC(),Hh=o8(),Th=L9(),Kh=mB(),hh=T0(),Ih=tB(),Uh=function(){function $(w){if(w===void 0)w=this._readEnvironmentConfig();if(!w.apiKey)throw new qC.PineconeConfigurationError("The client configuration must have required property: apiKey.");hh.ValidateProperties(w,Ih.PineconeConfigurationProperties),this.config=w,this._checkForBrowser();var B=R0.indexOperationsBuilder(this.config),D=Th.inferenceOperationsBuilder(this.config);this._configureIndex=R0.configureIndex(B),this._createCollection=R0.createCollection(B),this._createIndex=R0.createIndex(B),this._describeCollection=R0.describeCollection(B),this._deleteCollection=R0.deleteCollection(B),this._describeIndex=R0.describeIndex(B),this._deleteIndex=R0.deleteIndex(B),this._listCollections=R0.listCollections(B),this._listIndexes=R0.listIndexes(B),this.inference=new Hh.Inference(D)}return $.prototype._readEnvironmentConfig=function(){if(typeof process==="undefined"||!process||!process.env)throw new qC.PineconeEnvironmentVarsNotSupportedError("Your execution environment does not support reading environment variables from process.env, so a configuration object is required when calling new Pinecone().");var w={},B={apiKey:"PINECONE_API_KEY"},D=[];for(var z=0,C=Object.entries(B);z<C.length;z++){var W=C[z],E=W[0],Q=W[1],L=process.env[Q]||"";if(!L)D.push(Q);w[E]=L}if(D.length>0)throw new qC.PineconeConfigurationError("Since you called 'new Pinecone()' with no configuration object, we attempted to find client configuration in environment variables but the required environment variables were not set. Missing variables: ".concat(D.join(", "),"."));var G={controllerHostUrl:"PINECONE_CONTROLLER_HOST"};for(var Y=0,h=Object.entries(G);Y<h.length;Y++){var I=h[Y],E=I[0],Q=I[1],L=process.env[Q];if(L!==void 0)w[E]=L}return w},$.prototype.describeIndex=function(w){return SC(this,void 0,void 0,function(){var B;return OC(this,function(D){switch(D.label){case 0:return[4,this._describeIndex(w)];case 1:if(B=D.sent(),B.host)bC.IndexHostSingleton._set(this.config,w,B.host);return[2,Promise.resolve(B)]}})})},$.prototype.listIndexes=function(){return SC(this,void 0,void 0,function(){var w,B,D;return OC(this,function(z){switch(z.label){case 0:return[4,this._listIndexes()];case 1:if(w=z.sent(),w.indexes&&w.indexes.length>0)for(B=0;B<w.indexes.length;B++)D=w.indexes[B],bC.IndexHostSingleton._set(this.config,D.name,D.host);return[2,Promise.resolve(w)]}})})},$.prototype.createIndex=function(w){return this._createIndex(w)},$.prototype.deleteIndex=function(w){return SC(this,void 0,void 0,function(){return OC(this,function(B){switch(B.label){case 0:return[4,this._deleteIndex(w)];case 1:return B.sent(),bC.IndexHostSingleton._delete(this.config,w),[2,Promise.resolve()]}})})},$.prototype.configureIndex=function(w,B){return this._configureIndex(w,B,this.config.maxRetries)},$.prototype.createCollection=function(w){return this._createCollection(w)},$.prototype.listCollections=function(){return this._listCollections()},$.prototype.deleteCollection=function(w){return this._deleteCollection(w)},$.prototype.describeCollection=function(w){return this._describeCollection(w)},$.prototype._checkForBrowser=function(){if(Kh.isBrowser())console.warn("The Pinecone SDK is intended for server-side use only. Using the SDK within a browser context can expose your API key(s). If you have deployed the SDK to production in a browser, please rotate your API keys.")},$.prototype.getConfig=function(){return this.config},$.prototype.index=function(w,B,D){return new Zh.Index(w,this.config,void 0,B,D)},$.prototype.Index=function(w,B,D){return this.index(w,B,D)},$}();O1.Pinecone=Uh});var D9=X((_)=>{var Vh=_&&_.__createBinding||(Object.create?function($,w,B,D){if(D===void 0)D=B;var z=Object.getOwnPropertyDescriptor(w,B);if(!z||("get"in z?!w.__esModule:z.writable||z.configurable))z={enumerable:!0,get:function(){return w[B]}};Object.defineProperty($,D,z)}:function($,w,B,D){if(D===void 0)D=B;$[D]=w[B]}),Mh=_&&_.__setModuleDefault||(Object.create?function($,w){Object.defineProperty($,"default",{enumerable:!0,value:w})}:function($,w){$.default=w}),Nh=_&&_.__importStar||function($){if($&&$.__esModule)return $;var w={};if($!=null){for(var B in $)if(B!=="default"&&Object.prototype.hasOwnProperty.call($,B))Vh(w,$,B)}return Mh(w,$),w};Object.defineProperty(_,"__esModule",{value:!0});_.EmbeddingsList=_.Errors=_.Index=_.Pinecone=void 0;var Fh=z9();Object.defineProperty(_,"Pinecone",{enumerable:!0,get:function(){return Fh.Pinecone}});var Jh=XC();Object.defineProperty(_,"Index",{enumerable:!0,get:function(){return Jh.Index}});_.Errors=Nh(k());var Ah=ZC();Object.defineProperty(_,"EmbeddingsList",{enumerable:!0,get:function(){return Ah.EmbeddingsList}})});import{Client as bh,GatewayIntentBits as cC}from"discord.js";import{AttachmentBuilder as A9}from"discord.js";var PC="1165975291638857778",jC="1322320049750675487",dC="1332333568323485759";var xC=25,E0=2,A=100,lC=["autoayuda","aventuras","biograf\xEDa","ciencia ficci\xF3n","cocina","contempor\xE1neo","deporte","distop\xEDa","er\xF3tico","fantas\xEDa","hist\xF3rica","infantil","juvenil","magia","manga","manhua","manhwa","negra","paranormal","poes\xEDa","romance","salud","terror","thriller","viajes"];import{EmbedBuilder as K9}from"discord.js";function h9($,w,B,D){let z=[{name:"Generos",value:$.Generos,inline:!0},{name:"P\xE1ginas",value:$.Paginas.toString(),inline:!0}];if(w&&w.count!==0)z.push({name:"Nota media",value:`${w.media.toString()} segun ${w.count} persona${w.count==1?"":"s"}`,inline:!0});if(B&&B!=-1)z.push({name:"P\xE1ginas leidas",value:B.toString(),inline:!0});if(D&&D!=-1)z.push({name:"Nota personal",value:D.toString(),inline:!0});return z}function I9($,w){return new K9().setColor("#a0522d").setTitle($.Titulo).setDescription($.Sinopsis).setAuthor({name:$.Autor,iconURL:"attachment://imagen.jpg"}).setImage("attachment://imagen.jpg").setFooter({text:w})}function c($,w,B,D,z){let C=I9($,w);return C.addFields(h9($,B,D,z)),C}function k1($,w){return $.member&&$.member.roles.cache.some((B)=>B.id==w)}import{StringSelectMenuOptionBuilder as U9}from"discord.js";function e1(){let $=[];for(let w=0;w<25;w++){let B=lC[w];$.push(new U9().setLabel(`${B}`).setValue(`${B}`))}return $}function $$($,w){let B=$.split(`
`);return`${B[0]?B[0]:""}
${w}
${B[2]?B[2]:""}`}function B$($){return $.split(`
`)[1].split(": ")[1]}import a0 from"@tensorflow/tfjs-node";class vC{value;TTL;initialTTL;constructor($,w){this.value=$,this.TTL=w,this.initialTTL=w}resetTTL(){this.TTL=this.initialTTL}}var V9=1,M9=V9*60*60*1000;class J{capacity;cache;defaultTTL;interval;constructor($,w=1){this.capacity=$,this.cache=new Map,this.defaultTTL=w}get($){if(!this.cache.has($))return;let w=this.cache.get($);return w.resetTTL(),this.cache.delete($),this.cache.set($,w),w.value}put($,w){if(this.cache.has($))this.delete($);else if(this.cache.size>=this.capacity){let B=this.cache.keys().next().value;this.delete(B)}if(this.cache.set($,new vC(w,this.defaultTTL)),!this.interval)this.interval=setInterval(()=>{this.updateTTL()},M9)}delete($){if(this.cache.delete($),this.cache.size==0)clearInterval(this.interval),this.interval=null}deleteAll($){for(let w of this.cache.keys())if($.test(w.toString()))this.cache.delete(w)}updateTTL(){for(let $ of this.cache.keys()){let w=this.cache.get($);if(w.TTL--,w.TTL<=0)this.delete($)}}}class _0{static instance;embedQuerys=new J(A);embedPassages=new J(A);querys=new J(A);fetches=new J(A);static getInstance(){if(!_0.instance)_0.instance=new _0;return _0.instance}embedQuery($){let w=$.toLowerCase().trim();return this.embedQuerys.get(w)}saveEmbedQuery($,w){let B=$.toLowerCase().trim();this.embedQuerys.put(B,w)}saveEmbedPassage($,w){let B=$.toLowerCase().trim();this.embedPassages.put(B,w)}embedPassage($){let w=$.toLowerCase().trim();return this.embedPassages.get(w)}saveQuery($,w,B){let D=`${$}|${w.topK}|${w.includeMetadata}`;if(w.filter)D+=`|${w.filter.toString()}`;this.querys.put(D,B)}query($,w){let B=`${$}|${w.topK}|${w.includeMetadata}`;if(w.filter)B+=`|${w.filter.toString()}`;return this.querys.get(B)}fetch($){return this.fetches.get($)}saveFetch($,w){this.fetches.put($,w)}delete($){this.querys.deleteAll(new RegExp(`${$}$\\|`)),this.fetches.delete($)}}class N{bookbytitle;booksnameautocomplete;exitsbook;AllBooks;existslist;ListCount;List;ListNoOffset;existslistBook;UserBookInfo;notaMedia;static instance;static getInstance(){if(!N.instance)N.instance=new N;return N.instance}constructor(){this.bookbytitle=new J(A),this.booksnameautocomplete=new J(A),this.exitsbook=new J(A),this.List=new J(A),this.existslist=new J(A),this.ListCount=new J(A),this.existslistBook=new J(A),this.UserBookInfo=new J(A),this.notaMedia=new J(A),this.ListNoOffset=new J(A),this.AllBooks=void 0}getBookByTitle($){return this.bookbytitle.get($)}saveBookByTitle($,w){this.bookbytitle.put($,w)}getAllBooks(){return this.AllBooks}setAllBooks($){this.AllBooks=$}getBooksNameAutocomplete($){return this.booksnameautocomplete.get($)}saveBooksNameAutocomplete($,w){this.booksnameautocomplete.put($,w)}getExistsBook($){return this.exitsbook.get($)}saveExistsBook($,w){this.exitsbook.put($,w)}getExistsListBook($,w){return this.existslistBook.get(`${$}|${w}`)}saveExistsListBook($,w,B){this.existslistBook.put(`${$}|${w}`,B)}getExistsList($){return this.existslist.get($)}saveExistsList($,w){this.existslist.put($,w)}resetExistsList($){this.existslist.delete($)}getListCount($,w){return this.ListCount.get(`${$}|${w}`)}saveListCount($,w,B){this.ListCount.put(`${$}|${w}`,B)}getList($,w,B){return this.List.get(`${$}|${w}|${B}`)}saveList($,w,B,D){this.List.put(`${$}|${w}|${B}`,D)}resetList($){this.List.deleteAll(new RegExp(`${$}\\|`))}getListNoOffset($,w){return this.ListNoOffset.get(`${$}|${w}`)}saveListNoOffset($,w,B){this.ListNoOffset.put(`${$}|${w}`,B)}resetListNoOffset($){this.ListNoOffset.deleteAll(new RegExp(`${$}\\|`))}getNotaMedia($){return this.notaMedia.get($)}saveNotaMedia($,w){this.notaMedia.put($,w)}resetNotaMedia($){this.notaMedia.delete($)}deleteNota($,w){this.UserBookInfo.delete(`${$}|${w}`),this.resetNotaMedia(w)}getUserBookInfo($,w){return this.UserBookInfo.get(`${$}|${w}`)}saveUserBookInfo($,w,B){this.UserBookInfo.put(`${$}|${w}`,B)}resetUserBookInfo($,w){this.UserBookInfo.delete(`${$}|${w}`)}updateCachesInsert($){if(this.AllBooks)this.AllBooks.push($)}updateCachesDelete($){this.bookbytitle.delete($),this.booksnameautocomplete.delete($),this.exitsbook.delete($),this.notaMedia.delete($),this.existslistBook.deleteAll(new RegExp(`\\|${$}$`)),this.UserBookInfo.deleteAll(new RegExp(`\\|${$}$`)),this.existslist=new J(A),this.ListCount=new J(A),this.List=new J(A),this.ListNoOffset=new J(A),this.AllBooks=void 0}totalReset(){N.instance=void 0}}import N9 from"@tensorflow/tfjs-node";class O0{static instance;encoded=new J(A);static getInstance(){if(!O0.instance)O0.instance=new O0;return O0.instance}constructor(){}getEncoded($){let w=$.dataSync(),B=this.encoded.get(w);if(B)return N9.tensor(B);return}saveEncoded($,w){this.encoded.put($.dataSync(),w.arraySync())}}import F9 from"@tensorflow/tfjs-node";class b0{static instance;predicts=new J(A);static getInstance(){if(!b0.instance)b0.instance=new b0;return b0.instance}constructor(){}getPredict($){let w=$.dataSync(),B=this.predicts.get(w);if(B)return F9.tensor(B);return}savePredict($,w){this.predicts.put($.dataSync(),w.arraySync())}}import J9 from"@tensorflow/tfjs-node";class D0{static instance;cache=new J(A);static getInstance(){if(!D0.instance)D0.instance=new D0;return D0.instance}constructor(){}getTensor($){let w=this.cache.get($);if(w)return J9.tensor(w);return}setTensor($,w){this.cache.put($,w.arraySync())}resetTensor($){this.cache.delete($)}reset($){this.cache.delete($)}resetAll(){this.cache=new J(A)}}class e{static instance;cache=new J(A);static getInstance(){if(!e.instance)e.instance=new e;return e.instance}constructor(){}getNotas($){let w=this.cache.get($);if(w)return w;return}setNotas($,w){this.cache.put($,w)}resetNota($){this.cache.delete($)}resetAll(){this.cache=new J(A)}}async function CB($){let w=D0.getInstance().getTensor($);if(w)return w;let[B,D,z]=await Promise.all([T.getInstance().getList($,0),T.getInstance().getList($,1),T.getInstance().getList($,2)]),[C,W,E]=await Promise.all([y.getInstance().getEmbeddings(B),y.getInstance().getEmbeddings(D),y.getInstance().getEmbeddings(z)]),Q=C.length==0?a0.zeros([1024]):a0.tensor(C).mean(0),L=W.length==0?a0.zeros([1024]):a0.tensor(W).mean(0),G=E.length==0?a0.zeros([1024]):a0.tensor(E).mean(0),Y=a0.concat([Q,L,G]);return Q.dispose(),L.dispose(),G.dispose(),D0.getInstance().setTensor($,Y),Y}async function wB($){return a0.tensor(await y.getInstance().getEmbedding($))}class t{static instance;client;stagedEvents=[];static getInstance(){if(!t.instance)t.instance=new t;return t.instance}setClient($){this.client=$}eventBook($,w){if(this.stagedEvents.push({book:$,message:w}),!this.client)return;this.ConsumeStaged()}async ConsumeStaged(){let $=[...this.stagedEvents];this.stagedEvents=[];let w=await this.client.channels.fetch(jC);for(let B of $)if(w){let D=Buffer.from(B.book.Imagen),z=new A9(D,{name:"imagen.jpg"});w.send({content:B.message,embeds:[c(B.book,"Puedes buscar mas informacion sobre este libro con el comando /verlibro")],files:[z]})}}}import{Collection as kG}from"discord.js";import{ActionRowBuilder as LB,ButtonBuilder as iC,ButtonStyle as f9,MessageFlags as c1,ModalBuilder as R9,SlashCommandBuilder as S9,StringSelectMenuBuilder as O9,TextInputBuilder as b9,TextInputStyle as q9}from"discord.js";var zB={guildOnly:!0,data:new S9().setName("actualizar").setDescription("Actualizar informaci\xF3n de un libro").addSubcommand(($)=>$.setName("titulo").setDescription("Actualizar el titulo de un libro").addStringOption((w)=>w.setName("titulo").setDescription("El titulo del libro").setRequired(!0).setAutocomplete(!0)).addStringOption((w)=>w.setName("nuevotitulo").setDescription("El nuevo titulo del libro").setRequired(!0))).addSubcommand(($)=>$.setName("imagen").setDescription("Actualizar la imagen de un libro").addStringOption((w)=>w.setName("titulo").setDescription("El titulo del libro").setRequired(!0).setAutocomplete(!0)).addAttachmentOption((w)=>w.setName("nuevaimagen").setDescription("La nueva imagen del libro").setRequired(!0))).addSubcommand(($)=>$.setName("autor").setDescription("Actualizar el autor de un libro").addStringOption((w)=>w.setName("titulo").setDescription("El titulo del libro").setRequired(!0).setAutocomplete(!0)).addStringOption((w)=>w.setName("nuevoautor").setDescription("El nuevo autor del libro").setRequired(!0))).addSubcommand(($)=>$.setName("sinopsis").setDescription("Actualizar la sinopsis de un libro").addStringOption((w)=>w.setName("titulo").setDescription("El titulo del libro").setRequired(!0).setAutocomplete(!0)).addStringOption((w)=>w.setName("nuevasinopsis").setDescription("La nueva sinopsis del libro").setRequired(!0))).addSubcommand(($)=>$.setName("paginas").setDescription("Actualizar el numero de paginas de un libro").addStringOption((w)=>w.setName("titulo").setDescription("El titulo del libro").setRequired(!0).setAutocomplete(!0)).addIntegerOption((w)=>w.setName("nuevaspaginas").setDescription("El nuevo numero de paginas del libro").setRequired(!0))).addSubcommand(($)=>$.setName("generos").setDescription("Actualizar los generos de un libro").addStringOption((w)=>w.setName("titulo").setDescription("El titulo del libro").setRequired(!0).setAutocomplete(!0))),execute:async($)=>{if(!k1($,"1321948892090339452")){await $.editReply({content:"No tienes permiso para usar este comando"});return}let w=$.options,B=w.getSubcommand(),D=w.getString("titulo");if(!await K.getInstance().getBookByTitle(D)){await $.editReply({content:"Libro no encontrado"});return}switch(B){case"titulo":await $.deferReply({flags:c1.Ephemeral}),await k9($,D);break;case"autor":await $.deferReply({flags:c1.Ephemeral}),await c9($,D);break;case"sinopsis":await m9($,D);break;case"paginas":await $.deferReply({flags:c1.Ephemeral}),await g9($,D);break;case"imagen":await $.deferReply({flags:c1.Ephemeral}),await P9($,D);break;case"generos":await $.deferReply({flags:c1.Ephemeral}),await j9($,D);break;default:await $.editReply({content:"Comando no reconocido"})}},autoComplete:async($)=>{let w=$.options,D=(await K.getInstance().getBooksNameAutocomplete(w.getFocused(),!0)).map((z)=>({name:z,value:z}));await $.respond(D)},selectMenu:async($)=>{if($.user.id!==$.customId.split("|")[1])return;let w=$.values.sort().join(","),B=$.message.components[0],D=$.message.components[1];if($.message.components[1].components[0].disabled)D.components[0]=iC.from(D.components[0]).setDisabled(!1);await $.update({content:$$($.message.content,`generos seleccionados: ${w}`),components:[B,D]})},buttons:async($)=>{if($.customId.split("|")[0]==="Continuar"){if($.user.id!==$.customId.split("|")[1])return;await d9($)}}},nC=zB;async function k9($,w){let D=$.options.getString("nuevotitulo");if(!D&&D.trim().length==0){await $.editReply({content:"El nuevo titulo no puede ser vacio"});return}if(await K.getInstance().getBookByTitle(D)){await $.editReply({content:"Ya existe un libro con el nuevo titulo."});return}await K.getInstance().updateBookField(w,"Titulo",D),await $.editReply({content:"Titulo actualizado con exito"})}async function c9($,w){let D=$.options.getString("nuevoautor");if(!D&&D.trim().length==0){await $.editReply({content:"El nuevo autor no puede ser vacio"});return}await K.getInstance().updateBookField(w,"Autor",D),await $.editReply({content:"Autor actualizado con exito"})}function y9(){let $=new R9().setTitle("Actualizar libro").setCustomId("actualizarLibroModal"),w=new b9().setCustomId("sinopsis").setLabel("Sinopsis").setStyle(q9.Paragraph).setRequired(!0).setPlaceholder("La sinopsis del libro"),B=new LB().addComponents(w);return $.addComponents(B),$}async function m9($,w){let B=y9();await $.showModal(B);let D=(z)=>{return z.user.id===$.user.id};$.awaitModalSubmit({time:600000,filter:D}).then(async(z)=>{let C=z.fields.getTextInputValue("sinopsis");if(!C&&C.trim().length==0){await z.reply({content:"La nueva sinopsis no puede ser vacia",flags:c1.Ephemeral});return}await z.deferReply({flags:c1.Ephemeral}),await z.editReply({content:"Sinopsis actualizada con exito"}),await K.getInstance().updateBookField(w,"Sinopsis",C)}).catch((z)=>{console.log(z)})}async function g9($,w){let D=$.options.getInteger("nuevaspaginas");if(!D){await $.editReply({content:"El nuevo numero de paginas no puede ser vacio"});return}if(D<=0){await $.editReply({content:"El nuevo numero de paginas debe ser mayor que 0"});return}await K.getInstance().updateBookField(w,"Paginas",D),await $.editReply({content:"Paginas actualizadas con exito"})}async function P9($,w){let D=$.options.getAttachment("nuevaimagen");if(!D){await $.editReply({content:"La nueva imagen no puede ser vacia"});return}if(!D.contentType||!D.contentType.startsWith("image/")){await $.editReply({content:"El archivo debe ser una imagen"});return}let z=await fetch(D.url),C=new Uint8Array(await z.arrayBuffer());await K.getInstance().updateBookField(w,"Imagen",C),await $.editReply({content:"Imagen actualizada con exito"})}async function j9($,w){let B=new O9().setCustomId(`${zB.data.name}|generos|${$.user.id}`).setPlaceholder("Elige los generos del libro").setMinValues(1).setMaxValues(25).addOptions(e1()),D=new iC().setCustomId(`${zB.data.name}|Continuar|${$.user.id}`).setLabel("Continuar").setStyle(f9.Primary).setDisabled(!0),z=new LB().addComponents(B),C=new LB().addComponents(D);await $.editReply({content:`Elige los generos del libro y pulsa Continuar

|${w}`,components:[z,C]})}async function d9($){if(await $.deferUpdate(),$.user.id!==$.customId.split("|")[1])return;let w=B$($.message.content);await K.getInstance().updateBookField($.message.content.split("|")[1],"Generos",w),await $.editReply({content:"Generos actualizados con exito",components:[]})}import{ActionRowBuilder as x9,ApplicationCommandType as l9,AttachmentBuilder as v9,ButtonBuilder as u9,ButtonStyle as i9,ContextMenuCommandBuilder as n9,MessageFlags as _9}from"discord.js";var aC={data:new n9().setName("analizar").setType(l9.Message),execute:async($)=>{await $.deferReply({flags:_9.Ephemeral});let w=$.targetMessage;if(!w.content||w.content.trim().length==0){await $.editReply("No hay contenido en el mensaje");return}let B=await K.getInstance().getBooksNameAutocomplete(w.content,!1,2),D=_C(B[0],1),z=_C(B[1],2),C=new x9().addComponents(D,z);await $.editReply({content:`Los dos libros mas cercanos encontrados son: ${B[0]} y ${B[1]}`,components:[C]})},buttons:async($)=>{let w=$.customId.split("|");if(w[0]=="vermas"){if(await $.deferUpdate(),w[1]==$.message.embeds[0].title)return;let B=w[1],D=await K.getInstance().getBookByTitle(B),z=c(D,"para mas informaci\xF3n usa el comando /verlibro",await T.getInstance().getNotaMedia(D.Titulo)),C=Buffer.from(D.Imagen),W=new v9(C,{name:"imagen.jpg"});await $.editReply({content:"",embeds:[z],files:[W]})}}},tC=aC;function _C($,w){return new u9().setCustomId(`${aC.data.name}|vermas|${$}`).setLabel(`Ver m\xE1s ${w}`).setStyle(i9.Primary)}import{SlashCommandBuilder as a9,MessageFlags as sC,ButtonBuilder as H$,ButtonStyle as GB,ActionRowBuilder as v1,ModalBuilder as t9,TextInputStyle as DB,TextInputBuilder as WB,AttachmentBuilder as s9,StringSelectMenuBuilder as p9}from"discord.js";var C$={data:new a9().setName("a\xF1adirlibro").setDescription(" a\xF1adir un libro a la biblioteca").addStringOption(($)=>$.setName("titulo").setDescription("El titulo del libro").setRequired(!0)).addAttachmentOption(($)=>$.setName("imagen").setDescription("La imagen del libro").setRequired(!0)),execute:async($)=>{await $.deferReply();let w=$.options,B=w.getString("titulo").trim(),D=w.getAttachment("imagen");if(B.indexOf("|")!==-1||B.indexOf(`
`)!==-1){await $.editReply({content:"El titulo no debe contener '|' ni saltos de linea"});return}if(await K.getInstance().getBookByTitle(B)){await $.editReply({content:"Ya existe un libro con ese titulo"});return}if(!D.contentType||!D.contentType.startsWith("image/")){await $.editReply({content:"El archivo debe ser una imagen"});return}let z=new p9().setCustomId(`${C$.data.name}|generos|${$.user.id}`).setPlaceholder("Elige los generos del libro").setMinValues(1).setMaxValues(25).addOptions(e1()),C=new H$().setCustomId(`${C$.data.name}|Continuar|${$.user.id}`).setLabel("Continuar").setStyle(GB.Primary).setDisabled(!0),W=new v1().addComponents(z),E=new v1().addComponents(C);await $.editReply({content:`Elige los generos del libro y pulsa Continuar

|${B}|${D.url}`,components:[W,E]})},buttons:async($)=>{if($.customId.split("|")[0]==="Continuar"){if($.user.id!==$.customId.split("|")[1])return;await r9($)}if(k1($,"1321908587814981692")){if($.customId==="Confirm")await $G($);else if($.customId==="Cancel")await BG($)}},selectMenu:async($)=>{if($.user.id!==$.customId.split("|")[1])return;let w=$.values.join(","),B=$.message.components[0],D=$.message.components[1];if($.message.components[1].components[0].disabled)D.components[0]=H$.from(D.components[0]).setDisabled(!1);await $.update({content:$$($.message.content,`generos seleccionados: ${w}`),components:[B,D]})}},pC=C$;async function r9($){if($.user.id!==$.customId.split("|")[1])return;let w=$.message,D=w.content.split(`
`)[2].split("|"),z=D[1],C=D[2],W=B$(w.content),E=o9();await $.showModal(E);let Q=(L)=>{return L.user.id===$.user.id};$.awaitModalSubmit({time:600000,filter:Q}).then(async(L)=>{await e9($,L,z,C,W)}).catch((L)=>{console.log(L)})}function o9(){let $=new t9().setTitle("A\xF1adir libro").setCustomId("sugerirlibroModal"),w=new WB().setCustomId("paginas").setLabel("P\xE1ginas").setStyle(DB.Short).setRequired(!0).setPlaceholder("El numero de p\xE1ginas del libro").setMaxLength(1024),B=new WB().setCustomId("sinopsis").setLabel("Sinopsis").setStyle(DB.Paragraph).setRequired(!0).setPlaceholder("La sinopsis del libro"),D=new WB().setCustomId("autor").setLabel("Autor").setStyle(DB.Short).setRequired(!0).setPlaceholder("El autor del libro").setMaxLength(1024),z=new v1().addComponents(w),C=new v1().addComponents(B),W=new v1().addComponents(D);return $.addComponents(C,W,z),$}async function e9($,w,B,D,z){await w.deferReply({flags:sC.Ephemeral});let C=w.fields.getTextInputValue("sinopsis"),W=w.fields.getTextInputValue("autor"),E;try{if(E=parseInt(w.fields.getTextInputValue("paginas").trim()),E<=0)throw new Error}catch(L0){await w.editReply({content:"El numero de p\xE1ginas debe ser un numero entero mayor que 0"});return}let Q=await fetch(D),L=new Uint8Array(await Q.arrayBuffer()),G={Titulo:B,Sinopsis:C.trim(),Autor:W.trim(),Generos:z,Paginas:E,Imagen:L},Y=c(G,`Enviado por: ${w.user.tag} | ID:${w.user.id}`,{media:-1,count:0}),h=new H$().setCustomId(`${C$.data.name}|Confirm`).setLabel("Confirmar").setStyle(GB.Success),I=new H$().setCustomId(`${C$.data.name}|Cancel`).setLabel("Cancelar").setStyle(GB.Danger),H=new v1().addComponents(I,h);await w.editReply({content:"Gracias por tu sugerencia"});let[Z,x]=await Promise.all([$.client.channels.fetch($.channelId),w.client.channels.fetch(PC)]);if(Z.messages.fetch($.message.id).then((L0)=>{if(L0.deletable)L0.delete()}),x){let L0=Buffer.from(G.Imagen),b1=new s9(L0,{name:"imagen.jpg"});await x.send({embeds:[Y],components:[H],files:[b1]})}}async function $G($){let B=await(await $.client.channels.fetch($.channelId)).messages.fetch($.message.id);if(B.deletable){let D=B.embeds[0].title;if(await K.getInstance().getBookByTitle(D)){await $.reply({content:"Ya existe un libro con ese titulo, eliminado de sugerencias.",flags:sC.Ephemeral}),await B.delete();return}let C=B.embeds[0].author.name,W=B.embeds[0].fields[0].value,E=B.embeds[0].description,Q=B.embeds[0].image.url,L=await fetch(Q),G=new Uint8Array(await L.arrayBuffer()),Y=parseInt(B.embeds[0].fields[1].value),h={Titulo:D,Autor:C,Generos:W.split(",").map((I)=>I.trim()).join(","),Paginas:Y,Sinopsis:E,Imagen:G};await Promise.all([K.getInstance().insertBook(h),B.delete()]),t.getInstance().eventBook(h,`Libro Aceptado por <@${$.user.id}>`)}}async function BG($){let B=await(await $.client.channels.fetch($.channelId)).messages.fetch($.message.id);if(B.deletable)await B.delete()}import{MessageFlags as CG,SlashCommandBuilder as wG}from"discord.js";var LG={guildOnly:!0,data:new wG().setName("borrarlibro").setDescription("Elimina un libro").addStringOption(($)=>$.setName("busqueda").setDescription("El nombre del libro o una descripci\xF3n").setRequired(!0).setAutocomplete(!0)),execute:async($)=>{if(await $.deferReply({flags:CG.Ephemeral}),!k1($,"1321948892090339452")){await $.editReply({content:"No tienes permiso para usar este comando"});return}let B=$.options.getString("busqueda"),D=await K.getInstance().getBookByTitle(B);if(!D){await $.editReply({content:"Libro no encontrado"});return}await $.editReply({content:"Libro eliminado correctamente"}),await K.getInstance().removeBook(D.Titulo),t.getInstance().eventBook(D,`Libro eliminado por <${$.user.id}>`)},autoComplete:async($)=>{let w=$.options,D=(await K.getInstance().getBooksNameAutocomplete(w.getFocused(),!0)).map((z)=>({name:z,value:z}));await $.respond(D)}},rC=LG;import{MessageFlags as zG,SlashCommandBuilder as DG}from"discord.js";var WG={data:new DG().setName("calificar").setDescription("Pones una nota a un libro").addStringOption(($)=>$.setName("t\xEDtulo").setDescription("El nombre del libro").setRequired(!0).setAutocomplete(!0)).addIntegerOption(($)=>$.setName("nota").setDescription("La nota que le das al libro").setRequired(!1).setAutocomplete(!0)),execute:async($)=>{await $.deferReply({flags:zG.Ephemeral});let w=$.options,B=w.getString("t\xEDtulo"),D=await K.getInstance().getBookByTitle(B);if(!D){await $.editReply({content:"Libro no encontrado"});return}if(!await T.getInstance().existsList($.user.id,D.Titulo)){await $.editReply({content:"Libro no encontrado en ninguna lista"});return}let z=w.getInteger("nota");if(!z&&(await T.getInstance().getUserBookInfo($.user.id,B)).Nota!=-1){await T.getInstance().deleteNota($.user.id,B),await $.editReply({content:"Nota borrada con exito"});return}let C=GG(z);if(C){await $.editReply({content:C});return}await $.editReply({content:"Nota puesta con exito"}),await T.getInstance().setNota($.user.id,B,z)},autoComplete:async($)=>{let B=$.options.getFocused(!0);if(B.name=="t\xEDtulo"){let z=(await K.getInstance().getBooksNameAutocomplete(B.value,!0)).map((C)=>({name:C,value:C}));await $.respond(z)}else if(B.name=="nota")await $.respond([{name:"0",value:0},{name:"1",value:1},{name:"2",value:2},{name:"3",value:3},{name:"4",value:4},{name:"5",value:5},{name:"6",value:6},{name:"7",value:7},{name:"8",value:8},{name:"9",value:9},{name:"10",value:10}])}},oC=WG;function GG($){if(isNaN($))return"Nota no valida";if($<0)return"Nota no valida debe ser un numero positivo";if($>10)return"Nota no valida debe ser menor o igual que 10";return null}import{ActionRowBuilder as XG,AttachmentBuilder as ZG,ButtonBuilder as ZB,ButtonStyle as HB,MessageFlags as HG,SlashCommandBuilder as TG}from"discord.js";async function EB($){try{l.getInstance().selectMenu($)}catch(w){console.error(w)}}import{MessageFlags as EG}from"discord.js";async function QB($){try{l.getInstance().execute($)}catch(w){console.error(w),await $.reply({content:"Error al ejecutar el comando",flags:EG.Ephemeral})}}async function YB($){try{l.getInstance().autoComplete($)}catch(w){console.error(w)}}async function XB($){try{l.getInstance().buttons($)}catch(w){console.error(w)}}import{MessageFlags as QG}from"discord.js";var YG=["leido","enprogreso","planeandoleer"];async function q0($,w){await $.deferReply({flags:QG.Ephemeral});let z=(await(await $.client.channels.fetch($.channelId)).messages.fetch($.message.id)).embeds[0].title;if(!z){await $.editReply({content:"Libro no encontrado"});return}let C=YG.indexOf($.customId);await $.editReply({content:w}),await T.getInstance().markBook($.user.id,z,C)}var eC={data:new TG().setName("libroaleatorio").setDescription("Muestra un libro aleatorio"),execute:async($)=>{await $.deferReply();let w=await K.getInstance().randomBooks(1);if(!w[0]){await $.followUp({content:"No hay libros disponibles",flags:HG.Ephemeral});return}let B=c(w[0],"Libro aleatorio",await T.getInstance().getNotaMedia(w[0].Titulo)),D=Buffer.from(w[0].Imagen),z=new ZG(D,{name:"imagen.jpg"}),C=KG(eC.data.name);await $.editReply({embeds:[B],files:[z],components:[C]})},buttons:async($)=>{if($.customId==="planeandoleer")q0($,"Libro marcado como planeando leer");else if($.customId==="enprogreso")q0($,"Libro marcado como en progreso");else if($.customId==="leido")q0($,"Libro marcado como leido")}},$w=eC;function KG($){let w=new ZB().setCustomId(`${$}|leido`).setLabel("Leido").setStyle(HB.Success),B=new ZB().setCustomId(`${$}|enprogreso`).setLabel("En progreso").setStyle(HB.Primary),D=new ZB().setCustomId(`${$}|planeandoleer`).setLabel("Planeando leer").setStyle(HB.Secondary);return new XG().addComponents(w,B,D)}import{ActionRowBuilder as Bw,AttachmentBuilder as Cw,ButtonBuilder as y1,ButtonStyle as TB,EmbedBuilder as ww,MessageFlags as T$,SlashCommandBuilder as hG,StringSelectMenuBuilder as Lw,StringSelectMenuOptionBuilder as IG}from"discord.js";var L$=["leidos","en progreso","planeandos para leer"],zw=["leidos","enprogreso","planeandoleer"];async function K$($,w,B,D,z){let E=new ww($.message.embeds[0]).data.footer.text.split(" | ");if(E[2].trim().split(" ")[1]!==$.user.id)return;let Q=zw.indexOf(D),L=await T.getInstance().getList($.user.id,Q,B*E0);if(L.length==0&&!z){await $.editReply({content:`No tienes libros ${L$[Q]}`});return}else if(z&&L.length==0){await $.editReply({content:`Ya no te quedan libros ${L$[Q]}`,embeds:[],components:[],files:[]});return}let G=await T.getInstance().getListCount($.user.id,Q),Y=Math.ceil(G/E0);if(parseInt(E[1].trim().split(" ")[1].split("/")[1])!=Y&&!z)return;let I=parseInt(E[1].trim().split(" ")[1].split("/")[0])-1;if(I>Y)I=Y;let H=$.message.components[0];if(H.components[2]=y1.from(H.components[2]).setDisabled(!1),H.components[0]=y1.from(H.components[0]).setDisabled(!1),w==0&&B==0)H.components[0]=y1.from(H.components[0]).setDisabled(!0);if(w+B*E0==G-1)H.components[2]=y1.from(H.components[2]).setDisabled(!0);let Z=await K.getInstance().getBookByTitle(L[w]),x=Buffer.from(Z.Imagen),L0=new Cw(x,{name:"imagen.jpg"}),[b1,x1]=await Promise.all([T.getInstance().getNotaMedia(Z.Titulo),T.getInstance().getUserBookInfo($.user.id,Z.Titulo)]),z0=c(Z,`Libro: ${w+1}/${L.length} | Pagina: ${B+1}/${Y} | userid: ${$.user.id}`,b1,x1.Pagina,x1.Nota),l1=$.message.components[1],S0=Lw.from(l1.components[0]);S0.options.forEach((n0,Z$)=>{if(n0.data.default)n0.setDefault(!1);if(Z$==B)n0.setDefault(!0)}),l1.components[0]=S0,await $.editReply({content:z?"Libro eliminado de la lista":void 0,embeds:[z0],files:[L0],components:[H,l1]})}var w$={data:new hG().setName("listas").setDescription("Muestra tus listas de libros").addStringOption(($)=>$.setName("categoria").setDescription("Categoria de la lista").setRequired(!0).setAutocomplete(!0)),execute:async($)=>{await $.deferReply();let B=$.options.getString("categoria").toLowerCase().split(" ").join(""),D=zw.indexOf(B);if(D==-1){await $.followUp({content:"Categoria no encontrada",flags:T$.Ephemeral});return}if(!await T.getInstance().existsList($.user.id)){await $.followUp({content:`No tienes libros ${L$[D]}`,flags:T$.Ephemeral});return}let z=await T.getInstance().getList($.user.id,D,0);if(z.length==0){await $.followUp({content:`No tienes libros ${L$[D]}`,flags:T$.Ephemeral});return}let C=await K.getInstance().getBookByTitle(z[0]),W=Buffer.from(C.Imagen),E=new Cw(W,{name:"imagen.jpg"}),Q=await T.getInstance().getListCount($.user.id,D),L=Math.ceil(Q/E0),[G,Y]=await Promise.all([T.getInstance().getNotaMedia(C.Titulo),T.getInstance().getUserBookInfo($.user.id,C.Titulo)]),h=c(C,`Libro: 1/${z.length} | Pagina: 1/${L} | userid: ${$.user.id}`,G,Y.Pagina,Y.Nota),I=new y1().setCustomId(`${w$.data.name}|${B}|atras`).setLabel("Anterior").setStyle(TB.Secondary).setDisabled(!0),H=[];for(let z0=0;z0<L&&z0<xC;z0++)H.push(new IG().setLabel(`Pagina ${z0+1}`).setValue(`${z0+1}`));H[0].setDefault(!0);let Z=new Lw().setCustomId(`${w$.data.name}|${B}|pagina`).setPlaceholder("Pagina").addOptions(...H),x=new y1().setCustomId(`${w$.data.name}|${B}|siguiente`).setLabel("Siguiente").setStyle(TB.Success),L0=new y1().setCustomId(`${w$.data.name}|eliminarlista|${B}`).setLabel("Eliminar de la lista").setStyle(TB.Danger);if(Q==1)x.setDisabled(!0);let b1=new Bw().addComponents(I,L0,x);if(Z.options.length==1)Z.setDisabled(!0);let x1=new Bw().addComponents(Z);await $.editReply({embeds:[h],files:[E],components:[b1,x1]})},autoComplete:async($)=>{let w=$.options,z=["Leidos","En progreso","Planeando leer"].filter((C)=>{return C.toLowerCase().startsWith(w.getFocused().toLowerCase())}).map((C)=>({name:C,value:C.toLowerCase().split(" ").join("")}));await $.respond(z)},buttons:async($)=>{await $.deferUpdate();try{let w=$.customId.split("|");if(w[0]==="eliminarlista"){if(!w[1])return;let D=await(await $.client.channels.fetch($.channelId)).messages.fetch($.message.id),z=D.embeds[0].title;if(D.embeds[0].footer.text.split(" | ")[2].trim().split(" ")[1]!==$.user.id)return;await T.getInstance().unmarkBook($.user.id,z),await K$($,0,0,w[1],!0)}else{let B=L$.indexOf(w[0]);if(B==-1)return;if((await T.getInstance().getList($.user.id,B,0)).length==0){await $.reply({content:"No tienes libros "+w[0],flags:T$.Ephemeral});return}let W=new ww($.message.embeds[0]).data.footer.text.split(" | "),E=await T.getInstance().getListCount($.user.id,B),Q=Math.ceil(E/E0);if(parseInt(W[1].trim().split(" ")[1].split("/")[1])!=Q)return;let G=parseInt(W[0].trim().split(" ")[1].split("/")[0])-1,Y=parseInt(W[1].trim().split(" ")[1].split("/")[0])-1;if(w[1]=="siguiente"){if(G==E0-1){if(G=0,Y++,Y>Q)return}else G++;await K$($,G,Y,w[0])}else if(w[1]=="atras"){if(G==0){if(G=E0-1,Y--,Y<0)return}else G--;await K$($,G,Y,w[0])}}}catch(w){console.error(w)}},selectMenu:async($)=>{let w=$.customId.split("|"),B=parseInt($.values[0])-1;await K$($,0,B,w[0])}},Dw=w$;import{MessageFlags as UG,SlashCommandBuilder as VG}from"discord.js";var MG={data:new VG().setName("marcapaginas").setDescription("Marca la p\xE1gina por la que vas de un libro").addStringOption(($)=>$.setName("t\xEDtulo").setDescription("El nombre del libro").setRequired(!0).setAutocomplete(!0)).addIntegerOption(($)=>$.setName("p\xE1gina").setDescription("La p\xE1gina por la que vas").setRequired(!0).setAutocomplete(!0)),execute:async($)=>{await $.deferReply({flags:UG.Ephemeral});let w=$.options,B=w.getString("t\xEDtulo"),D=await K.getInstance().getBookByTitle(B);if(!D){await $.editReply({content:"Libro no encontrado"});return}if(!await T.getInstance().existsList($.user.id,D.Titulo)){await $.editReply({content:"Libro no encontrado en ninguna lista"});return}let z=w.getInteger("p\xE1gina"),C=NG(z,D.Paginas);if(C){await $.editReply({content:C});return}await $.editReply({content:"P\xE1gina marcada con exito"}),await T.getInstance().markPage($.user.id,B,z)},autoComplete:async($)=>{let w=$.options,B=w.getFocused(!0);if(B.name=="t\xEDtulo"){let z=(await K.getInstance().getBooksNameAutocomplete(B.value,!0)).map((C)=>({name:C,value:C}));await $.respond(z)}else if(B.name=="p\xE1gina"){let D=[];setTimeout(async()=>{if(!$.responded)await $.respond(D)},2000);let z=await K.getInstance().getBookByTitle(w.getString("t\xEDtulo"));if(!z&&!$.responded){await $.respond([]);return}try{let C=B.value.trim().length==0?0:parseInt(B.value);for(let W=C;W<=z.Paginas&&D.length<25;W++)D.push({name:`${W}`,value:W})}catch(C){if(!$.responded)await $.respond([])}}}},Ww=MG;function NG($,w){return isNaN($)||$<0||$>w?`P\xE1gina no valida (debe ser un numero entre 1 y ${w})`:null}import{AttachmentBuilder as Gw,MessageFlags as FG,SlashCommandBuilder as JG}from"discord.js";import KB from"@tensorflow/tfjs-node";class t0{capas;modelo;static instance;static async getInstance(){if(!t0.instance)t0.instance=await this.loadModel("./models/recommender");return t0.instance}constructor(){this.capas=[1218,304,76,19,1],this.modelo=this.createModelo(),this.compile()}setModelo($){this.modelo=$}createModelo(){let $=KB.sequential();for(let w=1;w<this.capas.length;w++)$.add(KB.layers.dense({units:this.capas[w],inputShape:w==1?[this.capas[w-1]]:void 0,activation:w==this.capas.length-1?"sigmoid":void 0}));return $}compile(){this.modelo.compile({optimizer:"adam",loss:"meanSquaredError"})}async train($,w){await this.modelo.fit($,w,{epochs:100})}async predict($){let w=b0.getInstance().getPredict($);if(w)return w;let B=this.modelo.predict($);return b0.getInstance().savePredict($,B),B}async saveModel($){await this.modelo.save(`file://${$}`)}static async loadModel($){let w=await KB.loadLayersModel(`file://${$}/model.json`),B=new t0;return B.setModelo(w),B.compile(),B}}import u1 from"@tensorflow/tfjs-node";class s0{capas;encoder;decoder;autoencoder;static instance;static async getInstance(){if(!s0.instance)s0.instance=await this.loadModel("./models/autoencoder");return s0.instance}constructor(){this.capas=[3072,774,194],this.encoder=this.createEncoder(),this.decoder=this.createDecoder(),this.autoencoder=this.createAutoEncoder(),this.compile()}compile(){this.autoencoder.compile({optimizer:"adam",loss:"meanSquaredError"})}setEncoder($){this.encoder=$}setDecoder($){this.decoder=$}setAutoEncoder($){this.autoencoder=$}createEncoder(){let $=u1.sequential();for(let w=1;w<this.capas.length;w++)$.add(u1.layers.dense({units:this.capas[w],inputShape:w==1?[this.capas[w-1]]:void 0}));return $}createDecoder(){let $=u1.sequential(),w=this.capas.length-2;for(let B=w;B>=0;B--)$.add(u1.layers.dense({units:this.capas[B],inputShape:B==w?[this.capas[B+1]]:void 0}));return $}createAutoEncoder(){let $=u1.sequential();return $.add(this.encoder),$.add(this.decoder),$}async train($){await this.autoencoder.fit($,$,{epochs:100})}async encode($){let w=O0.getInstance().getEncoded($);if(w)return w;let B=this.encoder.predict($);return O0.getInstance().saveEncoded($,B),B}async decode($){return this.decoder.predict($)}async encodeDecode($){return this.autoencoder.predict($)}async saveModel($){await this.autoencoder.save(`file://${$}`)}static async loadModel($){let w=await u1.loadLayersModel(`file://${$}/model.json`),B=new s0;return B.setAutoEncoder(w),B.setEncoder(w.layers[0]),B.setDecoder(w.layers[1]),B.compile(),B}}import AG from"@tensorflow/tfjs-node";var fG={data:new JG().setName("recomiendame").setDescription("Te recomienda un libro").addSubcommand(($)=>$.setName("similares").setDescription("Te recomienda libros en base a los libros que has leido")).addSubcommand(($)=>$.setName("inteligente").setDescription("(BETA) Te recomienda libros en base a los libros que has leido usando IA")),execute:async($)=>{switch(await $.deferReply({flags:FG.Ephemeral}),$.options.getSubcommand()){case"similares":await Ew($);break;case"inteligente":await RG($);break}}},Qw=fG;async function Ew($){let w=$.user.id,[B,D,z]=await Promise.all([T.getInstance().getList(w,0),T.getInstance().getList(w,1),T.getInstance().getList(w,2)]),C=[...B,...D,...z],W=B;if(W.length==0)W=D;if(W.length==0)W=z;if(W.length==0){await $.editReply({content:"No has leido ningun libro y no podemos sugerirte similares"});return}let E=await K.getInstance().getBookByTitle(W[Math.floor(Math.random()*W.length)]),Q=await K.getInstance().getSimilarBooks(E,C);if(!Q||Q.length==0){await $.editReply({content:"Nos quedan libros por recomendarte"});return}let L=Q[Math.floor(Math.random()*Q.length)],G=Buffer.from(L.Imagen),Y=new Gw(G,{name:"imagen.jpg"}),h=c(L,`Para mas informaci\xF3n usa el comando /verlibro | En base a ${E.Titulo}`,await T.getInstance().getNotaMedia(L.Titulo));await $.editReply({embeds:[h],files:[Y]})}async function RG($){let w=$.user.id,B=await e.getInstance().getNotas(w),D=[],z;if(!B){let[Y,h]=await Promise.all([s0.getInstance(),t0.getInstance()]),I=await CB(w),H=I.reshape([1,3072]),Z=Y.encode(H);I.dispose();let[x,L0,b1]=await Promise.all([T.getInstance().getList(w,0),T.getInstance().getList(w,1),T.getInstance().getList(w,2)]),x1=[...x,...L0,...b1],z0=await K.getInstance().getAllBooks();z0=z0.filter((S0)=>!x1.includes(S0));let l1=(await Z).reshape([194]);H.dispose();for(let S0 of z0){let n0=await wB(S0),Z$=AG.concat([n0,l1]),yC=Z$.reshape([1,1218]),mC=await h.predict(yC),Q9=mC.dataSync()[0];mC.dispose(),yC.dispose(),Z$.dispose(),n0.dispose(),D.push({libro:S0,nota:Q9})}if(l1.dispose(),D.length==0){await Ew($);return}z=D.sort((S0,n0)=>n0.nota-S0.nota),e.getInstance().setNotas(w,z)}else z=B;let C=Math.random()<=0.9,W;if(C)W=z[Math.floor(Math.random()*z.length/2)];else W=z[0];let E=await K.getInstance().getBookByTitle(W.libro),Q=Buffer.from(E.Imagen),L=new Gw(Q,{name:"imagen.jpg"}),G=c(E,`Para mas informaci\xF3n usa el comando /verlibro | Nota predecida: ${(W.nota*10).toFixed(2)}`,await T.getInstance().getNotaMedia(E.Titulo));await $.editReply({embeds:[G],files:[L]})}import{ActionRowBuilder as hB,AttachmentBuilder as IB,ButtonBuilder as p0,ButtonStyle as r0,EmbedBuilder as SG,MessageFlags as Yw,SlashCommandBuilder as OG}from"discord.js";var k0={data:new OG().setName("verlibro").setDescription("Ver un libro en concreto").addStringOption(($)=>$.setName("busqueda").setDescription("El nombre del libro o una descripcion empezada por d:").setRequired(!0).setAutocomplete(!0)),execute:async($)=>{await $.deferReply();let B=$.options.getString("busqueda"),D=await K.getInstance().getBookByTitle(B);if(!D){await $.followUp({content:"Libro no encontrado",flags:Yw.Ephemeral});return}let z=T.getInstance(),[C,W]=await Promise.all([z.getNotaMedia(D.Titulo),z.getUserBookInfo($.user.id,D.Titulo)]),E=c(D,"Puedes ayudar a\xF1adiendo libros con el comando /a\xF1adirlibro",C,W.Pagina,W.Nota),Q=Buffer.from(D.Imagen),L=new IB(Q,{name:"imagen.jpg"}),G=new p0().setCustomId(`${k0.data.name}|leido`).setLabel("Leido").setStyle(r0.Success),Y=new p0().setCustomId(`${k0.data.name}|enprogreso`).setLabel("En progreso").setStyle(r0.Primary),h=new p0().setCustomId(`${k0.data.name}|planeandoleer`).setLabel("Planeando leer").setStyle(r0.Secondary),I=new p0().setCustomId(`${k0.data.name}|similares`).setLabel("Libros similares").setStyle(r0.Danger),H=new hB().addComponents(G,Y,h,I);await $.editReply({embeds:[E],files:[L],components:[H]})},autoComplete:async($)=>{let B=$.options.getFocused(),D=B.startsWith("d:"),C=(await K.getInstance().getBooksNameAutocomplete(D?B.substring(2):B,!D)).map((W)=>({name:W,value:W}));try{await $.respond(C)}catch(W){}return},buttons:async($)=>{if($.customId==="planeandoleer")await q0($,"Libro marcado como planeando leer");else if($.customId==="enprogreso")await q0($,"Libro marcado como en progreso");else if($.customId==="leido")await q0($,"Libro marcado como leido");else if($.customId==="similares")await $.deferReply({flags:Yw.Ephemeral}),await qG($);else if($.customId.split("|")[0]==="Similares"){await $.deferUpdate();let w=$.message.embeds[0].footer.text.split(" | ");if(w[1].split(" ")[1]!==$.user.id)return;let B=$.customId.split("|")[1],D=w[2],W=w[0].split(" ")[1].split("/"),E=parseInt(W[0]),Q=parseInt(W[1]);if(B==="siguiente"){if(E<Q)E++}else if(B==="atras"){if(E>1)E--}await bG($,E-1,D)}}},Xw=k0;async function bG($,w,B){if(new SG($.message.embeds[0]).data.footer.text.split(" | ")[1].trim().split(" ")[1]!==$.user.id)return;let W=await K.getInstance().getBookByTitle(B),E=await K.getInstance().getSimilarBooks(W),Q=c(E[w],`Libro: ${w+1}/${E.length} | userid: ${$.user.id} | ${B}`,await T.getInstance().getNotaMedia(E[w].Titulo)),L=Buffer.from(E[w].Imagen),G=new IB(L,{name:"imagen.jpg"}),Y=new p0().setCustomId(`${k0.data.name}|Similares|atras`).setLabel("Anterior").setStyle(r0.Secondary).setDisabled(w===0),h=new p0().setCustomId(`${k0.data.name}|Similares|siguiente`).setLabel("Siguiente").setStyle(r0.Success).setDisabled(w===E.length-1),I=new hB().addComponents([Y,h]);await $.editReply({embeds:[Q],files:[G],components:[I]})}async function qG($){let w=$.message.embeds[0].title;if(!w){await $.editReply({content:"Libro no encontrado"});return}let B=await K.getInstance().getBookByTitle(w);if(!B){await $.editReply({content:"Libro no encontrado"});return}let D=await K.getInstance().getSimilarBooks(B);if(!D){await $.editReply({content:"No se encontraron libros similares"});return}let z=c(D[0],`Libro: 1/${D.length} | userid: ${$.user.id} | ${w}`,await T.getInstance().getNotaMedia(D[0].Titulo)),C=Buffer.from(D[0].Imagen),W=new IB(C,{name:"imagen.jpg"}),E=new p0().setCustomId(`${k0.data.name}|Similares|atras`).setLabel("Anterior").setStyle(r0.Secondary).setDisabled(!0),Q=new p0().setCustomId(`${k0.data.name}|Similares|siguiente`).setLabel("Siguiente").setStyle(r0.Success),L=new hB().addComponents([E,Q]);await $.editReply({embeds:[z],files:[W],components:[L]})}var UB={actualizar:nC,analizar:tC,a\u{f1}adirlibro:pC,borrarlibro:rC,calificar:oC,libroaleatorio:$w,listas:Dw,marcapaginas:Ww,recomiendame:Qw,verlibro:Xw};class l{static instance;commands=new kG;static getInstance(){if(!l.instance)l.instance=new l;return l.instance}constructor(){this.loadCommands()}getCommandsJSON(){return this.commands.map(($)=>({data:$.data.toJSON(),guildOnly:$.guildOnly}))}execute($){let w=this.getCommand($.commandName);if(!w)return;try{w.execute($)}catch(B){console.error(B)}}autoComplete($){let w=this.getCommand($.commandName);if(!w)return;try{w.autoComplete($)}catch(B){console.error(B)}}buttons($){let w=$.customId.split("|"),B=this.getCommand(w[0]);if($.customId=w.slice(1).join("|"),!B)return;try{B.buttons($)}catch(D){console.error(D)}}selectMenu($){let w=$.customId.split("|"),B=this.getCommand(w[0]);if($.customId=w.slice(1).join("|"),!B)return;try{B.selectMenu($)}catch(D){console.error(D)}}getCommandNames(){return this.commands.map(($)=>$.data.name)}getCommand($){return this.commands.get($)}loadCommands(){for(let $ of Object.keys(UB)){let w=UB[$];if(!w)return;this.commands.set(w.data.name,w)}}getCommands(){return this.commands.map(($)=>({name:$.data.name,value:$.data.name}))}}import{Database as cG}from"bun:sqlite";class f{static instance;database;constructor(){this.database=new cG("./database.db")}static getInstance(){if(!f.instance)f.instance=new f;return f.instance}async executeQuery($,w=[]){return this.database.query($).all(...w)}}var W9=T9(D9(),1);var $B=($)=>{return $.normalize("NFD").replace(/[\u0300-\u036f]/g,"")},BB=($)=>{return $.replaceAll(" ","-")},i0=_0.getInstance();class y{static instance;pinecone;index;static getInstance(){if(!y.instance)y.instance=new y;return y.instance}constructor(){this.pinecone=new W9.Pinecone({apiKey:process.env.PINECONE_API_KEY}),this.index=this.pinecone.index(process.env.PINECONE_INDEX)}async embedPassage($){let w=i0.embedPassage($);if(w)return w;let B=(await this.pinecone.inference.embed(process.env.PINECONE_MODEL,[$],{inputType:"passage",truncate:"END"}))[0].values;return i0.saveEmbedPassage($,B),B}async embedQuery($){let w=i0.embedQuery($);if(w)return w;let B=(await this.pinecone.inference.embed(process.env.PINECONE_MODEL,[$],{inputType:"query",truncate:"END"}))[0].values;return i0.saveEmbedQuery($,B),B}async insertBook($){let w=`Titulo: ${$.Titulo}
Sinopsis: ${$.Sinopsis}
Autor: ${$.Autor}
Generos: ${$.Generos}
Paginas: ${$.Paginas}`;await this.index.namespace(process.env.PINECONE_NAMESPACE).upsert([{id:BB($B($.Titulo)),values:await this.embedPassage(w),metadata:{titulo:$.Titulo,text:w}}])}async query($,w){let B=i0.query($,w);if(B)return B;w.vector=await this.embedQuery($);let D=await this.index.namespace(process.env.PINECONE_NAMESPACE).query(w);return i0.saveQuery($,w,D),D}async fetch($){let w=i0.fetch($);if(w)return w;let B=await this.index.namespace(process.env.PINECONE_NAMESPACE).fetch([BB($B($))]);return i0.saveFetch($,B),B}async fetchMultiple($){let w=[];for(let D=0;D<$.length;D++)w.push(this.fetch($[D]));return await Promise.all(w)}async getEmbedding($){return(await this.fetch($)).records[BB($B($))].values}async getEmbeddings($){return(await this.fetchMultiple($)).map((D)=>D.records[Object.keys(D.records)[0]].values)}async delete($){i0.delete($),await this.index.namespace(process.env.PINECONE_NAMESPACE).deleteOne(BB($B($)))}async updateBook($,w){await this.delete($),await this.insertBook(w)}async similarBooks($,w=[]){let B=`Titulo: ${$.Titulo}
Sinopsis: ${$.Sinopsis}
Autor: ${$.Autor}
Generos: ${$.Generos}
Paginas: ${$.Paginas}`;return(await this.query(B,{topK:5,includeMetadata:!0,filter:{titulo:{$nin:w.concat([$.Titulo])}},vector:[]})).matches.map((z)=>z.metadata.titulo)}async getBooksNameAutocomplete($,w=25){return(await this.query($,{topK:w,includeMetadata:!0,vector:[]})).matches.map((z)=>z.metadata.titulo)}}class T{static instance;constructor(){}static getInstance(){if(!T.instance)T.instance=new T;return T.instance}async updateBook($,w){await f.getInstance().executeQuery("UPDATE Listas SET TituloLibro = ? WHERE TituloLibro = ?",[w,$])}async deleteBook($){await f.getInstance().executeQuery("DELETE FROM Listas WHERE TituloLibro = ?",[$])}async existsList($,w){let B=w?N.getInstance().getExistsListBook($,w):N.getInstance().getExistsList($);if(B)return B;let z=(await f.getInstance().executeQuery(w?"SELECT 1 FROM Listas WHERE UserID = ? AND TituloLibro = ? LIMIT 1":"SELECT 1 FROM Listas WHERE UserID = ? LIMIT 1",w?[$,w]:[$])).length>0;return w?N.getInstance().saveExistsListBook($,w,z):N.getInstance().saveExistsList($,z),z}async getList($,w,B){let D=B?N.getInstance().getList($,B,w):N.getInstance().getListNoOffset($,w);if(D)return D;let C=(await f.getInstance().executeQuery(B?`SELECT * FROM Listas WHERE userID = ? AND Estado = ? LIMIT ${E0} OFFSET ?`:"SELECT TituloLibro FROM Listas WHERE userID = ? AND Estado = ?",B?[$,w,B]:[$,w])).map((W)=>W.TituloLibro);return B?N.getInstance().saveList($,B,w,C):N.getInstance().saveListNoOffset($,w,C),C}async getListCount($,w){return(await f.getInstance().executeQuery("SELECT COUNT(*) as count FROM Listas WHERE UserID = ? AND Estado = ?",[$,w]))[0].count}async getLeidosOrLeyendo($){return(await f.getInstance().executeQuery("SELECT TituloLibro FROM Listas WHERE userID = ? AND (Estado = 1 OR Estado = 0)",[$])).map((B)=>{return B.TituloLibro})}async unmarkBook($,w){if(!await this.existsList($,w))return;await f.getInstance().executeQuery("DELETE FROM Listas WHERE userID = ? AND TituloLibro = ?",[$,w]);let B=N.getInstance();B.resetList($),B.resetListNoOffset($),B.resetExistsList($)}async markBook($,w,B){await f.getInstance().executeQuery("INSERT INTO Listas (userID, TituloLibro, Estado) VALUES (?, ?, ?) ON CONFLICT (userID, TituloLibro) DO UPDATE SET Estado = excluded.Estado",[$,w,B]);let D=N.getInstance();D.saveExistsList($,!0),D.resetList($),D.resetListNoOffset($)}async markPage($,w,B){await f.getInstance().executeQuery("UPDATE Listas SET Pagina = ? WHERE userID = ? AND TituloLibro = ?",[B,$,w]),N.getInstance().resetUserBookInfo($,w)}async getUserBookInfo($,w){let B=N.getInstance().getUserBookInfo($,w);if(B)return B;let D=await f.getInstance().executeQuery("SELECT Pagina, Nota FROM Listas WHERE userID = ? AND TituloLibro = ?",[$,w]);if(D.length==0)return N.getInstance().saveUserBookInfo($,w,{Pagina:-1,Nota:-1}),{Pagina:-1,Nota:-1};let z={Pagina:D[0].Pagina,Nota:D[0].Nota};return N.getInstance().saveUserBookInfo($,w,z),z}async getNotaMedia($){let w=N.getInstance().getNotaMedia($);if(w)return w;let B=await f.getInstance().executeQuery("SELECT AVG(Nota), COUNT(Nota) FROM Listas WHERE TituloLibro = ?",[$]),D={media:B[0]["AVG(Nota)"],count:B[0]["COUNT(Nota)"]};return N.getInstance().saveNotaMedia($,D),D}async setNota($,w,B){await f.getInstance().executeQuery("UPDATE Listas SET Nota = ? WHERE userID = ? AND TituloLibro = ?",[B,$,w]),N.getInstance().resetNotaMedia(w)}async deleteNota($,w){await f.getInstance().executeQuery("UPDATE Listas SET Nota = NULL WHERE userID = ? AND TituloLibro = ?",[$,w]),N.getInstance().deleteNota($,w)}async getAllIds(){return(await f.getInstance().executeQuery("SELECT DISTINCT userID FROM Listas")).map((w)=>w.userID)}async getTitleNotaPairs(){return(await f.getInstance().executeQuery("SELECT userID, TituloLibro, Nota, Estado FROM Listas WHERE Estado = 0 OR Estado = 1")).map((B)=>{return{id:B.userID,titulo:B.TituloLibro,nota:B.Nota==null?B.Estado==0?5.2:5:B.Nota}})}}class K{static instance;constructor(){}static getInstance(){if(!K.instance)K.instance=new K;return K.instance}async getAllBooks(){let $=N.getInstance().getAllBooks();if($)return $;let B=(await f.getInstance().executeQuery("SELECT Titulo FROM Libros")).map((D)=>D.Titulo);return N.getInstance().setAllBooks(B),B}async insertBook($){await Promise.all([f.getInstance().executeQuery("INSERT INTO Libros (Titulo, Autor, Generos, Paginas, Sinopsis, Imagen) VALUES (?1, ?2, ?3, ?4, ?5, ?6);",[$.Titulo,$.Autor,$.Generos,$.Paginas,$.Sinopsis,$.Imagen]),y.getInstance().insertBook($)]),e.getInstance().resetAll(),N.getInstance().updateCachesInsert($.Titulo);return}async getBookByTitle($){let w=N.getInstance().getBookByTitle($);if(w)return w;let D=(await f.getInstance().executeQuery("SELECT * FROM Libros WHERE Titulo = ?1;",[$]))[0];if(!D)return;return N.getInstance().saveBookByTitle($,D),D}async updateBookField($,w,B){let D=await this.getBookByTitle($);if(!D)throw new Error(`Book with title "${$}" not found in update.`);D[w]=B;let z=[y.getInstance().updateBook($,D),f.getInstance().executeQuery(`UPDATE Libros SET ${w} = ? WHERE Titulo = ?;`,[B,$])];if(w==="Titulo"&&typeof B==="string")z.push(T.getInstance().updateBook($,B));await Promise.all(z),e.getInstance().resetAll(),D0.getInstance().resetAll(),N.getInstance().updateCachesDelete($),t.getInstance().eventBook(D,`Se ha actualizado el campo: ${w} del libro: ${$}`);return}async getSimilarBooks($,w=[]){let B=await y.getInstance().similarBooks($,w),D=[];for(let C=0;C<B.length;C++)D.push(this.getBookByTitle(B[C]));return await Promise.all(D)}async removeBook($){await Promise.all([y.getInstance().delete($),f.getInstance().executeQuery("DELETE FROM Libros WHERE Titulo = ?1;",[$]),T.getInstance().deleteBook($)]),N.getInstance().updateCachesDelete($);return}async randomBooks($){return await f.getInstance().executeQuery("SELECT * FROM Libros ORDER BY RANDOM() LIMIT ?1;",[$])}async getBooksNameAutocomplete($,w,B){if(B=B??25,!w)return await y.getInstance().getBooksNameAutocomplete($,B);let D=N.getInstance().getBooksNameAutocomplete($);if(D)return D;let z=$.trim()!=="",W=(await f.getInstance().executeQuery(z?"SELECT Titulo FROM Libros WHERE Titulo LIKE ?1 ORDER BY Titulo ASC LIMIT 25;":"SELECT Titulo FROM Libros ORDER BY Titulo ASC LIMIT 25;",z?[`%${$}%`]:[])).map((E)=>{return E.Titulo});return N.getInstance().saveBooksNameAutocomplete($,W),W}}import{Events as fh}from"discord.js";var Rh={name:fh.InteractionCreate,async execute($){if($.isCommand()){QB($);return}if($.isAutocomplete()){YB($);return}if($.isButton()){XB($);return}if($.isStringSelectMenu()){EB($);return}}},G9=Rh;import{Events as Sh}from"discord.js";var Oh={name:Sh.ClientReady,once:!0,async execute($){console.log("Conectado a discord");let w=await $.channels.fetch(dC);if(w)w.send(`conectado <t:${Math.floor(Date.now()/1000)}:F>`)}},E9=Oh;var kC={interactionCreate:G9,ready:E9};class o1{client;static instance;static getInstance(){if(!o1.instance)o1.instance=new o1;return o1.instance}constructor(){this.createClient(),this.loadEvents(),this.prepareManagers(),this.login()}createClient(){this.client=new bh({intents:[cC.GuildMessages,cC.Guilds,cC.DirectMessages]})}loadEvents(){for(let $ of Object.keys(kC)){let w=kC[$];if(w.once)this.client.once(w.name,(...B)=>w.execute(...B));else this.client.on(w.name,(...B)=>w.execute(...B))}}prepareManagers(){l.getInstance(),t.getInstance().setClient(this.client)}login(){this.client.login(process.env.DISCORD_TOKEN)}getClient(){return this.client}}o1.getInstance();export{o1 as DiscordBot};

//# debugId=B154CFDC955369E364756E2164756E21
//# sourceMappingURL=index.js.map
